
> directorymonster@0.1.0 test:e2e
> npm run clear-redis-users && jest "tests/e2e/first-user.test.js" --testTimeout=60000 && jest "tests/e2e/login.test.js" "tests/e2e/admin-dashboard.test.js" "tests/e2e/homepage.test.js" "tests/e2e/categories.test.js" --testTimeout=60000 --verbose


> directorymonster@0.1.0 clear-redis-users
> bash scripts/clear-redis-users.sh

Clearing all users from Redis container: directorymonster-redis-1
No user keys found. Database is already clean.
  console.log
    Clearing all users before tests...

      at Object.log (tests/e2e/first-user.test.js:34:13)

  console.log
    Clear users response: {
      success: true,
      message: 'All users have been cleared',
      beforeCount: 0,
      afterCount: 0,
      remainingKeys: [
        'search:global:term:field',
        'search:global:term:backpack',
        'search:site_1742868616776:term:movement',
        'search:global:term:osprey',
        'category:site:site_1742860691651:reels',
        'search:global:term:comfort',
        'search:site_1742868616776:term:activity,',
        'site:fa599ec1-49e0-4f5e-8858-a4b4527daf38',
        'search:global:term:reel',
        'search:global:term:victorian-era',
        'search:site_1742868616776:term:jewish',
        'search:global:term:shimano',
        'search:site_1742868616776:term:smells,',
        'search:global:term:cabinet',
        'search:site_1742860996072:term:comfort',
        'search:site_1742860996072:term:osprey atmos ag 65',
        'search:global:term:st. croix legend x casting rod',
        'search:site_1742860691651:term:spinning-reel',
        'search:site_1742863385593:term:legend',
        'search:site_1742868616776:term:the',
        'search:global:term:mirror',
        'search:global:term:spinning',
        'search:site_1742868616776:term:figures',
        'listing:site:site_1742868616776:annabelle-replica-documented-paranormal-activity',
        'search:global:term:authentic',
        'search:global:term:1880s',
        'search:site_1742860691651:term:review',
        'listing:category:category_1742868637134:cursed-victorian-locket',
        'search:site_1742868616776:term:its',
        'category:site:site_1742863385593:rods',
        'search:site_1742860691651:term:casting-rod',
        'category:site:site_1742860691651:rods',
        'listing:site:site_1742868616776:cursed-victorian-locket',
        'listing:site:site_1742860691651:shimano-stradic-fl-spinning-reel-review',
        'search:site_1742863385593:term:testing',
        'search:global:term:durability',
        'search:global:term:legend',
        'category:id:category_2',
        'site:id:site_1742860691651',
        'search:site_1742868616776:term:nightmares,smells,shadow-figures,electrical-disturbances',
        'search:site_1742860996072:term:analysis',
        'domains:localhost',
        'listing:site:site_1742863385593:shimano-stradic-fl-spinning-reel-review',
        'search:listing:listing_1742868722034:terms',
        'listing:site:site_1742868616776:haunted-victorian-porcelain-doll-paranormal-activity-documented',
        'search:global:term:shimano stradic fl spinning reel',
        'search:site_1742868616776:term:movements',
        'search:global:term:used',
        'search:global:term:capacity',
        'search:listing:listing_1742869091196:terms',
        'search:global:term:night',
        'listing:category:category_1:st-croix-legend-x-casting-rod-review',
        'search:global:term:paranormal',
        'search:site_1742868616776:term:famous',
        'site:f7ca4122-8d83-4777-870f-87be09065a0d',
        'search:global:term:shadowy',
        'search:site_1742868616776:term:documented',
        'search:listing:listing_1742861073159:terms',
        'search:site_1742863385593:term:shimano',
        'search:site_1742860691651:term:and',
        'search:site_1742860691651:term:tests',
        'site:b57717ba-99d4-4b6c-a712-e6f354f4a40f',
        'search:global:term:in-depth',
        'listing:id:listing_1742868656326',
        'search:global:term:comprehensive',
        'search:site_1742868616776:term:including',
        'domain:hikinggearreviews.com',
        'search:site_1742860691651:term:field',
        'search:site_1742868616776:term:haunted',
        'listing:category:category_1742868627446:annabelle-replica-documented-paranormal-activity',
        'category:id:category_1742868637134',
        'search:global:term:65l',
        'search:global:term:witness',
        'search:site_1742860996072:term:backpack',
        'search:global:term:testimony',
        'search:site_1742863385593:term:reel',
        'search:site_1742860691651:term:stradic',
        'search:global:term:and',
        'search:site_1742863385593:term:results',
        'listing:category:category_1742868640377:victorian-haunted-mirror',
        'search:global:term:century',
        'search:site_1742860996072:term:65l',
        'listing:site:site_1742860691651:st-croix-legend-x-casting-rod-review',
        'search:global:term:victorian',
        'search:global:term:hiking',
        'search:global:term:casting-rod',
        'search:site_1742860691651:term:in-depth',
        'search:site_1742863385593:term:comprehensive',
        'search:site_1742868616776:term:own,',
        'search:site_1742868616776:term:antique',
        'search:global:term:antique dybbuk box',
        'search:site_1742860691651:term:analysis',
        'listing:site:site_1742868616776:haunted-dybbuk-box-jewish-wine-cabinet',
        'search:site_1742868616776:term:movement,sounds,electronic-interference',
        'search:global:term:own,',
        'search:site_1742860996072:term:in-depth',
        'listing:site:site_1742860996072:osprey-atmos-ag-65-backpack-review',
        'search:global:term:results',
        'search:global:term:movements',
        'search:site_1742868616776:term:sounds',
        ... 217 more items
      ]
    }

      at Object.log (tests/e2e/first-user.test.js:40:15)

  console.log
    Navigating to login page

      at Object.log (tests/e2e/first-user.test.js:102:13)

  console.log
    Login page loaded

      at Object.log (tests/e2e/first-user.test.js:108:13)

  console.log
    Navigating to login page for user creation test

      at Object.log (tests/e2e/first-user.test.js:211:13)

  console.log
    Login page loaded for user creation test

      at Object.log (tests/e2e/first-user.test.js:216:13)

  console.log
    Required form fields not found, skipping test

      at Object.log (tests/e2e/first-user.test.js:230:15)

FAIL tests/e2e/first-user.test.js (7.551 s)
  First User Creation
    Ã— Redirects to first user setup when set to first-user mode (2209 ms)
    Ã— Shows validation errors for invalid first user form submission (1237 ms)
    âˆš Successfully creates first admin user and redirects to dashboard (1326 ms)
    Ã— Shows normal login form after first user is created (1657 ms)

  â— First User Creation â€º Redirects to first user setup when set to first-user mode

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 137 |[39m
     [90m 138 |[39m     [90m// Either the page content or form elements should indicate we're on a setup page[39m
    [31m[1m>[22m[39m[90m 139 |[39m     expect(isSetupPage [33m||[39m hasSetupForm)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                         [31m[1m^[22m[39m
     [90m 140 |[39m
     [90m 141 |[39m     [90m// Take a screenshot for verification[39m
     [90m 142 |[39m     [36mawait[39m page[33m.[39mscreenshot({ path[33m:[39m [32m'first-user-setup.png'[39m })[33m;[39m[0m

      at Object.toBe (tests/e2e/first-user.test.js:139:41)

  â— First User Creation â€º Shows validation errors for invalid first user form submission

    expect(received).not.toBeNull()

    Received: null

    [0m [90m 159 |[39m     [36mconst[39m submitButton [33m=[39m [36mawait[39m page[33m.[39m$([32m'button[type="submit"], input[type="submit"]'[39m)[33m;[39m
     [90m 160 |[39m
    [31m[1m>[22m[39m[90m 161 |[39m     expect(usernameField)[33m.[39mnot[33m.[39mtoBeNull()[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 162 |[39m     expect(passwordField)[33m.[39mnot[33m.[39mtoBeNull()[33m;[39m
     [90m 163 |[39m     expect(submitButton)[33m.[39mnot[33m.[39mtoBeNull()[33m;[39m
     [90m 164 |[39m     [0m

      at Object.toBeNull (tests/e2e/first-user.test.js:161:31)

  â— First User Creation â€º Shows normal login form after first user is created

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 341 |[39m     })[33m;[39m
     [90m 342 |[39m
    [31m[1m>[22m[39m[90m 343 |[39m     expect(isLoginPage)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 344 |[39m     expect(hasSetupElements)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 345 |[39m
     [90m 346 |[39m     [90m// Find username and password fields of the normal login form[39m[0m

      at Object.toBe (tests/e2e/first-user.test.js:343:25)

Failed to collect coverage from C:\Users\T\directorymonster\src\components\admin\sites\hooks\useDomains.ts
ERROR: 
  [31mx[0m Return statement is not allowed here
     ,-[[36;1;4mC:\Users\T\directorymonster\src\components\admin\sites\hooks\useDomains.ts[0m:217:1]
 [2m217[0m |         }
 [2m218[0m |       };
 [2m219[0m |     
 [2m220[0m | [31;1m,[0m[31;1m-[0m[31;1m>[0m   return {
 [2m221[0m | [31;1m|[0m       // State
 [2m222[0m | [31;1m|[0m       domains,
 [2m223[0m | [31;1m|[0m       domainInput,
 [2m224[0m | [31;1m|[0m       isLoading,
 [2m225[0m | [31;1m|[0m       success,
 [2m226[0m | [31;1m|[0m       error,
 [2m227[0m | [31;1m|[0m       errors,
 [2m228[0m | [31;1m|[0m       
 [2m229[0m | [31;1m|[0m       // Actions
 [2m230[0m | [31;1m|[0m       setDomainInput,
 [2m231[0m | [31;1m|[0m       addDomain,
 [2m232[0m | [31;1m|[0m       removeDomain,
 [2m233[0m | [31;1m|[0m       validateDomains,
 [2m234[0m | [31;1m|[0m       submitDomains,
 [2m235[0m | [31;1m|[0m       handleInputChange,
 [2m236[0m | [31;1m|[0m       
 [2m237[0m | [31;1m|[0m       // Reset functions
 [2m238[0m | [31;1m|[0m       resetErrors: () => setErrors({}),
 [2m239[0m | [31;1m|[0m       resetStatus: () => {
 [2m240[0m | [31;1m|[0m         setError(null);
 [2m241[0m | [31;1m|[0m         setSuccess(null);
 [2m242[0m | [31;1m|[0m       }
 [2m243[0m | [31;1m`[0m[31;1m-[0m[31;1m>[0m   };
 [2m244[0m |     };
 [2m245[0m |     
 [2m246[0m |     // Export default for backward compatibility
     `----

  [31mx[0m Expression expected
     ,-[[36;1;4mC:\Users\T\directorymonster\src\components\admin\sites\hooks\useDomains.ts[0m:241:1]
 [2m241[0m |       setSuccess(null);
 [2m242[0m |     }
 [2m243[0m |   };
 [2m244[0m | };
     : [31;1m^[0m
 [2m245[0m | 
 [2m246[0m | // Export default for backward compatibility
 [2m247[0m | export default useDomains;
     `----


Caused by:
    Syntax Error
STACK: Error: 
  [31mx[0m Return statement is not allowed here
     ,-[[36;1;4mC:\Users\T\directorymonster\src\components\admin\sites\hooks\useDomains.ts[0m:217:1]
 [2m217[0m |         }
 [2m218[0m |       };
 [2m219[0m |     
 [2m220[0m | [31;1m,[0m[31;1m-[0m[31;1m>[0m   return {
 [2m221[0m | [31;1m|[0m       // State
 [2m222[0m | [31;1m|[0m       domains,
 [2m223[0m | [31;1m|[0m       domainInput,
 [2m224[0m | [31;1m|[0m       isLoading,
 [2m225[0m | [31;1m|[0m       success,
 [2m226[0m | [31;1m|[0m       error,
 [2m227[0m | [31;1m|[0m       errors,
 [2m228[0m | [31;1m|[0m       
 [2m229[0m | [31;1m|[0m       // Actions
 [2m230[0m | [31;1m|[0m       setDomainInput,
 [2m231[0m | [31;1m|[0m       addDomain,
 [2m232[0m | [31;1m|[0m       removeDomain,
 [2m233[0m | [31;1m|[0m       validateDomains,
 [2m234[0m | [31;1m|[0m       submitDomains,
 [2m235[0m | [31;1m|[0m       handleInputChange,
 [2m236[0m | [31;1m|[0m       
 [2m237[0m | [31;1m|[0m       // Reset functions
 [2m238[0m | [31;1m|[0m       resetErrors: () => setErrors({}),
 [2m239[0m | [31;1m|[0m       resetStatus: () => {
 [2m240[0m | [31;1m|[0m         setError(null);
 [2m241[0m | [31;1m|[0m         setSuccess(null);
 [2m242[0m | [31;1m|[0m       }
 [2m243[0m | [31;1m`[0m[31;1m-[0m[31;1m>[0m   };
 [2m244[0m |     };
 [2m245[0m |     
 [2m246[0m |     // Export default for backward compatibility
     `----

  [31mx[0m Expression expected
     ,-[[36;1;4mC:\Users\T\directorymonster\src\components\admin\sites\hooks\useDomains.ts[0m:241:1]
 [2m241[0m |       setSuccess(null);
 [2m242[0m |     }
 [2m243[0m |   };
 [2m244[0m | };
     : [31;1m^[0m
 [2m245[0m | 
 [2m246[0m | // Export default for backward compatibility
 [2m247[0m | export default useDomains;
     `----


Caused by:
    Syntax Error
    at Object.transformSync (C:\Users\T\directorymonster\node_modules\next\dist\build\swc\index.js:821:33)
    at transformSync (C:\Users\T\directorymonster\node_modules\next\dist\build\swc\index.js:897:21)
    at process (C:\Users\T\directorymonster\node_modules\next\dist\build\swc\jest-transformer.js:64:45)
    at ScriptTransformer.transformSourceAsync (C:\Users\T\directorymonster\node_modules\@jest\transform\build\ScriptTransformer.js:599:25)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async generateEmptyCoverage (C:\Users\T\directorymonster\node_modules\@jest\reporters\build\generateEmptyCoverage.js:127:20)
-------------------------------------------------------------|---------|----------|---------|---------|-------------------
File                                                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------------------------------------------------|---------|----------|---------|---------|-------------------
All files                                                    |       0 |        0 |       0 |       0 |                   
 src                                                         |       0 |        0 |       0 |       0 |                   
  middleware.ts                                              |       0 |        0 |       0 |       0 | 1-49              
 src/app                                                     |       0 |        0 |       0 |       0 |                   
  layout.tsx                                                 |       0 |      100 |       0 |       0 | 2-66              
  not-found.tsx                                              |       0 |      100 |       0 |       0 | 1-3               
  page.tsx                                                   |       0 |        0 |       0 |       0 | 1-173             
  robots.ts                                                  |       0 |        0 |       0 |       0 | 2-9               
  sitemap.ts                                                 |       0 |      100 |       0 |       0 | 2-59              
 src/app/[categorySlug]                                      |       0 |        0 |       0 |       0 |                   
  page.tsx                                                   |       0 |        0 |       0 |       0 | 2-264             
 src/app/[categorySlug]/[listingSlug]                        |       0 |        0 |       0 |       0 |                   
  page.tsx                                                   |       0 |        0 |       0 |       0 | 2-350             
 src/app/admin                                               |       0 |      100 |       0 |       0 |                   
  layout.tsx                                                 |       0 |      100 |       0 |       0 | 4-11              
  page.tsx                                                   |       0 |      100 |       0 |       0 | 2-9               
 src/app/admin/categories                                    |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 1-4               
 src/app/admin/categories/new                                |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 1-4               
 src/app/admin/dashboard                                     |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 1-4               
 src/app/admin/forgot-password                               |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 3-6               
 src/app/admin/listings                                      |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 2-15              
 src/app/admin/listings/new                                  |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 1-4               
 src/app/admin/reset-password                                |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 3-8               
 src/app/admin/settings                                      |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 1-3               
 src/app/admin/sites                                         |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 1-5               
 src/app/admin/sites/[siteSlug]                              |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 1-5               
 src/app/admin/sites/[siteSlug]/categories                   |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 1-35              
 src/app/admin/sites/[siteSlug]/categories/[categoryId]/edit |       0 |        0 |       0 |       0 |                   
  page.tsx                                                   |       0 |        0 |       0 |       0 | 1-58              
 src/app/admin/sites/[siteSlug]/categories/new               |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 1-35              
 src/app/admin/sites/[siteSlug]/listings                     |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 1-35              
 src/app/admin/sites/new                                     |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 1-34              
 src/app/api/auth/check-users                                |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-36              
 src/app/api/auth/clear-users                                |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-37              
 src/app/api/auth/confirm-reset                              |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-71              
 src/app/api/auth/refresh                                    |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-70              
 src/app/api/auth/request-reset                              |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-67              
 src/app/api/auth/setup                                      |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-138             
 src/app/api/auth/verify                                     |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-156             
 src/app/api/debug/redis-del                                 |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 2-42              
 src/app/api/debug/redis-get                                 |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 2-48              
 src/app/api/debug/redis-keys                                |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 2-31              
 src/app/api/debug/redis-set                                 |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 2-48              
 src/app/api/healthcheck                                     |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-18              
 src/app/api/healthcheck/redis                               |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 2-29              
 src/app/api/products                                        |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-141             
 src/app/api/search                                          |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-48              
 src/app/api/site-info                                       |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-64              
 src/app/api/sites                                           |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-90              
 src/app/api/sites/[siteSlug]/categories                     |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-146             
 src/app/api/sites/[siteSlug]/listings                       |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-164             
 src/app/api/test                                            |       0 |      100 |       0 |       0 |                   
  route.ts                                                   |       0 |      100 |       0 |       0 | 1-16              
 src/app/api/test/clear-users                                |       0 |        0 |       0 |       0 |                   
  route.ts                                                   |       0 |        0 |       0 |       0 | 1-43              
 src/app/api/tests                                           |       0 |      100 |       0 |       0 |                   
  route.ts                                                   |       0 |      100 |       0 |       0 | 1-7               
 src/app/login                                               |       0 |      100 |       0 |       0 |                   
  page.tsx                                                   |       0 |      100 |       0 |       0 | 3-6               
 src/app/search                                              |       0 |        0 |       0 |       0 |                   
  loading.tsx                                                |       0 |      100 |       0 |       0 | 1-23              
  page.tsx                                                   |       0 |        0 |       0 |       0 | 2-38              
 src/components                                              |       0 |        0 |       0 |       0 |                   
  LinkUtilities.tsx                                          |       0 |        0 |       0 |       0 | 1-55              
  ListingCard.tsx                                            |       0 |        0 |       0 |       0 | 1-56              
  SiteHeader.tsx                                             |       0 |        0 |       0 |       0 | 1-54              
 src/components/admin                                        |       0 |      100 |     100 |       0 |                   
  index.ts                                                   |       0 |      100 |     100 |       0 | 4-17              
 src/components/admin/auth                                   |       0 |        0 |       0 |       0 |                   
  AuthContainer.tsx                                          |       0 |        0 |       0 |       0 | 3-123             
  FirstUserSetup.tsx                                         |       0 |        0 |       0 |       0 | 3-350             
  LogoutButton.tsx                                           |       0 |        0 |       0 |       0 | 3-47              
  PasswordResetForm.tsx                                      |       0 |        0 |       0 |       0 | 3-308             
  RoleGuard.tsx                                              |       0 |        0 |       0 |       0 | 3-38              
  SessionManager.tsx                                         |       0 |        0 |       0 |       0 | 3-221             
  ZKPLogin.tsx                                               |       0 |        0 |       0 |       0 | 3-331             
  index.ts                                                   |       0 |      100 |       0 |       0 | 5-32              
 src/components/admin/categories                             |       0 |        0 |       0 |       0 |                   
  CategoryForm.tsx                                           |       0 |        0 |       0 |       0 | 3-270             
  CategoryTable.tsx                                          |       0 |        0 |       0 |       0 | 3-274             
  index.ts                                                   |       0 |      100 |     100 |       0 | 2-8               
 src/components/admin/categories/components                  |       0 |        0 |       0 |       0 |                   
  CategoriesMobileView.tsx                                   |       0 |        0 |       0 |       0 | 3-103             
  CategoryErrorBoundary.tsx                                  |       0 |        0 |       0 |       0 | 3-39              
  CategoryTableEmptyState.tsx                                |       0 |        0 |       0 |       0 | 3-27              
  CategoryTableError.tsx                                     |       0 |        0 |       0 |       0 | 5-38              
  CategoryTableHeader.tsx                                    |       0 |        0 |       0 |       0 | 3-156             
  CategoryTablePagination.tsx                                |       0 |        0 |       0 |       0 | 3-80              
  CategoryTableRow.tsx                                       |       0 |        0 |       0 |       0 | 3-176             
  CategoryTableSkeleton.tsx                                  |       0 |      100 |       0 |       0 | 3-32              
  CategoryTableSortHeader.tsx                                |       0 |        0 |       0 |       0 | 3-44              
  DeleteConfirmationModal.tsx                                |       0 |        0 |       0 |       0 | 3-161             
  index.ts                                                   |       0 |      100 |     100 |       0 | 5-26              
 src/components/admin/categories/hooks                       |       0 |        0 |       0 |       0 |                   
  index.ts                                                   |       0 |      100 |     100 |       0 | 4-10              
  useCategories.ts                                           |       0 |        0 |       0 |       0 | 3-279             
 src/components/admin/dashboard                              |       0 |        0 |       0 |       0 |                   
  ActivityFeed.tsx                                           |       0 |        0 |       0 |       0 | 3-286             
  StatisticCards.tsx                                         |       0 |        0 |       0 |       0 | 3-203             
  index.ts                                                   |       0 |      100 |     100 |       0 | 6-14              
 src/components/admin/dashboard/components                   |       0 |        0 |       0 |       0 |                   
  ActivityFeedItem.tsx                                       |       0 |        0 |       0 |       0 | 3-141             
  StatisticCard.tsx                                          |       0 |        0 |       0 |       0 | 3-82              
  index.ts                                                   |       0 |      100 |     100 |       0 | 7-12              
 src/components/admin/dashboard/hooks                        |       0 |        0 |       0 |       0 |                   
  index.ts                                                   |       0 |      100 |     100 |       0 | 2-7               
  useActivityFeed.ts                                         |       0 |        0 |       0 |       0 | 3-171             
  useSiteMetrics.ts                                          |       0 |        0 |       0 |       0 | 3-124             
 src/components/admin/layout                                 |       0 |        0 |       0 |       0 |                   
  AdminHeader.tsx                                            |       0 |        0 |       0 |       0 | 3-144             
  AdminLayout.tsx                                            |       0 |      100 |       0 |       0 | 3-43              
  AdminSidebar.tsx                                           |       0 |        0 |       0 |       0 | 3-120             
  Breadcrumbs.tsx                                            |       0 |        0 |       0 |       0 | 3-67              
  WithAuth.tsx                                               |       0 |        0 |       0 |       0 | 3-54              
  index.ts                                                   |       0 |      100 |     100 |       0 | 4-18              
 src/components/admin/layout/icons                           |       0 |        0 |     100 |       0 |                   
  index.ts                                                   |       0 |      100 |     100 |       0 | 2-5               
  index.tsx                                                  |       0 |        0 |     100 |       0 | 1-97              
 src/components/admin/listings                               |       0 |        0 |       0 |       0 |                   
  ListingTable.tsx                                           |       0 |        0 |       0 |       0 | 3-200             
  index.ts                                                   |       0 |      100 |     100 |       0 | 5-11              
  utils.ts                                                   |       0 |        0 |       0 |       0 | 4-58              
 src/components/admin/listings/components                    |       0 |        0 |       0 |       0 |                   
  DeleteConfirmationModal.tsx                                |       0 |        0 |       0 |       0 | 3-96              
  ListingTableActions.tsx                                    |       0 |        0 |       0 |       0 | 3-56              
  ListingTableEmptyState.tsx                                 |       0 |        0 |       0 |       0 | 3-26              
  ListingTableError.tsx                                      |       0 |      100 |       0 |       0 | 3-34              
  ListingTableHeader.tsx                                     |       0 |        0 |       0 |       0 | 3-106             
  ListingTablePagination.tsx                                 |       0 |        0 |       0 |       0 | 3-77              
  ListingTableRow.tsx                                        |       0 |        0 |       0 |       0 | 4-62              
  ListingTableSkeleton.tsx                                   |       0 |        0 |       0 |       0 | 8-62              
  ListingTableSortHeader.tsx                                 |       0 |        0 |       0 |       0 | 3-38              
  ListingsMobileView.tsx                                     |       0 |        0 |       0 |       0 | 3-82              
  index.ts                                                   |       0 |      100 |     100 |       0 | 10-31             
 src/components/admin/listings/hooks                         |       0 |        0 |       0 |       0 |                   
  useListings.ts                                             |       0 |        0 |       0 |       0 | 3-258             
 src/components/admin/sites                                  |       0 |        0 |       0 |       0 |                   
  DomainManager.tsx                                          |       0 |        0 |       0 |       0 | 3-269             
  SEOSettings.tsx                                            |       0 |        0 |       0 |       0 | 3-546             
  SiteForm.tsx                                               |       0 |        0 |       0 |       0 | 3-512             
  SiteSettings.tsx                                           |       0 |        0 |       0 |       0 | 3-574             
  index.ts                                                   |       0 |      100 |     100 |       0 | 4-17              
 src/components/admin/sites/hooks                            |       0 |      100 |     100 |       0 |                   
  index.ts                                                   |       0 |      100 |     100 |       0 | 4-7               
 src/components/search                                       |       0 |        0 |       0 |       0 |                   
  SearchBar.tsx                                              |       0 |        0 |       0 |       0 | 3-118             
  SearchForm.tsx                                             |       0 |        0 |       0 |       0 | 3-99              
  SearchIcon.tsx                                             |       0 |        0 |       0 |       0 | 1-35              
  SearchResults.tsx                                          |       0 |        0 |       0 |       0 | 3-189             
  index.ts                                                   |       0 |      100 |     100 |       0 | 2-11              
 src/lib                                                     |       0 |        0 |       0 |       0 |                   
  redis-cache.ts                                             |       0 |        0 |       0 |       0 | 1-54              
  redis-client.ts                                            |       0 |        0 |       0 |       0 | 2-303             
  redis-health.ts                                            |       0 |        0 |       0 |       0 | 1-26              
  redis.ts                                                   |       0 |      100 |       0 |       0 | 1-4               
  search-indexer.ts                                          |       0 |        0 |       0 |       0 | 1-134             
  site-utils.ts                                              |       0 |        0 |       0 |       0 | 2-188             
  zkp.ts                                                     |       0 |      100 |       0 |       0 | 25-97             
 src/lib/zkp                                                 |       0 |        0 |       0 |       0 |                   
  index.ts                                                   |       0 |      100 |       0 |       0 | 17-62             
  provider.ts                                                |       0 |        0 |       0 |       0 | 2-42              
  snark-adapter.ts                                           |       0 |        0 |       0 |       0 | 2-227             
 src/middleware                                              |       0 |      100 |       0 |       0 |                   
  withRedis.ts                                               |       0 |      100 |       0 |       0 | 1-17              
 src/pages/api                                               |       0 |        0 |       0 |       0 |                   
  listings.ts                                                |       0 |        0 |       0 |       0 | 2-139             
 src/pages/api/debug                                         |       0 |        0 |       0 |       0 |                   
  auth-bypass.ts                                             |       0 |        0 |       0 |       0 | 2-51              
  env.ts                                                     |       0 |        0 |       0 |       0 | 3-4               
  module-paths.ts                                            |       0 |        0 |       0 |       0 | 2-35              
  redis-data.ts                                              |       0 |        0 |       0 |       0 | 2-35              
  site-resolver.ts                                           |       0 |        0 |       0 |       0 | 2-51              
-------------------------------------------------------------|---------|----------|---------|---------|-------------------
Test Suites: 1 failed, 1 total
Tests:       3 failed, 1 passed, 4 total
Snapshots:   0 total
Time:        9.049 s, estimated 11 s
Ran all test suites matching /tests\\e2e\\first-user.test.js/i.
