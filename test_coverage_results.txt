
> directorymonster@0.1.0 test:components
> jest "tests/admin/**/*.test.tsx" --coverage

  Invalid testPattern tests\\admin\\**\\*.test.tsx supplied. Running all tests instead.
  Invalid testPattern tests\\admin\\**\\*.test.tsx supplied. Running all tests instead.
(node:28548) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/integration/end-to-end/page-rendering.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

  ‚óè Page Rendering Tests ‚Ä∫ should properly render SEO metadata

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: undefined

    [0m [90m 171 |[39m       [90m// Verify canonical URL[39m
     [90m 172 |[39m       [36mconst[39m canonicalUrl [33m=[39m document[33m.[39mquerySelector([32m'link[rel="canonical"]'[39m)[33m?[39m[33m.[39mgetAttribute([32m'href'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 173 |[39m       expect(canonicalUrl)[33m.[39mtoContain(site[33m.[39mdomain [33m||[39m site[33m.[39mslug)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 174 |[39m     }
     [90m 175 |[39m   })[33m;[39m
     [90m 176 |[39m })[33m;[39m[0m

      at Object.toContain (tests/integration/end-to-end/page-rendering.test.ts:173:28)

(node:13364) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:28004) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:8372) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:51324) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:14836) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:13580) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:36304) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:57184) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:37052) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:12292) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:49216) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/admin/categories/hooks/useCategories.sorting.test.ts
  ‚óè Console

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.sorting.test.ts:19:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.sorting.test.ts:19:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.sorting.test.ts:31:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.sorting.test.ts:31:34)

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

    [0m [90m 32 |[39m     
     [90m 33 |[39m     [90m// Sort by name[39m
    [31m[1m>[22m[39m[90m 34 |[39m     act(() [33m=>[39m {
     [90m    |[39m        [31m[1m^[22m[39m
     [90m 35 |[39m       result[33m.[39mcurrent[33m.[39mhandleSort([32m'name'[39m)[33m;[39m
     [90m 36 |[39m     })[33m;[39m
     [90m 37 |[39m     [0m

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.sorting.test.ts:34:8)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.sorting.test.ts:49:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.sorting.test.ts:49:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.sorting.test.ts:71:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.sorting.test.ts:71:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.sorting.test.ts:96:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.sorting.test.ts:96:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.sorting.test.ts:121:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.sorting.test.ts:121:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.sorting.test.ts:150:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.sorting.test.ts:150:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.sorting.test.ts:172:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.sorting.test.ts:172:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.sorting.test.ts:197:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.sorting.test.ts:197:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.sorting.test.ts:254:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.sorting.test.ts:254:34)

  ‚óè useCategories Hook - Sorting ‚Ä∫ should reset to asc when changing sort field

    expect(received).toBe(expected) // Object.is equality

    Expected: "desc"
    Received: "asc"

    [0m [90m 157 |[39m     
     [90m 158 |[39m     expect(result[33m.[39mcurrent[33m.[39msortField)[33m.[39mtoBe([32m'name'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 159 |[39m     expect(result[33m.[39mcurrent[33m.[39msortOrder)[33m.[39mtoBe([32m'desc'[39m)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 160 |[39m     
     [90m 161 |[39m     [90m// Change to a different field[39m
     [90m 162 |[39m     act(() [33m=>[39m {[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.sorting.test.ts:159:38)

  ‚óè useCategories Hook - Sorting ‚Ä∫ should maintain sort when filters are applied

    expect(received).toBe(expected) // Object.is equality

    Expected: "Test Category 1"
    Received: "Subcategory 1"

    [0m [90m 187 |[39m     
     [90m 188 |[39m     [90m// Filtered categories should be sorted by name[39m
    [31m[1m>[22m[39m[90m 189 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[[35m0[39m][33m.[39mname)[33m.[39mtoBe([32m'Test Category 1'[39m)[33m;[39m
     [90m     |[39m                                                       [31m[1m^[22m[39m
     [90m 190 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[[35m1[39m][33m.[39mname)[33m.[39mtoBe([32m'Test Category 2'[39m)[33m;[39m
     [90m 191 |[39m   })[33m;[39m
     [90m 192 |[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.sorting.test.ts:189:55)

  ‚óè useCategories Hook - Sorting ‚Ä∫ should handle sorting with pagination correctly

    expect(received).toBe(expected) // Object.is equality

    Expected: "Test Category 15"
    Received: "Test Category 1"

    [0m [90m 216 |[39m     [90m// First page should have items in reverse order (15-11)[39m
     [90m 217 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentCategories[33m.[39mlength)[33m.[39mtoBe([35m5[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 218 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentCategories[[35m0[39m][33m.[39mname)[33m.[39mtoBe([32m'Test Category 15'[39m)[33m;[39m
     [90m     |[39m                                                      [31m[1m^[22m[39m
     [90m 219 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentCategories[[35m4[39m][33m.[39mname)[33m.[39mtoBe([32m'Test Category 11'[39m)[33m;[39m
     [90m 220 |[39m   })[33m;[39m
     [90m 221 |[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.sorting.test.ts:218:54)

FAIL tests/admin/layout/AdminSidebar.test.tsx
  ‚óè AdminSidebar Component ‚Ä∫ highlights the active navigation item

    expect(element).not.toHaveClass("bg-gray-900")

    Expected the element not to have class:
      bg-gray-900
    Received:
      group flex items-center px-2 py-2 text-sm font-medium rounded-md bg-gray-900 text-white

    [0m [90m 66 |[39m     [90m// Verify other links don't have active class[39m
     [90m 67 |[39m     [36mconst[39m dashboardLink [33m=[39m [33mArray[39m[33m.[39m[36mfrom[39m(links)[33m.[39mfind(link [33m=>[39m link[33m.[39mtextContent[33m?[39m[33m.[39mincludes([32m'Dashboard'[39m))[33m;[39m
    [31m[1m>[22m[39m[90m 68 |[39m     expect(dashboardLink)[33m.[39mnot[33m.[39mtoHaveClass([32m'bg-gray-900'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 69 |[39m   })[33m;[39m
     [90m 70 |[39m   
     [90m 71 |[39m   it([32m'closes the sidebar when clicking the close button on mobile'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toHaveClass (tests/admin/layout/AdminSidebar.test.tsx:68:31)

(node:12096) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:56212) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/admin/categories/hooks/useCategories.filtering.test.ts
  ‚óè Console

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.filtering.test.ts:19:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.filtering.test.ts:19:34)

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

    [0m [90m 20 |[39m     
     [90m 21 |[39m     [90m// Search for "Subcategory"[39m
    [31m[1m>[22m[39m[90m 22 |[39m     act(() [33m=>[39m {
     [90m    |[39m        [31m[1m^[22m[39m
     [90m 23 |[39m       result[33m.[39mcurrent[33m.[39msetSearchTerm([32m'Subcategory'[39m)[33m;[39m
     [90m 24 |[39m     })[33m;[39m
     [90m 25 |[39m     [0m

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.filtering.test.ts:22:8)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.filtering.test.ts:40:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.filtering.test.ts:40:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.filtering.test.ts:53:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.filtering.test.ts:53:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.filtering.test.ts:83:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.filtering.test.ts:83:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.filtering.test.ts:106:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.filtering.test.ts:106:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.filtering.test.ts:153:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.filtering.test.ts:153:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.filtering.test.ts:185:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.filtering.test.ts:185:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.filtering.test.ts:204:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.filtering.test.ts:204:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.filtering.test.ts:226:44)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.filtering.test.ts:226:44)

  ‚óè useCategories Hook - Filtering & Searching ‚Ä∫ should search in name, metaDescription, and parentName fields

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: 2

    [0m [90m 58 |[39m     })[33m;[39m
     [90m 59 |[39m     
    [31m[1m>[22m[39m[90m 60 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mlength)[33m.[39mtoBe([35m1[39m)[33m;[39m
     [90m    |[39m                                                      [31m[1m^[22m[39m
     [90m 61 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[[35m0[39m][33m.[39mname)[33m.[39mtoBe([32m'Test Category 1'[39m)[33m;[39m
     [90m 62 |[39m     
     [90m 63 |[39m     [90m// Search in metaDescription[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.filtering.test.ts:60:54)

  ‚óè useCategories Hook - Filtering & Searching ‚Ä∫ should apply multiple filters simultaneously

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: 3

    [0m [90m 160 |[39m     
     [90m 161 |[39m     [90m// Should show only categories from site_1 with "Test" in name[39m
    [31m[1m>[22m[39m[90m 162 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mlength)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m     |[39m                                                      [31m[1m^[22m[39m
     [90m 163 |[39m     result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mforEach(category [33m=>[39m {
     [90m 164 |[39m       expect(category[33m.[39msiteId)[33m.[39mtoBe([32m'site_1'[39m)[33m;[39m
     [90m 165 |[39m       expect(category[33m.[39mname[33m.[39mincludes([32m'Test'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.filtering.test.ts:162:54)

  ‚óè useCategories Hook - Filtering & Searching ‚Ä∫ should maintain filter state after data is updated

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: 1

    [0m [90m 262 |[39m     [90m// Filter should still be applied to updated data[39m
     [90m 263 |[39m     [90m// Now we should have 2 categories with "Subcategory" in the name[39m
    [31m[1m>[22m[39m[90m 264 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mlength)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m     |[39m                                                      [31m[1m^[22m[39m
     [90m 265 |[39m     result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mforEach(category [33m=>[39m {
     [90m 266 |[39m       expect(category[33m.[39mname[33m.[39mincludes([32m'Subcategory'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 267 |[39m     })[33m;[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.filtering.test.ts:264:54)

(node:44328) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/ListingCard.test.tsx
  ‚óè ListingCard Component ‚Ä∫ renders price when available

    expect(received).toHaveAttribute()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    [0m [90m 136 |[39m     [90m// Check price metadata[39m
     [90m 137 |[39m     [36mconst[39m price [33m=[39m document[33m.[39mquerySelector([32m'meta[itemprop="price"]'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 138 |[39m     expect(price)[33m.[39mtoHaveAttribute([32m'content'[39m[33m,[39m [32m'99.99'[39m)[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 139 |[39m     
     [90m 140 |[39m     [36mconst[39m currency [33m=[39m document[33m.[39mquerySelector([32m'meta[itemprop="priceCurrency"]'[39m)[33m;[39m
     [90m 141 |[39m     expect(currency)[33m.[39mtoHaveAttribute([32m'content'[39m[33m,[39m [32m'USD'[39m)[33m;[39m[0m

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher (node_modules/expect/build/index.js:326:15)
      at Object.toHaveAttribute (tests/ListingCard.test.tsx:138:19)

FAIL tests/admin/categories/hooks/useCategories.api.test.ts
  ‚óè Console

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 77 |[39m       })[33m;[39m
     [90m 78 |[39m       
    [31m[1m>[22m[39m[90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setCategories (src/components/admin/categories/hooks/useCategories.ts:79:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 78 |[39m       
     [90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
    [31m[1m>[22m[39m[90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
     [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setAllCategories (src/components/admin/categories/hooks/useCategories.ts:80:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m 84 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 86 |[39m     }
     [90m 87 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 88 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/categories/hooks/useCategories.ts:85:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  99 |[39m       
     [90m 100 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 101 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
     [90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 104 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/categories/hooks/useCategories.ts:101:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 77 |[39m       })[33m;[39m
     [90m 78 |[39m       
    [31m[1m>[22m[39m[90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setCategories (src/components/admin/categories/hooks/useCategories.ts:79:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 78 |[39m       
     [90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
    [31m[1m>[22m[39m[90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
     [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setAllCategories (src/components/admin/categories/hooks/useCategories.ts:80:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m 84 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 86 |[39m     }
     [90m 87 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 88 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/categories/hooks/useCategories.ts:85:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 77 |[39m       })[33m;[39m
     [90m 78 |[39m       
    [31m[1m>[22m[39m[90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setCategories (src/components/admin/categories/hooks/useCategories.ts:79:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 78 |[39m       
     [90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
    [31m[1m>[22m[39m[90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
     [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setAllCategories (src/components/admin/categories/hooks/useCategories.ts:80:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m 84 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 86 |[39m     }
     [90m 87 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 88 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/categories/hooks/useCategories.ts:85:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  99 |[39m       
     [90m 100 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 101 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
     [90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 104 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/categories/hooks/useCategories.ts:101:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 77 |[39m       })[33m;[39m
     [90m 78 |[39m       
    [31m[1m>[22m[39m[90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setCategories (src/components/admin/categories/hooks/useCategories.ts:79:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 78 |[39m       
     [90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
    [31m[1m>[22m[39m[90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
     [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setAllCategories (src/components/admin/categories/hooks/useCategories.ts:80:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m 84 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 86 |[39m     }
     [90m 87 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 88 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/categories/hooks/useCategories.ts:85:7)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should fetch categories data from the API on mount

    TypeError: waitForNextUpdate is not a function

    [0m [90m 36 |[39m     
     [90m 37 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 38 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 39 |[39m     
     [90m 40 |[39m     [90m// Verify fetch was called with the correct endpoint[39m
     [90m 41 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m'/api/categories'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:38:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should fetch site-specific categories when siteSlug is provided

    TypeError: waitForNextUpdate is not a function

    [0m [90m 58 |[39m     
     [90m 59 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 60 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 61 |[39m     
     [90m 62 |[39m     [90m// Verify fetch was called with site-specific endpoint[39m
     [90m 63 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m`/api/sites/${siteSlug}/categories`[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:60:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should fetch sites data in multi-site mode

    TypeError: waitForNextUpdate is not a function

    [0m [90m 84 |[39m     
     [90m 85 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 86 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 87 |[39m     
     [90m 88 |[39m     [90m// Verify both categories and sites were fetched[39m
     [90m 89 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m'/api/categories'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:86:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should not fetch sites in single-site mode

    TypeError: waitForNextUpdate is not a function

    [0m [90m 102 |[39m     
     [90m 103 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 104 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 105 |[39m     
     [90m 106 |[39m     [90m// Verify only categories were fetched, not sites[39m
     [90m 107 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m'/api/sites/test-site/categories'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:104:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should handle API error states correctly

    TypeError: waitForNextUpdate is not a function

    [0m [90m 122 |[39m     
     [90m 123 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 124 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 125 |[39m     
     [90m 126 |[39m     [90m// Loading should be false[39m
     [90m 127 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:124:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should enrich API data with parent names and child counts

    TypeError: waitForNextUpdate is not a function

    [0m [90m 222 |[39m     
     [90m 223 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 224 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 225 |[39m     
     [90m 226 |[39m     [90m// Verify parent names were added[39m
     [90m 227 |[39m     [36mconst[39m childCategories [33m=[39m result[33m.[39mcurrent[33m.[39mcategories[33m.[39mfilter(c [33m=>[39m c[33m.[39mparentId [33m===[39m [32m'parent_category'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:224:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should handle multiple API calls properly for categories and sites

    TypeError: waitForNextUpdate is not a function

    [0m [90m 274 |[39m     
     [90m 275 |[39m     [90m// Wait for first fetch to complete (error)[39m
    [31m[1m>[22m[39m[90m 276 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 277 |[39m     
     [90m 278 |[39m     [90m// Error should be set[39m
     [90m 279 |[39m     expect(result[33m.[39mcurrent[33m.[39merror)[33m.[39mtoBe([32m'Server Error'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:276:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should prioritize initial categories over API fetch

    expect(jest.fn()).not.toHaveBeenCalled()

    Expected number of calls: 0
    Received number of calls: 1

    1: "/api/sites"

    [0m [90m 318 |[39m     
     [90m 319 |[39m     [90m// API fetch should not be called[39m
    [31m[1m>[22m[39m[90m 320 |[39m     expect(global[33m.[39mfetch)[33m.[39mnot[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 321 |[39m   })[33m;[39m
     [90m 322 |[39m })[33m;[39m
     [90m 323 |[39m[0m

      at Object.toHaveBeenCalled (tests/admin/categories/hooks/useCategories.api.test.ts:320:30)

(node:16808) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/admin/categories/hooks/useCategories.deletion.test.ts
  ‚óè Console

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.deletion.test.ts:26:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.deletion.test.ts:26:34)

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

    [0m [90m 31 |[39m     
     [90m 32 |[39m     [90m// Confirm deletion for category_1[39m
    [31m[1m>[22m[39m[90m 33 |[39m     act(() [33m=>[39m {
     [90m    |[39m        [31m[1m^[22m[39m
     [90m 34 |[39m       result[33m.[39mcurrent[33m.[39mconfirmDelete([32m'category_1'[39m[33m,[39m [32m'Test Category 1'[39m)[33m;[39m
     [90m 35 |[39m     })[33m;[39m
     [90m 36 |[39m     [0m

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.deletion.test.ts:33:8)

    console.error
      Error fetching sites: TypeError: fetch is not a function
          at fetch (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:30)
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.deletion.test.ts:46:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.deletion.test.ts:46:34)

  ‚óè useCategories Hook - Deletion Functionality ‚Ä∫ should handle delete API errors gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 180 |[39m     
     [90m 181 |[39m     [90m// Modal should still be closed[39m
    [31m[1m>[22m[39m[90m 182 |[39m     expect(result[33m.[39mcurrent[33m.[39misDeleteModalOpen)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 183 |[39m     
     [90m 184 |[39m     [90m// Error should be logged[39m
     [90m 185 |[39m     expect(console[33m.[39merror)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.deletion.test.ts:182:46)

(node:52076) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/admin/layout/Breadcrumbs.test.tsx
  ‚óè Breadcrumbs Component ‚Ä∫ renders the correct ARIA attributes for accessibility

    expect(element).toHaveAttribute("aria-current", "page") // element.getAttribute("aria-current") === "page"

    Expected the element to have attribute:
      aria-current="page"
    Received:
      null

    [0m [90m 65 |[39m     [90m// Check that the current page has current attribute[39m
     [90m 66 |[39m     [36mconst[39m links [33m=[39m screen[33m.[39mgetAllByRole([32m'link'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 67 |[39m     expect(links[links[33m.[39mlength [33m-[39m [35m1[39m])[33m.[39mtoHaveAttribute([32m'aria-current'[39m[33m,[39m [32m'page'[39m)[33m;[39m
     [90m    |[39m                                     [31m[1m^[22m[39m
     [90m 68 |[39m   })[33m;[39m
     [90m 69 |[39m })[33m;[39m[0m

      at Object.toHaveAttribute (tests/admin/layout/Breadcrumbs.test.tsx:67:37)

FAIL tests/admin/categories/hooks/useCategories.pagination.test.ts
  ‚óè Console

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.pagination.test.ts:21:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.pagination.test.ts:21:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.pagination.test.ts:41:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.pagination.test.ts:41:34)

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

    [0m [90m 42 |[39m     
     [90m 43 |[39m     [90m// Go to page 2[39m
    [31m[1m>[22m[39m[90m 44 |[39m     act(() [33m=>[39m {
     [90m    |[39m        [31m[1m^[22m[39m
     [90m 45 |[39m       result[33m.[39mcurrent[33m.[39mgoToPage([35m2[39m)[33m;[39m
     [90m 46 |[39m     })[33m;[39m
     [90m 47 |[39m     [0m

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.pagination.test.ts:44:8)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.pagination.test.ts:71:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.pagination.test.ts:71:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.pagination.test.ts:105:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.pagination.test.ts:105:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.pagination.test.ts:141:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.pagination.test.ts:141:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.pagination.test.ts:164:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.pagination.test.ts:164:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.pagination.test.ts:191:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.pagination.test.ts:191:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.pagination.test.ts:212:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.pagination.test.ts:212:34)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.pagination.test.ts:235:44)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.pagination.test.ts:235:44)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.pagination.test.ts:263:44)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.pagination.test.ts:263:44)

  ‚óè useCategories Hook - Pagination ‚Ä∫ should reset to page 1 when changing items per page

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: 2

    [0m [90m 153 |[39m     
     [90m 154 |[39m     [90m// Should reset to page 1[39m
    [31m[1m>[22m[39m[90m 155 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentPage)[33m.[39mtoBe([35m1[39m)[33m;[39m
     [90m     |[39m                                        [31m[1m^[22m[39m
     [90m 156 |[39m     
     [90m 157 |[39m     [90m// Current categories should be the first 5 items[39m
     [90m 158 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentCategories[33m.[39mlength)[33m.[39mtoBe([35m5[39m)[33m;[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.pagination.test.ts:155:40)

  ‚óè useCategories Hook - Pagination ‚Ä∫ should handle pagination with filtered results

    expect(received).toBe(expected) // Object.is equality

    Expected: 11
    Received: 0

    [0m [90m 170 |[39m     
     [90m 171 |[39m     [90m// With 11 filtered items and 10 per page, total pages should be 2[39m
    [31m[1m>[22m[39m[90m 172 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mlength)[33m.[39mtoBe([35m11[39m)[33m;[39m
     [90m     |[39m                                                      [31m[1m^[22m[39m
     [90m 173 |[39m     expect(result[33m.[39mcurrent[33m.[39mtotalPages)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m 174 |[39m     
     [90m 175 |[39m     [90m// Current categories should have 10 items (page 1)[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.pagination.test.ts:172:54)

  ‚óè useCategories Hook - Pagination ‚Ä∫ should handle pagination when applying filters on non-first page

    expect(received).toBe(expected) // Object.is equality

    Expected: 11
    Received: 0

    [0m [90m 227 |[39m     
     [90m 228 |[39m     [90m// Filtered results should be visible[39m
    [31m[1m>[22m[39m[90m 229 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mlength)[33m.[39mtoBe([35m11[39m)[33m;[39m
     [90m     |[39m                                                      [31m[1m^[22m[39m
     [90m 230 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentCategories[33m.[39mlength)[33m.[39mtoBe([35m10[39m)[33m;[39m
     [90m 231 |[39m   })[33m;[39m
     [90m 232 |[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.pagination.test.ts:229:54)

  ‚óè useCategories Hook - Pagination ‚Ä∫ should adjust current page when total pages decreases below current page

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: 3

    [0m [90m 282 |[39m     
     [90m 283 |[39m     [90m// Should be on page 2 now (max page)[39m
    [31m[1m>[22m[39m[90m 284 |[39m     expect(result[33m.[39mcurrent[33m.[39mtotalPages)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m     |[39m                                       [31m[1m^[22m[39m
     [90m 285 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentPage)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m 286 |[39m   })[33m;[39m
     [90m 287 |[39m })[33m;[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.pagination.test.ts:284:39)

(node:47224) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/search/SearchForm.test.tsx
  ‚óè SearchForm Component ‚Ä∫ renders with custom props

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/find/i`

    Here are the accessible roles:

      search:

      Name "Site search":
      [36m<form[39m
        [33maria-label[39m=[32m"Site search"[39m
        [33mclass[39m=[32m"flex flex-col sm:flex-row gap-2 custom-class"[39m
        [33mrole[39m=[32m"search"[39m
      [36m/>[39m

      --------------------------------------------------
      searchbox:

      Name "Search query":
      [36m<input[39m
        [33maria-invalid[39m=[32m"false"[39m
        [33maria-label[39m=[32m"Search query"[39m
        [33maria-required[39m=[32m"true"[39m
        [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"[39m
        [33mplaceholder[39m=[32m"Custom placeholder"[39m
        [33mtype[39m=[32m"search"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Submit search":
      [36m<button[39m
        [33maria-label[39m=[32m"Submit search"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors"[39m
        [33mtype[39m=[32m"submit"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<form[39m
          [33maria-label[39m=[32m"Site search"[39m
          [33mclass[39m=[32m"flex flex-col sm:flex-row gap-2 custom-class"[39m
          [33mrole[39m=[32m"search"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative flex-grow"[39m
          [36m>[39m
            [36m<input[39m
              [33maria-invalid[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Search query"[39m
              [33maria-required[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"[39m
              [33mplaceholder[39m=[32m"Custom placeholder"[39m
              [33mtype[39m=[32m"search"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Submit search"[39m
            [33mclass[39m=[32m"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors"[39m
            [33mtype[39m=[32m"submit"[39m
          [36m>[39m
            [0mFind[0m
          [36m</button>[39m
        [36m</form>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 41 |[39m     expect(input)[33m.[39mtoHaveAttribute([32m'placeholder'[39m[33m,[39m [32m'Custom placeholder'[39m)[33m;[39m
     [90m 42 |[39m     
    [31m[1m>[22m[39m[90m 43 |[39m     [36mconst[39m button [33m=[39m screen[33m.[39mgetByRole([32m'button'[39m[33m,[39m { name[33m:[39m [35m/find/i[39m })[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 44 |[39m     expect(button)[33m.[39mtoHaveTextContent([32m'Find'[39m)[33m;[39m
     [90m 45 |[39m     
     [90m 46 |[39m     [90m// Verify custom class is applied[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/search/SearchForm.test.tsx:43:27)

  ‚óè SearchForm Component ‚Ä∫ has proper accessibility attributes

    expect(element).not.toHaveAttribute("aria-invalid") // element.hasAttribute("aria-invalid")

    Expected the element not to have attribute:
      aria-invalid
    Received:
      aria-invalid="false"

    [0m [90m 167 |[39m     
     [90m 168 |[39m     [90m// Initially, there should be no errors[39m
    [31m[1m>[22m[39m[90m 169 |[39m     expect(input)[33m.[39mnot[33m.[39mtoHaveAttribute([32m'aria-invalid'[39m)[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 170 |[39m     expect(input)[33m.[39mnot[33m.[39mtoHaveAttribute([32m'aria-describedby'[39m)[33m;[39m
     [90m 171 |[39m     
     [90m 172 |[39m     [90m// Submit form without query to trigger validation error[39m[0m

      at Object.toHaveAttribute (tests/search/SearchForm.test.tsx:169:23)

FAIL tests/search/SearchBar.test.tsx
  ‚óè SearchBar Component ‚Ä∫ renders in expanded state when expanded prop is true

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <button aria-label="Open search" class="p-2 text-gray-500 hover:text-gray-700 transition-colors hidden" type="button"><div data-testid="mock-search-icon" /></button> instead

    [0m [90m 40 |[39m     [90m// Search icon button should not be visible[39m
     [90m 41 |[39m     [36mconst[39m searchButton [33m=[39m screen[33m.[39mqueryByLabelText([32m'Open search'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 42 |[39m     expect(searchButton)[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 43 |[39m     
     [90m 44 |[39m     [90m// Input should be visible[39m
     [90m 45 |[39m     [36mconst[39m input [33m=[39m screen[33m.[39mgetByRole([32m'searchbox'[39m)[33m;[39m[0m

      at Object.toBeInTheDocument (tests/search/SearchBar.test.tsx:42:30)

(node:54252) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/admin/layout/AdminHeader.test.tsx
  ‚óè AdminHeader Component ‚Ä∫ renders correctly with title and buttons

    TestingLibraryElementError: Unable to find a label with the text of: View notifications

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white shadow-sm z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"px-4 sm:px-6 lg:px-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between h-16"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 flex items-center"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open sidebar"[39m
                    [33mclass[39m=[32m"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"block h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"ml-4 md:ml-0"[39m
                  [36m>[39m
                    [36m<h1[39m
                      [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mAdmin Portal[0m
                    [36m</h1>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"true"[39m
                    [33mclass[39m=[32m"p-1 rounded-full text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"sr-only"[39m
                    [36m>[39m
                      [0mView notifications[0m
                    [36m</span>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3 relative"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<button[39m
                      [33maria-expanded[39m=[32m"false"[39m
                      [33maria-haspopup[39m=[32m"true"[39m
                      [33mclass[39m=[32m"max-w-xs flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                      [33mid[39m=[32m"user-menu-button"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mOpen user menu[0m
                      [36m</span>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"h-6 w-6 text-gray-500"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 35 |[39m     
     [90m 36 |[39m     [90m// Check for notification button[39m
    [31m[1m>[22m[39m[90m 37 |[39m     expect(screen[33m.[39mgetByLabelText([32m'View notifications'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 38 |[39m     
     [90m 39 |[39m     [90m// Check for user menu button (using the DOM structure)[39m
     [90m 40 |[39m     expect(screen[33m.[39mgetByLabelText([32m'Open user menu'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/layout/AdminHeader.test.tsx:37:19)

  ‚óè AdminHeader Component ‚Ä∫ opens the notifications dropdown when clicking the bell icon

    TestingLibraryElementError: Unable to find a label with the text of: View notifications

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white shadow-sm z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"px-4 sm:px-6 lg:px-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between h-16"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 flex items-center"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open sidebar"[39m
                    [33mclass[39m=[32m"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"block h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"ml-4 md:ml-0"[39m
                  [36m>[39m
                    [36m<h1[39m
                      [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mAdmin Portal[0m
                    [36m</h1>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"true"[39m
                    [33mclass[39m=[32m"p-1 rounded-full text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"sr-only"[39m
                    [36m>[39m
                      [0mView notifications[0m
                    [36m</span>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3 relative"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<button[39m
                      [33maria-expanded[39m=[32m"false"[39m
                      [33maria-haspopup[39m=[32m"true"[39m
                      [33mclass[39m=[32m"max-w-xs flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                      [33mid[39m=[32m"user-menu-button"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mOpen user menu[0m
                      [36m</span>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"h-6 w-6 text-gray-500"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 61 |[39m     
     [90m 62 |[39m     [90m// Find and click the notifications button[39m
    [31m[1m>[22m[39m[90m 63 |[39m     [36mconst[39m notificationsButton [33m=[39m screen[33m.[39mgetByLabelText([32m'View notifications'[39m)[33m;[39m
     [90m    |[39m                                        [31m[1m^[22m[39m
     [90m 64 |[39m     fireEvent[33m.[39mclick(notificationsButton)[33m;[39m
     [90m 65 |[39m     
     [90m 66 |[39m     [90m// Now the notifications dropdown should be visible[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/layout/AdminHeader.test.tsx:63:40)

  ‚óè AdminHeader Component ‚Ä∫ opens the user dropdown menu when clicking the user icon

    TestingLibraryElementError: Unable to find a label with the text of: Open user menu

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white shadow-sm z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"px-4 sm:px-6 lg:px-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between h-16"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 flex items-center"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open sidebar"[39m
                    [33mclass[39m=[32m"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"block h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"ml-4 md:ml-0"[39m
                  [36m>[39m
                    [36m<h1[39m
                      [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mAdmin Portal[0m
                    [36m</h1>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"true"[39m
                    [33mclass[39m=[32m"p-1 rounded-full text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"sr-only"[39m
                    [36m>[39m
                      [0mView notifications[0m
                    [36m</span>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3 relative"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<button[39m
                      [33maria-expanded[39m=[32m"false"[39m
                      [33maria-haspopup[39m=[32m"true"[39m
                      [33mclass[39m=[32m"max-w-xs flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                      [33mid[39m=[32m"user-menu-button"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mOpen user menu[0m
                      [36m</span>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"h-6 w-6 text-gray-500"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 77 |[39m     
     [90m 78 |[39m     [90m// Find and click the user menu button[39m
    [31m[1m>[22m[39m[90m 79 |[39m     [36mconst[39m userMenuButton [33m=[39m screen[33m.[39mgetByLabelText([32m'Open user menu'[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 80 |[39m     fireEvent[33m.[39mclick(userMenuButton)[33m;[39m
     [90m 81 |[39m     
     [90m 82 |[39m     [90m// Now the user menu should be visible[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/layout/AdminHeader.test.tsx:79:35)

  ‚óè AdminHeader Component ‚Ä∫ closes user menu when clicking on a menu item

    TestingLibraryElementError: Unable to find a label with the text of: Open user menu

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white shadow-sm z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"px-4 sm:px-6 lg:px-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between h-16"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 flex items-center"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open sidebar"[39m
                    [33mclass[39m=[32m"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"block h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"ml-4 md:ml-0"[39m
                  [36m>[39m
                    [36m<h1[39m
                      [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mAdmin Portal[0m
                    [36m</h1>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"true"[39m
                    [33mclass[39m=[32m"p-1 rounded-full text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"sr-only"[39m
                    [36m>[39m
                      [0mView notifications[0m
                    [36m</span>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3 relative"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<button[39m
                      [33maria-expanded[39m=[32m"false"[39m
                      [33maria-haspopup[39m=[32m"true"[39m
                      [33mclass[39m=[32m"max-w-xs flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                      [33mid[39m=[32m"user-menu-button"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mOpen user menu[0m
                      [36m</span>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"h-6 w-6 text-gray-500"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 92 |[39m     
     [90m 93 |[39m     [90m// Open the user menu[39m
    [31m[1m>[22m[39m[90m 94 |[39m     [36mconst[39m userMenuButton [33m=[39m screen[33m.[39mgetByLabelText([32m'Open user menu'[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 95 |[39m     fireEvent[33m.[39mclick(userMenuButton)[33m;[39m
     [90m 96 |[39m     
     [90m 97 |[39m     [90m// Verify it's open[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/layout/AdminHeader.test.tsx:94:35)

  ‚óè AdminHeader Component ‚Ä∫ closes the notifications dropdown when opening user menu

    TestingLibraryElementError: Unable to find a label with the text of: View notifications

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white shadow-sm z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"px-4 sm:px-6 lg:px-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between h-16"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 flex items-center"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open sidebar"[39m
                    [33mclass[39m=[32m"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"block h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"ml-4 md:ml-0"[39m
                  [36m>[39m
                    [36m<h1[39m
                      [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mAdmin Portal[0m
                    [36m</h1>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"true"[39m
                    [33mclass[39m=[32m"p-1 rounded-full text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"sr-only"[39m
                    [36m>[39m
                      [0mView notifications[0m
                    [36m</span>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3 relative"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<button[39m
                      [33maria-expanded[39m=[32m"false"[39m
                      [33maria-haspopup[39m=[32m"true"[39m
                      [33mclass[39m=[32m"max-w-xs flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                      [33mid[39m=[32m"user-menu-button"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mOpen user menu[0m
                      [36m</span>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"h-6 w-6 text-gray-500"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 109 |[39m     
     [90m 110 |[39m     [90m// Open notifications first[39m
    [31m[1m>[22m[39m[90m 111 |[39m     [36mconst[39m notificationsButton [33m=[39m screen[33m.[39mgetByLabelText([32m'View notifications'[39m)[33m;[39m
     [90m     |[39m                                        [31m[1m^[22m[39m
     [90m 112 |[39m     fireEvent[33m.[39mclick(notificationsButton)[33m;[39m
     [90m 113 |[39m     
     [90m 114 |[39m     [90m// Verify notifications are visible[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/layout/AdminHeader.test.tsx:111:40)

(node:58208) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:36944) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:8528) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/admin/categories/components/CategoriesMobileView.url.test.tsx
  ‚óè CategoriesMobileView URL Construction Tests ‚Ä∫ handles both empty slug and null slug edge cases

    expect(element).toHaveAttribute("href", "/admin/sites/test-site/categories/") // element.getAttribute("href") === "/admin/sites/test-site/categories/"

    Expected the element to have attribute:
      href="/admin/sites/test-site/categories/"
    Received:
      href="/admin/sites/test-site/categories/null"

    [0m [90m 201 |[39m     
     [90m 202 |[39m     [90m// Null slug should still work with category ID [39m
    [31m[1m>[22m[39m[90m 203 |[39m     expect(screen[33m.[39mgetByTestId([32m'view-link-null_slug'[39m))[33m.[39mtoHaveAttribute([32m'href'[39m[33m,[39m [32m'/admin/sites/test-site/categories/'[39m)[33m;[39m
     [90m     |[39m                                                       [31m[1m^[22m[39m
     [90m 204 |[39m     expect(screen[33m.[39mgetByTestId([32m'edit-link-null_slug'[39m))[33m.[39mtoHaveAttribute([32m'href'[39m[33m,[39m [32m'/admin/sites/test-site/categories/null_slug/edit'[39m)[33m;[39m
     [90m 205 |[39m   })[33m;[39m
     [90m 206 |[39m })[33m;[39m[0m

      at Object.toHaveAttribute (tests/admin/categories/components/CategoriesMobileView.url.test.tsx:203:55)

(node:52184) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/SiteHeader.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:74:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:74:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 72 |[39m
     [90m 73 |[39m   it([32m'renders site name correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 74 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 75 |[39m     
     [90m 76 |[39m     expect(screen[33m.[39mgetByText([32m'Test Directory'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 77 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:74:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:74:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:74:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 72 |[39m
     [90m 73 |[39m   it([32m'renders site name correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 74 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 75 |[39m     
     [90m 76 |[39m     expect(screen[33m.[39mgetByText([32m'Test Directory'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 77 |[39m   })[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:74:11)

    console.error
      The above error occurred in the <SearchBar> component:
      
          at siteId (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:17:3)
          at div
          at div
          at div
          at header
          at site (C:\Users\T\directorymonster\src\components\SiteHeader.tsx:12:38)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 72 |[39m
     [90m 73 |[39m   it([32m'renders site name correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 74 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 75 |[39m     
     [90m 76 |[39m     expect(screen[33m.[39mgetByText([32m'Test Directory'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 77 |[39m   })[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:74:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:80:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:80:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 78 |[39m
     [90m 79 |[39m   it([32m'renders logo when logoUrl is provided'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 80 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 81 |[39m     
     [90m 82 |[39m     [36mconst[39m logo [33m=[39m screen[33m.[39mgetByTestId([32m'mocked-image'[39m)[33m;[39m
     [90m 83 |[39m     expect(logo)[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:80:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:80:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:80:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 78 |[39m
     [90m 79 |[39m   it([32m'renders logo when logoUrl is provided'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 80 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 81 |[39m     
     [90m 82 |[39m     [36mconst[39m logo [33m=[39m screen[33m.[39mgetByTestId([32m'mocked-image'[39m)[33m;[39m
     [90m 83 |[39m     expect(logo)[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:80:11)

    console.error
      The above error occurred in the <SearchBar> component:
      
          at siteId (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:17:3)
          at div
          at div
          at div
          at header
          at site (C:\Users\T\directorymonster\src\components\SiteHeader.tsx:12:38)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 78 |[39m
     [90m 79 |[39m   it([32m'renders logo when logoUrl is provided'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 80 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 81 |[39m     
     [90m 82 |[39m     [36mconst[39m logo [33m=[39m screen[33m.[39mgetByTestId([32m'mocked-image'[39m)[33m;[39m
     [90m 83 |[39m     expect(logo)[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:80:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:90:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:90:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 88 |[39m   it([32m'does not render logo when logoUrl is not provided'[39m[33m,[39m () [33m=>[39m {
     [90m 89 |[39m     [36mconst[39m siteWithoutLogo [33m=[39m { [33m...[39mmockSite[33m,[39m logoUrl[33m:[39m undefined }[33m;[39m
    [31m[1m>[22m[39m[90m 90 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{siteWithoutLogo} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 91 |[39m     
     [90m 92 |[39m     [36mconst[39m logo [33m=[39m screen[33m.[39mqueryByTestId([32m'mocked-image'[39m)[33m;[39m
     [90m 93 |[39m     expect(logo)[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:90:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:90:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:90:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 88 |[39m   it([32m'does not render logo when logoUrl is not provided'[39m[33m,[39m () [33m=>[39m {
     [90m 89 |[39m     [36mconst[39m siteWithoutLogo [33m=[39m { [33m...[39mmockSite[33m,[39m logoUrl[33m:[39m undefined }[33m;[39m
    [31m[1m>[22m[39m[90m 90 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{siteWithoutLogo} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 91 |[39m     
     [90m 92 |[39m     [36mconst[39m logo [33m=[39m screen[33m.[39mqueryByTestId([32m'mocked-image'[39m)[33m;[39m
     [90m 93 |[39m     expect(logo)[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:90:11)

    console.error
      The above error occurred in the <SearchBar> component:
      
          at siteId (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:17:3)
          at div
          at div
          at div
          at header
          at site (C:\Users\T\directorymonster\src\components\SiteHeader.tsx:12:38)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 88 |[39m   it([32m'does not render logo when logoUrl is not provided'[39m[33m,[39m () [33m=>[39m {
     [90m 89 |[39m     [36mconst[39m siteWithoutLogo [33m=[39m { [33m...[39mmockSite[33m,[39m logoUrl[33m:[39m undefined }[33m;[39m
    [31m[1m>[22m[39m[90m 90 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{siteWithoutLogo} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 91 |[39m     
     [90m 92 |[39m     [36mconst[39m logo [33m=[39m screen[33m.[39mqueryByTestId([32m'mocked-image'[39m)[33m;[39m
     [90m 93 |[39m     expect(logo)[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:90:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:97:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:97:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m  95 |[39m
     [90m  96 |[39m   it([32m'renders SEO-optimized H1 tag with headerText'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m  97 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m  98 |[39m     
     [90m  99 |[39m     [36mconst[39m h1 [33m=[39m screen[33m.[39mgetByText([32m'Find the best test products'[39m)[33m;[39m
     [90m 100 |[39m     expect(h1)[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:97:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:97:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:97:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m  95 |[39m
     [90m  96 |[39m   it([32m'renders SEO-optimized H1 tag with headerText'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m  97 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m  98 |[39m     
     [90m  99 |[39m     [36mconst[39m h1 [33m=[39m screen[33m.[39mgetByText([32m'Find the best test products'[39m)[33m;[39m
     [90m 100 |[39m     expect(h1)[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:97:11)

    console.error
      The above error occurred in the <SearchBar> component:
      
          at siteId (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:17:3)
          at div
          at div
          at div
          at header
          at site (C:\Users\T\directorymonster\src\components\SiteHeader.tsx:12:38)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m  95 |[39m
     [90m  96 |[39m   it([32m'renders SEO-optimized H1 tag with headerText'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m  97 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m  98 |[39m     
     [90m  99 |[39m     [36mconst[39m h1 [33m=[39m screen[33m.[39mgetByText([32m'Find the best test products'[39m)[33m;[39m
     [90m 100 |[39m     expect(h1)[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:97:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:106:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:106:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 104 |[39m
     [90m 105 |[39m   it([32m'renders home link correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 106 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 107 |[39m     
     [90m 108 |[39m     [36mconst[39m homeLink [33m=[39m screen[33m.[39mgetByText([32m'Home'[39m)[33m;[39m
     [90m 109 |[39m     expect(homeLink)[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:106:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:106:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:106:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 104 |[39m
     [90m 105 |[39m   it([32m'renders home link correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 106 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 107 |[39m     
     [90m 108 |[39m     [36mconst[39m homeLink [33m=[39m screen[33m.[39mgetByText([32m'Home'[39m)[33m;[39m
     [90m 109 |[39m     expect(homeLink)[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:106:11)

    console.error
      The above error occurred in the <SearchBar> component:
      
          at siteId (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:17:3)
          at div
          at div
          at div
          at header
          at site (C:\Users\T\directorymonster\src\components\SiteHeader.tsx:12:38)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 104 |[39m
     [90m 105 |[39m   it([32m'renders home link correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 106 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 107 |[39m     
     [90m 108 |[39m     [36mconst[39m homeLink [33m=[39m screen[33m.[39mgetByText([32m'Home'[39m)[33m;[39m
     [90m 109 |[39m     expect(homeLink)[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:106:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:114:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:114:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 112 |[39m
     [90m 113 |[39m   it([32m'renders all category links correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 114 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 115 |[39m     
     [90m 116 |[39m     [90m// Check that all category names are displayed[39m
     [90m 117 |[39m     expect(screen[33m.[39mgetByText([32m'Category 1'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:114:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:114:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:114:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 112 |[39m
     [90m 113 |[39m   it([32m'renders all category links correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 114 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 115 |[39m     
     [90m 116 |[39m     [90m// Check that all category names are displayed[39m
     [90m 117 |[39m     expect(screen[33m.[39mgetByText([32m'Category 1'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:114:11)

    console.error
      The above error occurred in the <SearchBar> component:
      
          at siteId (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:17:3)
          at div
          at div
          at div
          at header
          at site (C:\Users\T\directorymonster\src\components\SiteHeader.tsx:12:38)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 112 |[39m
     [90m 113 |[39m   it([32m'renders all category links correctly'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 114 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 115 |[39m     
     [90m 116 |[39m     [90m// Check that all category names are displayed[39m
     [90m 117 |[39m     expect(screen[33m.[39mgetByText([32m'Category 1'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:114:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:136:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:136:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 134 |[39m
     [90m 135 |[39m   it([32m'renders correctly with empty categories array'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 136 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{[]} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 137 |[39m     
     [90m 138 |[39m     [90m// Should only have the Home link[39m
     [90m 139 |[39m     [36mconst[39m homeLink [33m=[39m screen[33m.[39mgetByText([32m'Home'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:136:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:136:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:136:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 134 |[39m
     [90m 135 |[39m   it([32m'renders correctly with empty categories array'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 136 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{[]} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 137 |[39m     
     [90m 138 |[39m     [90m// Should only have the Home link[39m
     [90m 139 |[39m     [36mconst[39m homeLink [33m=[39m screen[33m.[39mgetByText([32m'Home'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:136:11)

    console.error
      The above error occurred in the <SearchBar> component:
      
          at siteId (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:17:3)
          at div
          at div
          at div
          at header
          at site (C:\Users\T\directorymonster\src\components\SiteHeader.tsx:12:38)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 134 |[39m
     [90m 135 |[39m   it([32m'renders correctly with empty categories array'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 136 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{[]} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 137 |[39m     
     [90m 138 |[39m     [90m// Should only have the Home link[39m
     [90m 139 |[39m     [36mconst[39m homeLink [33m=[39m screen[33m.[39mgetByText([32m'Home'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:136:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:148:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:148:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 146 |[39m
     [90m 147 |[39m   it([32m'applies correct CSS classes for responsive layout'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 148 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 149 |[39m     
     [90m 150 |[39m     [90m// Check main header container[39m
     [90m 151 |[39m     [36mconst[39m header [33m=[39m document[33m.[39mquerySelector([32m'header'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:148:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:148:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:148:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 146 |[39m
     [90m 147 |[39m   it([32m'applies correct CSS classes for responsive layout'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 148 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 149 |[39m     
     [90m 150 |[39m     [90m// Check main header container[39m
     [90m 151 |[39m     [36mconst[39m header [33m=[39m document[33m.[39mquerySelector([32m'header'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:148:11)

    console.error
      The above error occurred in the <SearchBar> component:
      
          at siteId (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:17:3)
          at div
          at div
          at div
          at header
          at site (C:\Users\T\directorymonster\src\components\SiteHeader.tsx:12:38)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 146 |[39m
     [90m 147 |[39m   it([32m'applies correct CSS classes for responsive layout'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 148 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 149 |[39m     
     [90m 150 |[39m     [90m// Check main header container[39m
     [90m 151 |[39m     [36mconst[39m header [33m=[39m document[33m.[39mquerySelector([32m'header'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:148:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:172:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:172:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 170 |[39m
     [90m 171 |[39m   it([32m'applies correct styling to navigation links'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 172 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 173 |[39m     
     [90m 174 |[39m     [36mconst[39m homeLink [33m=[39m screen[33m.[39mgetByText([32m'Home'[39m)[33m;[39m
     [90m 175 |[39m     expect(homeLink[33m.[39mclosest([32m'a'[39m))[33m.[39mtoHaveClass([32m'text-base font-medium text-gray-600 hover:text-blue-600 transition-colors'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:172:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:172:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SearchBar (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:23:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\SiteHeader.test.tsx:172:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 170 |[39m
     [90m 171 |[39m   it([32m'applies correct styling to navigation links'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 172 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 173 |[39m     
     [90m 174 |[39m     [36mconst[39m homeLink [33m=[39m screen[33m.[39mgetByText([32m'Home'[39m)[33m;[39m
     [90m 175 |[39m     expect(homeLink[33m.[39mclosest([32m'a'[39m))[33m.[39mtoHaveClass([32m'text-base font-medium text-gray-600 hover:text-blue-600 transition-colors'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:172:11)

    console.error
      The above error occurred in the <SearchBar> component:
      
          at siteId (C:\Users\T\directorymonster\src\components\search\SearchBar.tsx:17:3)
          at div
          at div
          at div
          at header
          at site (C:\Users\T\directorymonster\src\components\SiteHeader.tsx:12:38)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 170 |[39m
     [90m 171 |[39m   it([32m'applies correct styling to navigation links'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 172 |[39m     render([33m<[39m[33mSiteHeader[39m site[33m=[39m{mockSite} categories[33m=[39m{mockCategories} [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 173 |[39m     
     [90m 174 |[39m     [36mconst[39m homeLink [33m=[39m screen[33m.[39mgetByText([32m'Home'[39m)[33m;[39m
     [90m 175 |[39m     expect(homeLink[33m.[39mclosest([32m'a'[39m))[33m.[39mtoHaveClass([32m'text-base font-medium text-gray-600 hover:text-blue-600 transition-colors'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:172:11)

  ‚óè SiteHeader Component ‚Ä∫ renders site name correctly

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:74:11)

  ‚óè SiteHeader Component ‚Ä∫ renders logo when logoUrl is provided

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:80:11)

  ‚óè SiteHeader Component ‚Ä∫ does not render logo when logoUrl is not provided

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:90:11)

  ‚óè SiteHeader Component ‚Ä∫ renders SEO-optimized H1 tag with headerText

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:97:11)

  ‚óè SiteHeader Component ‚Ä∫ renders home link correctly

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:106:11)

  ‚óè SiteHeader Component ‚Ä∫ renders all category links correctly

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:114:11)

  ‚óè SiteHeader Component ‚Ä∫ renders correctly with empty categories array

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:136:11)

  ‚óè SiteHeader Component ‚Ä∫ applies correct CSS classes for responsive layout

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:148:11)

  ‚óè SiteHeader Component ‚Ä∫ applies correct styling to navigation links

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:172:11)

(node:47432) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:46144) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:40832) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:52060) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/admin/categories/CategoryTable.basic.test.tsx
  ‚óè Console

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:23:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:23:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:23:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:23:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:45:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:45:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:45:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:45:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:63:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:63:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:63:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:63:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:90:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:90:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:90:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:90:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:113:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:113:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:113:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:113:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:138:31)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:138:31)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:138:31)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:138:31)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:160:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:160:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:160:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:160:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:184:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:184:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.basic.test.tsx:184:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.basic.test.tsx:184:11)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ renders the component with all expected sections

    TestingLibraryElementError: Unable to find an accessible element with the role "table"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 24 |[39m     
     [90m 25 |[39m     [90m// Verify the main container renders[39m
    [31m[1m>[22m[39m[90m 26 |[39m     [36mconst[39m container [33m=[39m screen[33m.[39mgetByRole([32m'table'[39m)[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 27 |[39m     expect(container)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 28 |[39m     
     [90m 29 |[39m     [90m// Verify header section with columns[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/admin/categories/CategoryTable.basic.test.tsx:26:30)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ renders the loading state when isLoading is true

    TestingLibraryElementError: Unable to find an element by: [data-testid="loading-status"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 46 |[39m     
     [90m 47 |[39m     [90m// Should show loading skeleton with appropriate aria role[39m
    [31m[1m>[22m[39m[90m 48 |[39m     [36mconst[39m loadingStatus [33m=[39m screen[33m.[39mgetByTestId([32m'loading-status'[39m)[33m;[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 49 |[39m     expect(loadingStatus)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m     expect(loadingStatus)[33m.[39mtoHaveTextContent([32m'Loading categories data, please wait...'[39m)[33m;[39m
     [90m 51 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.basic.test.tsx:48:34)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ renders the error state when error is present

    expect(element).toHaveTextContent()

    Expected element to have text content:
      Failed to fetch categories
    Received:
      fetch is not defined

    [0m [90m 70 |[39m     [36mconst[39m errorMessageElement [33m=[39m screen[33m.[39mgetByTestId([32m'error-message'[39m)[33m;[39m
     [90m 71 |[39m     expect(errorMessageElement)[33m.[39mtoBeInTheDocument()[33m;[39m
    [31m[1m>[22m[39m[90m 72 |[39m     expect(errorMessageElement)[33m.[39mtoHaveTextContent(errorMessage)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 73 |[39m     
     [90m 74 |[39m     [90m// Should show retry button[39m
     [90m 75 |[39m     [36mconst[39m retryButton [33m=[39m screen[33m.[39mgetByTestId([32m'retry-button'[39m)[33m;[39m[0m

      at Object.toHaveTextContent (tests/admin/categories/CategoryTable.basic.test.tsx:72:33)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ renders the empty state when categories array is empty

    TestingLibraryElementError: Unable to find an element by: [data-testid="empty-state-container"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 91 |[39m     
     [90m 92 |[39m     [90m// Should show empty state[39m
    [31m[1m>[22m[39m[90m 93 |[39m     [36mconst[39m emptyState [33m=[39m screen[33m.[39mgetByTestId([32m'empty-state-container'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 94 |[39m     expect(emptyState)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 95 |[39m     
     [90m 96 |[39m     [90m// Should contain appropriate messaging[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.basic.test.tsx:93:31)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ renders the correct number of category rows

    TestingLibraryElementError: Unable to find an accessible element with the role "row"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 114 |[39m     
     [90m 115 |[39m     [90m// Check that there's the expected number of rows in the table[39m
    [31m[1m>[22m[39m[90m 116 |[39m     [36mconst[39m tableRows [33m=[39m screen[33m.[39mgetAllByRole([32m'row'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 117 |[39m     [90m// +1 for the header row[39m
     [90m 118 |[39m     expect(tableRows[33m.[39mlength)[33m.[39mtoBe(mockCategories[33m.[39mlength [33m+[39m [35m1[39m)[33m;[39m
     [90m 119 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.getAllByRole (tests/admin/categories/CategoryTable.basic.test.tsx:116:30)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ conditionally shows site column depending on mode

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    [0m [90m 140 |[39m     [90m// Should show site column[39m
     [90m 141 |[39m     [36mconst[39m siteColumnHeader [33m=[39m screen[33m.[39mqueryByText([32m'Site'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 142 |[39m     expect(siteColumnHeader)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 143 |[39m     
     [90m 144 |[39m     unmount()[33m;[39m
     [90m 145 |[39m     [0m

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:326:15)
      at Object.toBeInTheDocument (tests/admin/categories/CategoryTable.basic.test.tsx:142:30)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ uses correct data-testid attributes for accessibility and testing

    TestingLibraryElementError: Unable to find an element by: [data-testid="categories-mobile-view"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 161 |[39m     
     [90m 162 |[39m     [90m// Verify key elements have proper test IDs[39m
    [31m[1m>[22m[39m[90m 163 |[39m     expect(screen[33m.[39mgetByTestId([32m'categories-mobile-view'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 164 |[39m     expect(screen[33m.[39mgetByTestId([32m'pagination-container'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 165 |[39m     
     [90m 166 |[39m     [90m// Verify each row has proper test IDs[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.basic.test.tsx:163:19)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ contains proper semantic structure for accessibility

    TestingLibraryElementError: Unable to find an accessible element with the role "table"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 185 |[39m     
     [90m 186 |[39m     [90m// Verify semantic table structure[39m
    [31m[1m>[22m[39m[90m 187 |[39m     expect(screen[33m.[39mgetByRole([32m'table'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 188 |[39m     expect(screen[33m.[39mgetByRole([32m'rowgroup'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m [90m// tbody[39m
     [90m 189 |[39m     
     [90m 190 |[39m     [90m// Verify column headers[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/admin/categories/CategoryTable.basic.test.tsx:187:19)

(node:33408) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:12656) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/admin/categories/CategoryTable.filtering.test.tsx
  ‚óè Console

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:30:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:30:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:30:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:30:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:46:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:46:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:46:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:46:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:75:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:75:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:75:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:75:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:97:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:97:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:97:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:97:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:122:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:122:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:136:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:136:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:136:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:136:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:162:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:162:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:162:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:162:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:190:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:190:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:190:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:190:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:210:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:210:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:210:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:210:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:226:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:226:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:226:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:226:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:250:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:250:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.filtering.test.tsx:250:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.filtering.test.tsx:250:11)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ renders search input and it calls setSearchTerm when used

    TestingLibraryElementError: Unable to find an element by: [data-testid="search-input"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 31 |[39m     
     [90m 32 |[39m     [90m// Find the search input[39m
    [31m[1m>[22m[39m[90m 33 |[39m     [36mconst[39m searchInput [33m=[39m screen[33m.[39mgetByTestId([32m'search-input'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 34 |[39m     expect(searchInput)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 35 |[39m     
     [90m 36 |[39m     [90m// Type in the search input[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:33:32)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ renders parent filter dropdown with correct options

    TestingLibraryElementError: Unable to find an element by: [data-testid="parent-filter-select"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 47 |[39m     
     [90m 48 |[39m     [90m// Find the parent filter dropdown[39m
    [31m[1m>[22m[39m[90m 49 |[39m     [36mconst[39m parentFilterSelect [33m=[39m screen[33m.[39mgetByTestId([32m'parent-filter-select'[39m)[33m;[39m
     [90m    |[39m                                       [31m[1m^[22m[39m
     [90m 50 |[39m     expect(parentFilterSelect)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 51 |[39m     
     [90m 52 |[39m     [90m// Open the dropdown to see options[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:49:39)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ calls setParentFilter when parent filter is changed

    TestingLibraryElementError: Unable to find an element by: [data-testid="parent-filter-select"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 76 |[39m     
     [90m 77 |[39m     [90m// Find the parent filter dropdown[39m
    [31m[1m>[22m[39m[90m 78 |[39m     [36mconst[39m parentFilterSelect [33m=[39m screen[33m.[39mgetByTestId([32m'parent-filter-select'[39m)[33m;[39m
     [90m    |[39m                                       [31m[1m^[22m[39m
     [90m 79 |[39m     
     [90m 80 |[39m     [90m// Select a parent category[39m
     [90m 81 |[39m     [36mawait[39m user[33m.[39mclick(parentFilterSelect)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:78:39)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ shows site filter dropdown in multi-site mode

    TestingLibraryElementError: Unable to find an element by: [data-testid="site-filter-select"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m  98 |[39m     
     [90m  99 |[39m     [90m// Find the site filter dropdown[39m
    [31m[1m>[22m[39m[90m 100 |[39m     [36mconst[39m siteFilterSelect [33m=[39m screen[33m.[39mgetByTestId([32m'site-filter-select'[39m)[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 101 |[39m     expect(siteFilterSelect)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 102 |[39m     
     [90m 103 |[39m     [90m// Open the dropdown to see options[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:100:37)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ calls setSiteFilter when site filter is changed

    TestingLibraryElementError: Unable to find an element by: [data-testid="site-filter-select"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 137 |[39m     
     [90m 138 |[39m     [90m// Find the site filter dropdown[39m
    [31m[1m>[22m[39m[90m 139 |[39m     [36mconst[39m siteFilterSelect [33m=[39m screen[33m.[39mgetByTestId([32m'site-filter-select'[39m)[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 140 |[39m     
     [90m 141 |[39m     [90m// Select a site[39m
     [90m 142 |[39m     [36mawait[39m user[33m.[39mclick(siteFilterSelect)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:139:37)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ provides a clear search button that resets search term

    TestingLibraryElementError: Unable to find an element by: [data-testid="clear-search-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 163 |[39m     
     [90m 164 |[39m     [90m// Find the clear search button[39m
    [31m[1m>[22m[39m[90m 165 |[39m     [36mconst[39m clearButton [33m=[39m screen[33m.[39mgetByTestId([32m'clear-search-button'[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 166 |[39m     expect(clearButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 167 |[39m     
     [90m 168 |[39m     [90m// Click the clear button[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:165:32)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ includes a reset filters button that resets all filters

    TestingLibraryElementError: Unable to find an element by: [data-testid="reset-filters-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 191 |[39m     
     [90m 192 |[39m     [90m// Find the reset filters button[39m
    [31m[1m>[22m[39m[90m 193 |[39m     [36mconst[39m resetButton [33m=[39m screen[33m.[39mgetByTestId([32m'reset-filters-button'[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 194 |[39m     expect(resetButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 195 |[39m     
     [90m 196 |[39m     [90m// Click the reset button[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:193:32)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ displays the total number of filtered categories

    TestingLibraryElementError: Unable to find an element by: [data-testid="total-categories-count"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 211 |[39m     
     [90m 212 |[39m     [90m// Find the total categories count[39m
    [31m[1m>[22m[39m[90m 213 |[39m     [36mconst[39m totalCount [33m=[39m screen[33m.[39mgetByTestId([32m'total-categories-count'[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 214 |[39m     expect(totalCount)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 215 |[39m     expect(totalCount)[33m.[39mtoHaveTextContent([32m`${mockCategories.length}`[39m)[33m;[39m
     [90m 216 |[39m   })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:213:31)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ shows a message when no categories match the filters

    TestingLibraryElementError: Unable to find an element by: [data-testid="no-results-message"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 227 |[39m     
     [90m 228 |[39m     [90m// Should show a "no results" message[39m
    [31m[1m>[22m[39m[90m 229 |[39m     [36mconst[39m noResultsMessage [33m=[39m screen[33m.[39mgetByTestId([32m'no-results-message'[39m)[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 230 |[39m     expect(noResultsMessage)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 231 |[39m     expect(noResultsMessage)[33m.[39mtoHaveTextContent([35m/No categories match your filters/i[39m)[33m;[39m
     [90m 232 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:229:37)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ performs a case-insensitive search

    TestingLibraryElementError: Unable to find an element by: [data-testid="search-input"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 251 |[39m     
     [90m 252 |[39m     [90m// Find the search input[39m
    [31m[1m>[22m[39m[90m 253 |[39m     [36mconst[39m searchInput [33m=[39m screen[33m.[39mgetByTestId([32m'search-input'[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 254 |[39m     
     [90m 255 |[39m     [90m// Type a mixed-case search term[39m
     [90m 256 |[39m     [36mawait[39m user[33m.[39mtype(searchInput[33m,[39m [32m'TeSt CaTeGoRy'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:253:32)

FAIL tests/admin/categories/hooks/useCategories.init.test.ts
  ‚óè Console

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.init.test.ts:29:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.init.test.ts:29:34)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 77 |[39m       })[33m;[39m
     [90m 78 |[39m       
    [31m[1m>[22m[39m[90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setCategories (src/components/admin/categories/hooks/useCategories.ts:79:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 78 |[39m       
     [90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
    [31m[1m>[22m[39m[90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
     [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setAllCategories (src/components/admin/categories/hooks/useCategories.ts:80:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m 84 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 86 |[39m     }
     [90m 87 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 88 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/categories/hooks/useCategories.ts:85:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  99 |[39m       
     [90m 100 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 101 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
     [90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 104 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/categories/hooks/useCategories.ts:101:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 77 |[39m       })[33m;[39m
     [90m 78 |[39m       
    [31m[1m>[22m[39m[90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setCategories (src/components/admin/categories/hooks/useCategories.ts:79:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 78 |[39m       
     [90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
    [31m[1m>[22m[39m[90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
     [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setAllCategories (src/components/admin/categories/hooks/useCategories.ts:80:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m 84 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 86 |[39m     }
     [90m 87 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 88 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/categories/hooks/useCategories.ts:85:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setError (src/components/admin/categories/hooks/useCategories.ts:82:7)

    console.error
      Error fetching categories: Error: Failed to fetch categories: Failed to fetch categories
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:52:15
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m 84 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 86 |[39m     }
     [90m 87 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 88 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/categories/hooks/useCategories.ts:85:7)

    console.error
      Error fetching sites: Error: Failed to fetch sites: Failed to fetch categories
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:97:15
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)

    console.error
      Error fetching sites: TypeError: fetch is not a function
          at fetch (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:30)
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at renderHook (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:334:7)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\hooks\useCategories.init.test.ts:122:34)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at renderHook (node_modules/@testing-library/react/dist/pure.js:334:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.init.test.ts:122:34)

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

    [0m [90m 136 |[39m     
     [90m 137 |[39m     [90m// Call fetchCategories[39m
    [31m[1m>[22m[39m[90m 138 |[39m     [36mawait[39m act([36masync[39m () [33m=>[39m {
     [90m     |[39m              [31m[1m^[22m[39m
     [90m 139 |[39m       [36mawait[39m result[33m.[39mcurrent[33m.[39mfetchCategories()[33m;[39m
     [90m 140 |[39m     })[33m;[39m
     [90m 141 |[39m     [0m

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at Object.<anonymous> (tests/admin/categories/hooks/useCategories.init.test.ts:138:14)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 77 |[39m       })[33m;[39m
     [90m 78 |[39m       
    [31m[1m>[22m[39m[90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setCategories (src/components/admin/categories/hooks/useCategories.ts:79:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 78 |[39m       
     [90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
    [31m[1m>[22m[39m[90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
     [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setAllCategories (src/components/admin/categories/hooks/useCategories.ts:80:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m 84 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 86 |[39m     }
     [90m 87 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 88 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/categories/hooks/useCategories.ts:85:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  99 |[39m       
     [90m 100 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 101 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
     [90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 104 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/categories/hooks/useCategories.ts:101:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 77 |[39m       })[33m;[39m
     [90m 78 |[39m       
    [31m[1m>[22m[39m[90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setCategories (src/components/admin/categories/hooks/useCategories.ts:79:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 78 |[39m       
     [90m 79 |[39m       setCategories(enrichedCategories)[33m;[39m
    [31m[1m>[22m[39m[90m 80 |[39m       setAllCategories(enrichedCategories)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
     [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setAllCategories (src/components/admin/categories/hooks/useCategories.ts:80:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m 84 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 86 |[39m     }
     [90m 87 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 88 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/categories/hooks/useCategories.ts:85:7)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should initialize with provided categories data

    expect(received).toEqual(expected) // deep equality

    - Expected  - 13
    + Received  + 13

    @@ -12,23 +12,10 @@
          "slug": "test-category-1",
          "updatedAt": 1743218417677,
        },
        Object {
          "childCount": 0,
    -     "createdAt": 1743049217677,
    -     "id": "category_2",
    -     "metaDescription": "This is test category 2",
    -     "name": "Test Category 2",
    -     "order": 2,
    -     "parentId": null,
    -     "siteId": "site_1",
    -     "siteName": "Test Site",
    -     "slug": "test-category-2",
    -     "updatedAt": 1743214817677,
    -   },
    -   Object {
    -     "childCount": 0,
          "createdAt": 1743178817677,
          "id": "category_3",
          "metaDescription": "This is a subcategory",
          "name": "Subcategory 1",
          "order": 1,
    @@ -36,7 +23,20 @@
          "parentName": "Test Category 1",
          "siteId": "site_1",
          "siteName": "Test Site",
          "slug": "subcategory-1",
          "updatedAt": 1743220217677,
    +   },
    +   Object {
    +     "childCount": 0,
    +     "createdAt": 1743049217677,
    +     "id": "category_2",
    +     "metaDescription": "This is test category 2",
    +     "name": "Test Category 2",
    +     "order": 2,
    +     "parentId": null,
    +     "siteId": "site_1",
    +     "siteName": "Test Site",
    +     "slug": "test-category-2",
    +     "updatedAt": 1743214817677,
        },
      ]

    [0m [90m 31 |[39m     [90m// Verify initial state[39m
     [90m 32 |[39m     expect(result[33m.[39mcurrent[33m.[39mcategories)[33m.[39mtoEqual(mockCategories)[33m;[39m
    [31m[1m>[22m[39m[90m 33 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories)[33m.[39mtoEqual(mockCategories)[33m;[39m
     [90m    |[39m                                               [31m[1m^[22m[39m
     [90m 34 |[39m     expect(result[33m.[39mcurrent[33m.[39mallCategories)[33m.[39mtoEqual(mockCategories)[33m;[39m
     [90m 35 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 36 |[39m     expect(result[33m.[39mcurrent[33m.[39merror)[33m.[39mtoBeNull()[33m;[39m[0m

      at Object.toEqual (tests/admin/categories/hooks/useCategories.init.test.ts:33:47)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should initialize with loading state and fetch categories when no initial data

    TypeError: waitForNextUpdate is not a function

    [0m [90m 65 |[39m     
     [90m 66 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 67 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 68 |[39m     
     [90m 69 |[39m     [90m// Verify fetch was called[39m
     [90m 70 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledTimes([35m2[39m)[33m;[39m [90m// Once for categories, once for sites[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:67:11)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should fetch site-specific categories when siteSlug is provided

    TypeError: waitForNextUpdate is not a function

    [0m [90m 89 |[39m     
     [90m 90 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 91 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 92 |[39m     
     [90m 93 |[39m     [90m// Verify fetch was called with site-specific endpoint[39m
     [90m 94 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m`/api/sites/${siteSlug}/categories`[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:91:11)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should handle fetch errors gracefully

    TypeError: waitForNextUpdate is not a function

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 112 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 113 |[39m     
     [90m 114 |[39m     [90m// Verify error state[39m
     [90m 115 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:112:11)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should fetch sites for multi-site mode

    TypeError: waitForNextUpdate is not a function

    [0m [90m 170 |[39m     
     [90m 171 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 172 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 173 |[39m     
     [90m 174 |[39m     [90m// Verify sites fetch was called[39m
     [90m 175 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m'/api/sites'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:172:11)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should not fetch sites when in single-site mode

    TypeError: waitForNextUpdate is not a function

    [0m [90m 187 |[39m     
     [90m 188 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 189 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 190 |[39m     
     [90m 191 |[39m     [90m// Verify sites fetch was not called[39m
     [90m 192 |[39m     expect(global[33m.[39mfetch)[33m.[39mnot[33m.[39mtoHaveBeenCalledWith([32m'/api/sites'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:189:11)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should handle sites fetch errors gracefully

    TypeError: waitForNextUpdate is not a function

    [0m [90m 222 |[39m     
     [90m 223 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 224 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 225 |[39m     
     [90m 226 |[39m     [90m// Verify error was logged[39m
     [90m 227 |[39m     expect(console[33m.[39merror)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:224:11)

FAIL tests/admin/categories/CategoryTable.pagination.test.tsx
  ‚óè Console

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:52:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:52:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:52:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:52:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:80:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:80:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:80:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:80:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:124:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:124:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:124:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:124:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:165:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:165:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:165:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:165:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:193:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:193:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:193:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:193:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:216:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:216:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:216:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:216:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:235:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:235:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:235:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:235:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:267:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:267:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:267:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:267:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:287:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:287:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:287:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:287:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:307:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:307:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:307:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:307:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:358:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:358:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.pagination.test.tsx:358:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.pagination.test.tsx:358:11)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ renders pagination with correct information

    TestingLibraryElementError: Unable to find an element by: [data-testid="pagination-status"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 53 |[39m     
     [90m 54 |[39m     [90m// Find pagination status text[39m
    [31m[1m>[22m[39m[90m 55 |[39m     [36mconst[39m paginationStatus [33m=[39m screen[33m.[39mgetByTestId([32m'pagination-status'[39m)[33m;[39m
     [90m    |[39m                                     [31m[1m^[22m[39m
     [90m 56 |[39m     expect(paginationStatus)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 57 |[39m     expect(paginationStatus)[33m.[39mtoHaveTextContent([32m'Showing 1 to 10 of 25 categories'[39m)[33m;[39m
     [90m 58 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:55:37)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ calls goToPage when pagination controls are clicked

    TestingLibraryElementError: Unable to find an element by: [data-testid="next-page-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 81 |[39m     
     [90m 82 |[39m     [90m// Find pagination navigation buttons[39m
    [31m[1m>[22m[39m[90m 83 |[39m     [36mconst[39m nextPageButton [33m=[39m screen[33m.[39mgetByTestId([32m'next-page-button'[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 84 |[39m     expect(nextPageButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 85 |[39m     
     [90m 86 |[39m     [90m// Click next page button[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:83:35)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ disables pagination buttons appropriately

    TestingLibraryElementError: Unable to find an element by: [data-testid="prev-page-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 124 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 125 |[39m     
    [31m[1m>[22m[39m[90m 126 |[39m     [36mconst[39m prevPageButton [33m=[39m screen[33m.[39mgetByTestId([32m'prev-page-button'[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 127 |[39m     expect(prevPageButton)[33m.[39mtoBeDisabled()[33m;[39m
     [90m 128 |[39m     
     [90m 129 |[39m     [36mconst[39m nextPageButton [33m=[39m screen[33m.[39mgetByTestId([32m'next-page-button'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:126:35)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ calls setItemsPerPage when items per page selector is changed

    TestingLibraryElementError: Unable to find an element by: [data-testid="items-per-page-select"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 166 |[39m     
     [90m 167 |[39m     [90m// Find the items per page selector[39m
    [31m[1m>[22m[39m[90m 168 |[39m     [36mconst[39m itemsPerPageSelect [33m=[39m screen[33m.[39mgetByTestId([32m'items-per-page-select'[39m)[33m;[39m
     [90m     |[39m                                       [31m[1m^[22m[39m
     [90m 169 |[39m     expect(itemsPerPageSelect)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 170 |[39m     
     [90m 171 |[39m     [90m// Change the selection[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:168:39)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ handles empty pages gracefully

    TestingLibraryElementError: Unable to find an element by: [data-testid="pagination-status"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 194 |[39m     
     [90m 195 |[39m     [90m// Pagination status should indicate no results[39m
    [31m[1m>[22m[39m[90m 196 |[39m     [36mconst[39m paginationStatus [33m=[39m screen[33m.[39mgetByTestId([32m'pagination-status'[39m)[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 197 |[39m     expect(paginationStatus)[33m.[39mtoHaveTextContent([32m'Showing 0 to 0 of 0 categories'[39m)[33m;[39m
     [90m 198 |[39m     
     [90m 199 |[39m     [90m// Page navigation buttons should be disabled[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:196:37)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ calls confirmDelete when delete button is clicked

    TestingLibraryElementError: Unable to find an element by: [data-testid="delete-button-category_1"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 217 |[39m     
     [90m 218 |[39m     [90m// Find the delete button for the first category[39m
    [31m[1m>[22m[39m[90m 219 |[39m     [36mconst[39m deleteButton [33m=[39m screen[33m.[39mgetAllByTestId([32m'delete-button-category_1'[39m)[[35m0[39m][33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 220 |[39m     expect(deleteButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 221 |[39m     
     [90m 222 |[39m     [90m// Click the delete button[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.getAllByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:219:33)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ renders the delete confirmation modal correctly

    TestingLibraryElementError: Unable to find an element by: [data-testid="delete-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 236 |[39m     
     [90m 237 |[39m     [90m// Modal should be visible[39m
    [31m[1m>[22m[39m[90m 238 |[39m     [36mconst[39m modal [33m=[39m screen[33m.[39mgetByTestId([32m'delete-modal'[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 239 |[39m     expect(modal)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 240 |[39m     
     [90m 241 |[39m     [90m// Modal should have correct title[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:238:26)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ calls handleDelete when delete is confirmed

    TestingLibraryElementError: Unable to find an element by: [data-testid="confirm-delete-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 268 |[39m     
     [90m 269 |[39m     [90m// Find and click confirm button[39m
    [31m[1m>[22m[39m[90m 270 |[39m     [36mconst[39m confirmButton [33m=[39m screen[33m.[39mgetByTestId([32m'confirm-delete-button'[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 271 |[39m     [36mawait[39m user[33m.[39mclick(confirmButton)[33m;[39m
     [90m 272 |[39m     
     [90m 273 |[39m     [90m// Verify handleDelete was called with the right category ID[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:270:34)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ calls cancelDelete when delete is cancelled

    TestingLibraryElementError: Unable to find an element by: [data-testid="cancel-delete-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 288 |[39m     
     [90m 289 |[39m     [90m// Find and click cancel button[39m
    [31m[1m>[22m[39m[90m 290 |[39m     [36mconst[39m cancelButton [33m=[39m screen[33m.[39mgetByTestId([32m'cancel-delete-button'[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 291 |[39m     [36mawait[39m user[33m.[39mclick(cancelButton)[33m;[39m
     [90m 292 |[39m     
     [90m 293 |[39m     [90m// Verify cancelDelete was called[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:290:33)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ closes the modal when escape key is pressed

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    [0m [90m 311 |[39m     
     [90m 312 |[39m     [90m// Verify cancelDelete was called[39m
    [31m[1m>[22m[39m[90m 313 |[39m     expect(mockCancelDelete)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 314 |[39m   })[33m;[39m
     [90m 315 |[39m
     [90m 316 |[39m   it([32m'handles deletion of the last item on a page'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toHaveBeenCalledTimes (tests/admin/categories/CategoryTable.pagination.test.tsx:313:30)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ handles deletion of the last item on a page

    TestingLibraryElementError: Unable to find an element by: [data-testid="confirm-delete-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 359 |[39m     
     [90m 360 |[39m     [90m// Find and click confirm button[39m
    [31m[1m>[22m[39m[90m 361 |[39m     [36mconst[39m confirmButton [33m=[39m screen[33m.[39mgetByTestId([32m'confirm-delete-button'[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 362 |[39m     [36mawait[39m user[33m.[39mclick(confirmButton)[33m;[39m
     [90m 363 |[39m     
     [90m 364 |[39m     [90m// Verify handleDelete was called[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:361:34)

(node:56188) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/admin/categories/CategoryTable.hierarchy.test.tsx
  ‚óè Console

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:30:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:30:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:30:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:30:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:62:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:62:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:62:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:62:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:94:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:94:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:94:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:94:11)

    console.error
      Warning: React has detected a change in the order of Hooks called by CategoryTable. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks
      
         Previous render            Next render
         ------------------------------------------------------
      1. useState                   useState
      2. useState                   useState
      3. useState                   useState
      4. useState                   useState
      5. useState                   useState
      6. useState                   useState
      7. useState                   useState
      8. useState                   useState
      9. useState                   useState
      10. useState                  useState
      11. useState                  useState
      12. useState                  useState
      13. useState                  useState
      14. useState                  useState
      15. useState                  useState
      16. useCallback               useState
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
      
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:23:41)

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnOnHookMismatchInDev (node_modules/react-dom/cjs/react-dom.development.js:15401:9)
      at updateHookTypesDev (node_modules/react-dom/cjs/react-dom.development.js:15360:9)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17091:7)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:94:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:94:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:94:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 92 |[39m     })[33m;[39m
     [90m 93 |[39m     
    [31m[1m>[22m[39m[90m 94 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 95 |[39m     
     [90m 96 |[39m     [90m// In hierarchy view, only top-level categories (without parents) would be at the root level[39m
     [90m 97 |[39m     [36mconst[39m topLevelCategories [33m=[39m mockHierarchicalCategories[33m.[39mfilter(c [33m=>[39m [33m![39mc[33m.[39mparentId)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:94:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:94:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:94:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 92 |[39m     })[33m;[39m
     [90m 93 |[39m     
    [31m[1m>[22m[39m[90m 94 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 95 |[39m     
     [90m 96 |[39m     [90m// In hierarchy view, only top-level categories (without parents) would be at the root level[39m
     [90m 97 |[39m     [36mconst[39m topLevelCategories [33m=[39m mockHierarchicalCategories[33m.[39mfilter(c [33m=>[39m [33m![39mc[33m.[39mparentId)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:94:11)

    console.error
      The above error occurred in the <CategoryTable> component:
      
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:23:41)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 92 |[39m     })[33m;[39m
     [90m 93 |[39m     
    [31m[1m>[22m[39m[90m 94 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 95 |[39m     
     [90m 96 |[39m     [90m// In hierarchy view, only top-level categories (without parents) would be at the root level[39m
     [90m 97 |[39m     [36mconst[39m topLevelCategories [33m=[39m mockHierarchicalCategories[33m.[39mfilter(c [33m=>[39m [33m![39mc[33m.[39mparentId)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:94:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:125:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:125:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:125:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:125:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:125:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:125:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 123 |[39m     })[33m;[39m
     [90m 124 |[39m     
    [31m[1m>[22m[39m[90m 125 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 126 |[39m     
     [90m 127 |[39m     [90m// Find table rows[39m
     [90m 128 |[39m     [36mconst[39m tableRows [33m=[39m screen[33m.[39mgetAllByRole([32m'row'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:125:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:125:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:125:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 123 |[39m     })[33m;[39m
     [90m 124 |[39m     
    [31m[1m>[22m[39m[90m 125 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 126 |[39m     
     [90m 127 |[39m     [90m// Find table rows[39m
     [90m 128 |[39m     [36mconst[39m tableRows [33m=[39m screen[33m.[39mgetAllByRole([32m'row'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:125:11)

    console.error
      The above error occurred in the <CategoryTable> component:
      
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:23:41)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 123 |[39m     })[33m;[39m
     [90m 124 |[39m     
    [31m[1m>[22m[39m[90m 125 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 126 |[39m     
     [90m 127 |[39m     [90m// Find table rows[39m
     [90m 128 |[39m     [36mconst[39m tableRows [33m=[39m screen[33m.[39mgetAllByRole([32m'row'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:125:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:162:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:162:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:162:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:162:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:162:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:162:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 160 |[39m     })[33m;[39m
     [90m 161 |[39m     
    [31m[1m>[22m[39m[90m 162 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m     
     [90m 164 |[39m     [90m// Check that child categories have the tree line indicator[39m
     [90m 165 |[39m     [36mconst[39m childCategories [33m=[39m mockHierarchicalCategories[33m.[39mfilter(c [33m=>[39m c[33m.[39mparentId)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:162:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:162:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:162:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 160 |[39m     })[33m;[39m
     [90m 161 |[39m     
    [31m[1m>[22m[39m[90m 162 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m     
     [90m 164 |[39m     [90m// Check that child categories have the tree line indicator[39m
     [90m 165 |[39m     [36mconst[39m childCategories [33m=[39m mockHierarchicalCategories[33m.[39mfilter(c [33m=>[39m c[33m.[39mparentId)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:162:11)

    console.error
      The above error occurred in the <CategoryTable> component:
      
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:23:41)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 160 |[39m     })[33m;[39m
     [90m 161 |[39m     
    [31m[1m>[22m[39m[90m 162 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 163 |[39m     
     [90m 164 |[39m     [90m// Check that child categories have the tree line indicator[39m
     [90m 165 |[39m     [36mconst[39m childCategories [33m=[39m mockHierarchicalCategories[33m.[39mfilter(c [33m=>[39m c[33m.[39mparentId)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:162:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:213:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:213:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:213:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:213:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:213:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:213:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 211 |[39m     })[33m;[39m
     [90m 212 |[39m     
    [31m[1m>[22m[39m[90m 213 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 214 |[39m     
     [90m 215 |[39m     [90m// Check that the deepest child category is rendered with appropriate depth[39m
     [90m 216 |[39m     [36mconst[39m deepestChild [33m=[39m screen[33m.[39mgetByTestId([32m'category-row-category_7'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:213:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:213:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:213:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 211 |[39m     })[33m;[39m
     [90m 212 |[39m     
    [31m[1m>[22m[39m[90m 213 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 214 |[39m     
     [90m 215 |[39m     [90m// Check that the deepest child category is rendered with appropriate depth[39m
     [90m 216 |[39m     [36mconst[39m deepestChild [33m=[39m screen[33m.[39mgetByTestId([32m'category-row-category_7'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:213:11)

    console.error
      The above error occurred in the <CategoryTable> component:
      
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:23:41)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 211 |[39m     })[33m;[39m
     [90m 212 |[39m     
    [31m[1m>[22m[39m[90m 213 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 214 |[39m     
     [90m 215 |[39m     [90m// Check that the deepest child category is rendered with appropriate depth[39m
     [90m 216 |[39m     [36mconst[39m deepestChild [33m=[39m screen[33m.[39mgetByTestId([32m'category-row-category_7'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:213:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:272:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:272:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:272:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:272:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:272:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:272:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 270 |[39m     })[33m;[39m
     [90m 271 |[39m     
    [31m[1m>[22m[39m[90m 272 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 273 |[39m     
     [90m 274 |[39m     [90m// Check that both edge case categories are rendered at the top level (no parent)[39m
     [90m 275 |[39m     [36mconst[39m nullParentRow [33m=[39m screen[33m.[39mgetByTestId([32m'category-row-category_null_parent'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:272:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:272:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:272:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 270 |[39m     })[33m;[39m
     [90m 271 |[39m     
    [31m[1m>[22m[39m[90m 272 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 273 |[39m     
     [90m 274 |[39m     [90m// Check that both edge case categories are rendered at the top level (no parent)[39m
     [90m 275 |[39m     [36mconst[39m nullParentRow [33m=[39m screen[33m.[39mgetByTestId([32m'category-row-category_null_parent'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:272:11)

    console.error
      The above error occurred in the <CategoryTable> component:
      
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:23:41)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 270 |[39m     })[33m;[39m
     [90m 271 |[39m     
    [31m[1m>[22m[39m[90m 272 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 273 |[39m     
     [90m 274 |[39m     [90m// Check that both edge case categories are rendered at the top level (no parent)[39m
     [90m 275 |[39m     [36mconst[39m nullParentRow [33m=[39m screen[33m.[39mgetByTestId([32m'category-row-category_null_parent'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:272:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:348:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:348:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:348:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:348:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:348:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:348:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 346 |[39m     })[33m;[39m
     [90m 347 |[39m     
    [31m[1m>[22m[39m[90m 348 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 349 |[39m     
     [90m 350 |[39m     [90m// The row order in the DOM should follow the 'order' field[39m
     [90m 351 |[39m     [90m// This is difficult to test directly, but we can verify all children are present[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:348:11)

    console.error
      Error: Uncaught [Error: Should have a queue. This is likely a bug in React. Please file an issue.]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:348:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: Should have a queue. This is likely a bug in React. Please file an issue.
            at updateReducer (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15753:11)
            at updateState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:16185:10)
            at Object.useState (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:17096:16)
            at useState (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:1622:21)
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:794:25
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
            at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13
            at mockConstructor (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:148:19)
            at useCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:36:59)
            at CategoryTable (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:55:20)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at updateFunctionComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.hierarchy.test.tsx:348:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 346 |[39m     })[33m;[39m
     [90m 347 |[39m     
    [31m[1m>[22m[39m[90m 348 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 349 |[39m     
     [90m 350 |[39m     [90m// The row order in the DOM should follow the 'order' field[39m
     [90m 351 |[39m     [90m// This is difficult to test directly, but we can verify all children are present[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:348:11)

    console.error
      The above error occurred in the <CategoryTable> component:
      
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\categories\CategoryTable.tsx:23:41)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 346 |[39m     })[33m;[39m
     [90m 347 |[39m     
    [31m[1m>[22m[39m[90m 348 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 349 |[39m     
     [90m 350 |[39m     [90m// The row order in the DOM should follow the 'order' field[39m
     [90m 351 |[39m     [90m// This is difficult to test directly, but we can verify all children are present[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:348:11)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ initially renders in flat view mode (non-hierarchical)

    TestingLibraryElementError: Unable to find an accessible element with the role "row"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 31 |[39m     
     [90m 32 |[39m     [90m// In flat view, all categories should be rendered at the same level[39m
    [31m[1m>[22m[39m[90m 33 |[39m     [36mconst[39m rows [33m=[39m screen[33m.[39mgetAllByRole([32m'row'[39m)[33m;[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 34 |[39m     [90m// The first row is the header row[39m
     [90m 35 |[39m     expect(rows[33m.[39mlength)[33m.[39mtoBe(mockHierarchicalCategories[33m.[39mlength [33m+[39m [35m1[39m)[33m;[39m
     [90m 36 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.getAllByRole (tests/admin/categories/CategoryTable.hierarchy.test.tsx:33:25)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ switches to hierarchy view mode when toggleHierarchy is called

    TestingLibraryElementError: Unable to find an element by: [data-testid="toggle-hierarchy-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 63 |[39m     
     [90m 64 |[39m     [90m// Find the toggle button for hierarchy view[39m
    [31m[1m>[22m[39m[90m 65 |[39m     [36mconst[39m toggleButton [33m=[39m screen[33m.[39mgetByTestId([32m'toggle-hierarchy-button'[39m)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 66 |[39m     expect(toggleButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 67 |[39m     
     [90m 68 |[39m     [90m// Click the toggle button[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.hierarchy.test.tsx:65:33)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ renders categories hierarchically when in hierarchy mode

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:94:11)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ renders children categories with proper indentation

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:125:11)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ renders the correct visual hierarchy indicators

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:162:11)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ correctly handles deeply nested category hierarchies

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:213:11)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ handles null or undefined parentId values gracefully

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:272:11)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ maintains sort order within each level of the hierarchy

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:348:11)

FAIL tests/admin/listings/ListingTableHeader.test.tsx
  ‚óè ListingTableHeader Component ‚Ä∫ renders category filter dropdown with correct options

    expect(received).toBe(expected) // Object.is equality

    Expected: 3
    Received: 6

    [0m [90m 87 |[39m     
     [90m 88 |[39m     [36mconst[39m options [33m=[39m screen[33m.[39mgetAllByRole([32m'option'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 89 |[39m     expect(options[33m.[39mlength)[33m.[39mtoBe(mockCategories[33m.[39mlength [33m+[39m [35m1[39m)[33m;[39m [90m// +1 for the "All Categories" option[39m
     [90m    |[39m                            [31m[1m^[22m[39m
     [90m 90 |[39m     expect(options[[35m0[39m])[33m.[39mtoHaveTextContent([32m'All Categories'[39m)[33m;[39m
     [90m 91 |[39m     expect(options[[35m1[39m])[33m.[39mtoHaveTextContent([32m'Category 1'[39m)[33m;[39m
     [90m 92 |[39m     expect(options[[35m2[39m])[33m.[39mtoHaveTextContent([32m'Category 2'[39m)[33m;[39m[0m

      at Object.toBe (tests/admin/listings/ListingTableHeader.test.tsx:89:28)

  ‚óè ListingTableHeader Component ‚Ä∫ renders site filter dropdown only in multi-site mode

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <select aria-label="Filter by site" class="w-full py-2 border rounded focus:ring-blue-500 focus:border-blue-500"><option value="">All Sites</option><option value="site_1">Site 1</option><option value="site_2">Site 2</option></select> instead

    [0m [90m 112 |[39m     render([33m<[39m[33mListingTableHeader[39m {[33m...[39mdefaultProps} siteSlug[33m=[39m[32m"test-site"[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 113 |[39m     
    [31m[1m>[22m[39m[90m 114 |[39m     expect(screen[33m.[39mqueryByRole([32m'combobox'[39m[33m,[39m { name[33m:[39m [32m'Filter by site'[39m }))[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                                                                            [31m[1m^[22m[39m
     [90m 115 |[39m   })[33m;[39m
     [90m 116 |[39m   
     [90m 117 |[39m   it([32m'uses responsive layout for filter controls'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toBeInTheDocument (tests/admin/listings/ListingTableHeader.test.tsx:114:76)

FAIL tests/integration/performance/large-dataset.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

    console.log
      Generating dataset with 50 listings for site test-fishing, category category-1

      at log (tests/integration/performance/large-dataset.test.ts:34:11)

    console.log
      Generating dataset with 200 listings for site test-fishing, category category-1

      at log (tests/integration/performance/large-dataset.test.ts:34:11)

    console.log
      Generating dataset with 50 listings for site test-fishing, category category-1

      at log (tests/integration/performance/large-dataset.test.ts:34:11)

    console.log
      Dataset size MEDIUM (50 listings): 0.20ms

      at Object.log (tests/integration/performance/large-dataset.test.ts:440:17)

    console.log
      Generating dataset with 200 listings for site test-fishing, category category-1

      at log (tests/integration/performance/large-dataset.test.ts:34:11)

    console.log
      Dataset size LARGE (200 listings): 0.28ms

      at Object.log (tests/integration/performance/large-dataset.test.ts:440:17)

    console.log
      Dataset size ratio (LARGE/MEDIUM): 4.00

      at Object.log (tests/integration/performance/large-dataset.test.ts:463:15)

    console.log
      Response time ratio (LARGE/MEDIUM): 1.42

      at Object.log (tests/integration/performance/large-dataset.test.ts:464:15)

    console.log
      Generating dataset with 50 listings for site test-fishing, category category-1

      at log (tests/integration/performance/large-dataset.test.ts:34:11)

    console.log
      Generating dataset with 50 listings for site test-fishing, category category-1

      at log (tests/integration/performance/large-dataset.test.ts:34:11)

    console.log
      Generating dataset with 50 listings for site test-fishing, category category-2

      at log (tests/integration/performance/large-dataset.test.ts:34:11)

    console.log
      Generating dataset with 50 listings for site test-fishing, category category-3

      at log (tests/integration/performance/large-dataset.test.ts:34:11)

    console.log
      Search time for term "test": 0.89ms

      at Object.log (tests/integration/performance/large-dataset.test.ts:572:15)

  ‚óè Large Dataset Handling ‚Ä∫ API Response Pagination ‚Ä∫ should return paginated results for listings

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 225 |[39m       
     [90m 226 |[39m       [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 227 |[39m       expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 228 |[39m       
     [90m 229 |[39m       [90m// Parse the response[39m
     [90m 230 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/performance/large-dataset.test.ts:227:31)

  ‚óè Large Dataset Handling ‚Ä∫ API Response Pagination ‚Ä∫ should navigate through pages correctly

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 277 |[39m       
     [90m 278 |[39m       [90m// Both responses should be successful[39m
    [31m[1m>[22m[39m[90m 279 |[39m       expect(response1[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 280 |[39m       expect(response2[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m 281 |[39m       
     [90m 282 |[39m       [90m// Verify pagination metadata[39m[0m

      at Object.toBe (tests/integration/performance/large-dataset.test.ts:279:32)

  ‚óè Large Dataset Handling ‚Ä∫ API Response Pagination ‚Ä∫ should handle invalid pagination parameters gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 323 |[39m         
     [90m 324 |[39m         [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 325 |[39m         expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 326 |[39m         
     [90m 327 |[39m         [90m// Parse the response[39m
     [90m 328 |[39m         [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/performance/large-dataset.test.ts:325:33)

  ‚óè Large Dataset Handling ‚Ä∫ Memory Usage Optimization ‚Ä∫ should maintain reasonable memory usage with large datasets

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 372 |[39m       
     [90m 373 |[39m       [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 374 |[39m       expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 375 |[39m       
     [90m 376 |[39m       [90m// Parse the response[39m
     [90m 377 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/performance/large-dataset.test.ts:374:31)

  ‚óè Large Dataset Handling ‚Ä∫ Data Consistency ‚Ä∫ should maintain data consistency across paginated results

    TypeError: Cannot read properties of undefined (reading 'totalResults')

    [0m [90m 502 |[39m       [90m// Get all listings using pagination[39m
     [90m 503 |[39m       [36mconst[39m pageSize [33m=[39m [35m10[39m[33m;[39m
    [31m[1m>[22m[39m[90m 504 |[39m       [36mconst[39m totalPages [33m=[39m [33mMath[39m[33m.[39mceil(allListingsData[33m.[39mpagination[33m.[39mtotalResults [33m/[39m pageSize)[33m;[39m
     [90m     |[39m                                                               [31m[1m^[22m[39m
     [90m 505 |[39m       
     [90m 506 |[39m       [36mlet[39m paginatedListings[33m:[39m any[] [33m=[39m [][33m;[39m
     [90m 507 |[39m       [0m

      at Object.totalResults (tests/integration/performance/large-dataset.test.ts:504:63)

  ‚óè Large Dataset Handling ‚Ä∫ Search Performance with Large Datasets ‚Ä∫ should efficiently handle search queries on large datasets

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

    [0m [90m 582 |[39m       
     [90m 583 |[39m       [90m// Search should return results[39m
    [31m[1m>[22m[39m[90m 584 |[39m       expect(data[33m.[39mresults[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 585 |[39m       
     [90m 586 |[39m       [90m// Search should limit results properly[39m
     [90m 587 |[39m       expect(data[33m.[39mresults[33m.[39mlength)[33m.[39mtoBeLessThanOrEqual([35m20[39m)[33m;[39m[0m

      at Object.toBeGreaterThan (tests/integration/performance/large-dataset.test.ts:584:35)

FAIL tests/admin/sites/DomainManager.submission.test.tsx
  ‚óè DomainManager Submission ‚Ä∫ submits the form with valid data

    TestingLibraryElementError: Unable to find a label with the text of: /name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mCreate[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-500 italic"[39m
                [36m>[39m
                  [0mNo domains added yet[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mCreate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 34 |[39m     
     [90m 35 |[39m     [90m// Fill in form with valid data[39m
    [31m[1m>[22m[39m[90m 36 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'Test Site'[39m)[33m;[39m
     [90m    |[39m                            [31m[1m^[22m[39m
     [90m 37 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/slug/i[39m)[33m,[39m [32m'test-site'[39m)[33m;[39m
     [90m 38 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/description/i[39m)[33m,[39m [32m'This is a test site'[39m)[33m;[39m
     [90m 39 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'test.com'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/sites/DomainManager.submission.test.tsx:36:28)

  ‚óè DomainManager Submission ‚Ä∫ handles API errors

    TestingLibraryElementError: Unable to find a label with the text of: /name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mCreate[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-500 italic"[39m
                [36m>[39m
                  [0mNo domains added yet[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mCreate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 88 |[39m     
     [90m 89 |[39m     [90m// Fill in form with valid data[39m
    [31m[1m>[22m[39m[90m 90 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'Test Site'[39m)[33m;[39m
     [90m    |[39m                            [31m[1m^[22m[39m
     [90m 91 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/slug/i[39m)[33m,[39m [32m'test-site'[39m)[33m;[39m
     [90m 92 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'test.com'[39m)[33m;[39m
     [90m 93 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByText([35m/\\+ add/i[39m))[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/sites/DomainManager.submission.test.tsx:90:28)

  ‚óè DomainManager Submission ‚Ä∫ uses PUT for edit mode and correct endpoint

    TestingLibraryElementError: Unable to find a label with the text of: /name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mEdit[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"mb-4 border rounded divide-y"[39m
                [36m>[39m
                  [36m<li[39m
                    [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mdata-testid[39m=[32m"domainManager-domain-0"[39m
                    [36m>[39m
                      [0minitial.com[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Remove domain initial.com"[39m
                      [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                      [33mdata-testid[39m=[32m"domainManager-remove-domain-0"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33mclass[39m=[32m"w-5 h-5"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mRemove[0m
                      [36m</span>[39m
                    [36m</button>[39m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mUpdate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 118 |[39m     
     [90m 119 |[39m     [90m// Update some fields[39m
    [31m[1m>[22m[39m[90m 120 |[39m     [36mawait[39m user[33m.[39mclear(screen[33m.[39mgetByLabelText([35m/name/i[39m))[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 121 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'Updated Name'[39m)[33m;[39m
     [90m 122 |[39m     
     [90m 123 |[39m     [90m// Submit the form[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/sites/DomainManager.submission.test.tsx:120:29)

  ‚óè DomainManager Submission ‚Ä∫ handles network errors during submission

    TestingLibraryElementError: Unable to find a label with the text of: /name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mCreate[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-500 italic"[39m
                [36m>[39m
                  [0mNo domains added yet[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mCreate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 146 |[39m     
     [90m 147 |[39m     [90m// Fill in form with valid data[39m
    [31m[1m>[22m[39m[90m 148 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'Test Site'[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 149 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/slug/i[39m)[33m,[39m [32m'test-site'[39m)[33m;[39m
     [90m 150 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'test.com'[39m)[33m;[39m
     [90m 151 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByText([35m/\\+ add/i[39m))[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/sites/DomainManager.submission.test.tsx:148:28)

  ‚óè DomainManager Submission ‚Ä∫ shows loading state during submission

    TestingLibraryElementError: Unable to find a label with the text of: /name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mCreate[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-500 italic"[39m
                [36m>[39m
                  [0mNo domains added yet[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mCreate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 176 |[39m     
     [90m 177 |[39m     [90m// Fill in form with valid data[39m
    [31m[1m>[22m[39m[90m 178 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'Test Site'[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 179 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/slug/i[39m)[33m,[39m [32m'test-site'[39m)[33m;[39m
     [90m 180 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'test.com'[39m)[33m;[39m
     [90m 181 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByText([35m/\\+ add/i[39m))[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/sites/DomainManager.submission.test.tsx:178:28)

FAIL tests/admin/sites/DomainManager.validation.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:9:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at DomainManager (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:50:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:9:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m  7 |[39m   it([32m'validates required fields and shows error messages'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m  8 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m  9 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 10 |[39m     
     [90m 11 |[39m     [90m// Submit form without filling required fields[39m
     [90m 12 |[39m     [36mconst[39m submitButton [33m=[39m screen[33m.[39mgetByTestId([32m'domainManager-submit'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:9:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:9:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at DomainManager (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:50:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:9:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m  7 |[39m   it([32m'validates required fields and shows error messages'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m  8 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m  9 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 10 |[39m     
     [90m 11 |[39m     [90m// Submit form without filling required fields[39m
     [90m 12 |[39m     [36mconst[39m submitButton [33m=[39m screen[33m.[39mgetByTestId([32m'domainManager-submit'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:9:11)

    console.error
      The above error occurred in the <DomainManager> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:44:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m  7 |[39m   it([32m'validates required fields and shows error messages'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m  8 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m  9 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 10 |[39m     
     [90m 11 |[39m     [90m// Submit form without filling required fields[39m
     [90m 12 |[39m     [36mconst[39m submitButton [33m=[39m screen[33m.[39mgetByTestId([32m'domainManager-submit'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:9:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:23:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at DomainManager (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:50:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:23:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 21 |[39m   it([32m'validates field formats with appropriate error messages'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 22 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 24 |[39m     
     [90m 25 |[39m     [90m// Fill fields with invalid values[39m
     [90m 26 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'A'[39m[33m.[39mrepeat([35m51[39m))[33m;[39m [90m// Too long[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:23:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:23:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at DomainManager (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:50:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:23:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 21 |[39m   it([32m'validates field formats with appropriate error messages'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 22 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 24 |[39m     
     [90m 25 |[39m     [90m// Fill fields with invalid values[39m
     [90m 26 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'A'[39m[33m.[39mrepeat([35m51[39m))[33m;[39m [90m// Too long[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:23:11)

    console.error
      The above error occurred in the <DomainManager> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:44:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 21 |[39m   it([32m'validates field formats with appropriate error messages'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 22 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 24 |[39m     
     [90m 25 |[39m     [90m// Fill fields with invalid values[39m
     [90m 26 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'A'[39m[33m.[39mrepeat([35m51[39m))[33m;[39m [90m// Too long[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:23:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:41:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at DomainManager (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:50:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:41:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 39 |[39m   it([32m'validates domain format'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 40 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 41 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m     
     [90m 43 |[39m     [90m// Try to add invalid domain[39m
     [90m 44 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'invalid'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:41:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:41:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at DomainManager (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:50:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:41:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 39 |[39m   it([32m'validates domain format'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 40 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 41 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m     
     [90m 43 |[39m     [90m// Try to add invalid domain[39m
     [90m 44 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'invalid'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:41:11)

    console.error
      The above error occurred in the <DomainManager> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:44:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 39 |[39m   it([32m'validates domain format'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 40 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 41 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 42 |[39m     
     [90m 43 |[39m     [90m// Try to add invalid domain[39m
     [90m 44 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'invalid'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:41:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:62:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at DomainManager (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:50:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:62:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 60 |[39m   it([32m'prevents adding duplicate domains'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 61 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 62 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 63 |[39m     
     [90m 64 |[39m     [90m// Add a domain[39m
     [90m 65 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'example.com'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:62:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:62:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at DomainManager (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:50:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:62:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 60 |[39m   it([32m'prevents adding duplicate domains'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 61 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 62 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 63 |[39m     
     [90m 64 |[39m     [90m// Add a domain[39m
     [90m 65 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'example.com'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:62:11)

    console.error
      The above error occurred in the <DomainManager> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:44:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 60 |[39m   it([32m'prevents adding duplicate domains'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 61 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 62 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 63 |[39m     
     [90m 64 |[39m     [90m// Add a domain[39m
     [90m 65 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'example.com'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:62:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:78:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at DomainManager (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:50:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:78:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 76 |[39m   it([32m'clears field errors when values are changed'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 77 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 78 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 79 |[39m     
     [90m 80 |[39m     [90m// Submit empty form to trigger validation errors[39m
     [90m 81 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'domainManager-submit'[39m))[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:78:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:78:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at DomainManager (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:50:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\DomainManager.validation.test.tsx:78:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 76 |[39m   it([32m'clears field errors when values are changed'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 77 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 78 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 79 |[39m     
     [90m 80 |[39m     [90m// Submit empty form to trigger validation errors[39m
     [90m 81 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'domainManager-submit'[39m))[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:78:11)

    console.error
      The above error occurred in the <DomainManager> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\DomainManager.tsx:44:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 76 |[39m   it([32m'clears field errors when values are changed'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 77 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 78 |[39m     render([33m<[39m[33mDomainManager[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 79 |[39m     
     [90m 80 |[39m     [90m// Submit empty form to trigger validation errors[39m
     [90m 81 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'domainManager-submit'[39m))[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:78:11)

  ‚óè DomainManager Validation ‚Ä∫ validates required fields and shows error messages

    invariant expected app router to be mounted

    [0m [90m 48 |[39m   apiEndpoint [33m=[39m [32m'/api/domain-manager'[39m
     [90m 49 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 50 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m   
     [90m 52 |[39m   [90m// Initialize domains hook with initial data[39m
     [90m 53 |[39m   [36mconst[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at DomainManager (src/components/admin/sites/DomainManager.tsx:50:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:9:11)

  ‚óè DomainManager Validation ‚Ä∫ validates field formats with appropriate error messages

    invariant expected app router to be mounted

    [0m [90m 48 |[39m   apiEndpoint [33m=[39m [32m'/api/domain-manager'[39m
     [90m 49 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 50 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m   
     [90m 52 |[39m   [90m// Initialize domains hook with initial data[39m
     [90m 53 |[39m   [36mconst[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at DomainManager (src/components/admin/sites/DomainManager.tsx:50:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:23:11)

  ‚óè DomainManager Validation ‚Ä∫ validates domain format

    invariant expected app router to be mounted

    [0m [90m 48 |[39m   apiEndpoint [33m=[39m [32m'/api/domain-manager'[39m
     [90m 49 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 50 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m   
     [90m 52 |[39m   [90m// Initialize domains hook with initial data[39m
     [90m 53 |[39m   [36mconst[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at DomainManager (src/components/admin/sites/DomainManager.tsx:50:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:41:11)

  ‚óè DomainManager Validation ‚Ä∫ prevents adding duplicate domains

    invariant expected app router to be mounted

    [0m [90m 48 |[39m   apiEndpoint [33m=[39m [32m'/api/domain-manager'[39m
     [90m 49 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 50 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m   
     [90m 52 |[39m   [90m// Initialize domains hook with initial data[39m
     [90m 53 |[39m   [36mconst[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at DomainManager (src/components/admin/sites/DomainManager.tsx:50:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:62:11)

  ‚óè DomainManager Validation ‚Ä∫ clears field errors when values are changed

    invariant expected app router to be mounted

    [0m [90m 48 |[39m   apiEndpoint [33m=[39m [32m'/api/domain-manager'[39m
     [90m 49 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 50 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m   
     [90m 52 |[39m   [90m// Initialize domains hook with initial data[39m
     [90m 53 |[39m   [36mconst[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at DomainManager (src/components/admin/sites/DomainManager.tsx:50:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:78:11)

FAIL tests/admin/categories/CategoryTable.accessibility.test.tsx
  ‚óè Console

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:24:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:24:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:24:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:24:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:57:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:57:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:57:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:57:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:85:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:85:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:85:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:85:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:109:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:109:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:109:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:109:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:157:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:157:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:157:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:157:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:160:32)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:160:32)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:160:32)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:160:32)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:191:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:191:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:191:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:191:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:231:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:231:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:231:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:231:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:277:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:277:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:277:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:277:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:332:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:332:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:332:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:332:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:345:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:345:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:345:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:345:11)

    console.error
      Error fetching categories: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:49:24
          at fetchCategories (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:206:7)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:367:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 81 |[39m     } [36mcatch[39m (err) {
     [90m 82 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 83 |[39m       console[33m.[39merror([32m'Error fetching categories:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 84 |[39m     } [36mfinally[39m {
     [90m 85 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 86 |[39m     }[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:83:15)
      at fetchCategories (src/components/admin/categories/hooks/useCategories.ts:206:7)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:367:11)

    console.error
      Error fetching sites: ReferenceError: fetch is not defined
          at C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:94:24
          at fetchSites (C:\Users\T\directorymonster\src\components\admin\categories\hooks\useCategories.ts:208:5)
          at commitHookEffectListMount (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:23189:26)
          at commitPassiveMountOnFiber (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24970:11)
          at commitPassiveMountEffects_complete (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24930:9)
          at commitPassiveMountEffects_begin (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24917:7)
          at commitPassiveMountEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:24905:3)
          at flushPassiveEffectsImpl (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27078:3)
          at flushPassiveEffects (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27023:14)
          at C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26808:9
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\categories\CategoryTable.accessibility.test.tsx:367:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 101 |[39m       setSites(data)[33m;[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m     }
     [90m 105 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 106 |[39m[0m

      at error (src/components/admin/categories/hooks/useCategories.ts:103:15)
      at fetchSites (src/components/admin/categories/hooks/useCategories.ts:208:5)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.accessibility.test.tsx:367:11)

  ‚óè CategoryTable Accessibility ‚Ä∫ has proper ARIA roles for table structure

    TestingLibraryElementError: Unable to find an accessible element with the role "table"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 25 |[39m     
     [90m 26 |[39m     [90m// Table should have correct semantic structure[39m
    [31m[1m>[22m[39m[90m 27 |[39m     [36mconst[39m table [33m=[39m screen[33m.[39mgetByRole([32m'table'[39m)[33m;[39m
     [90m    |[39m                          [31m[1m^[22m[39m
     [90m 28 |[39m     expect(table)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 29 |[39m     
     [90m 30 |[39m     [90m// Check for column headers[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/admin/categories/CategoryTable.accessibility.test.tsx:27:26)

  ‚óè CategoryTable Accessibility ‚Ä∫ includes appropriate ARIA attributes for sorting

    TestingLibraryElementError: Unable to find an element by: [data-testid="sort-header-name"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 58 |[39m     
     [90m 59 |[39m     [90m// Find sortable column headers[39m
    [31m[1m>[22m[39m[90m 60 |[39m     [36mconst[39m nameHeader [33m=[39m screen[33m.[39mgetByTestId([32m'sort-header-name'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 61 |[39m     expect(nameHeader)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 62 |[39m     
     [90m 63 |[39m     [90m// The currently sorted column should have aria-sort attribute[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:60:31)

  ‚óè CategoryTable Accessibility ‚Ä∫ provides accessible labels for interactive elements

    TestingLibraryElementError: Unable to find an element by: [data-testid="search-input"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 86 |[39m     
     [90m 87 |[39m     [90m// Search input should have accessible label[39m
    [31m[1m>[22m[39m[90m 88 |[39m     [36mconst[39m searchInput [33m=[39m screen[33m.[39mgetByTestId([32m'search-input'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 89 |[39m     expect(searchInput)[33m.[39mtoHaveAttribute([32m'aria-label'[39m[33m,[39m [32m'Search categories'[39m)[33m;[39m
     [90m 90 |[39m     
     [90m 91 |[39m     [90m// Filter dropdowns should have accessible labels[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:88:32)

  ‚óè CategoryTable Accessibility ‚Ä∫ supports keyboard navigation for interactive elements

    TestingLibraryElementError: Unable to find an element by: [data-testid="search-input"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 111 |[39m     [90m// Tab to first interactive element (should be the search input)[39m
     [90m 112 |[39m     [36mawait[39m user[33m.[39mtab()[33m;[39m
    [31m[1m>[22m[39m[90m 113 |[39m     expect(document[33m.[39mactiveElement)[33m.[39mtoBe(screen[33m.[39mgetByTestId([32m'search-input'[39m))[33m;[39m
     [90m     |[39m                                                [31m[1m^[22m[39m
     [90m 114 |[39m     
     [90m 115 |[39m     [90m// Tab to the clear search button[39m
     [90m 116 |[39m     [36mawait[39m user[33m.[39mtab()[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:113:48)

  ‚óè CategoryTable Accessibility ‚Ä∫ provides ARIA live regions for dynamic content changes

    TestingLibraryElementError: Unable to find an element by: [data-testid="loading-status"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 164 |[39m     rerender([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 165 |[39m     
    [31m[1m>[22m[39m[90m 166 |[39m     [36mconst[39m loadingStatus [33m=[39m screen[33m.[39mgetByTestId([32m'loading-status'[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 167 |[39m     expect(loadingStatus)[33m.[39mtoHaveAttribute([32m'role'[39m[33m,[39m [32m'status'[39m)[33m;[39m
     [90m 168 |[39m     
     [90m 169 |[39m     [90m// Error state should have role="alert"[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:166:34)

  ‚óè CategoryTable Accessibility ‚Ä∫ has proper focus management for the delete modal

    TestingLibraryElementError: Unable to find an element by: [data-testid="delete-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 192 |[39m     
     [90m 193 |[39m     [90m// Modal should be visible[39m
    [31m[1m>[22m[39m[90m 194 |[39m     [36mconst[39m modal [33m=[39m screen[33m.[39mgetByTestId([32m'delete-modal'[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 195 |[39m     expect(modal)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 196 |[39m     
     [90m 197 |[39m     [90m// Cancel button should have initial focus[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:194:26)

  ‚óè CategoryTable Accessibility ‚Ä∫ provides appropriate keyboard shortcuts for common actions

    TestingLibraryElementError: Unable to find an element by: [data-testid="search-input"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 232 |[39m     
     [90m 233 |[39m     [90m// Focus the search input[39m
    [31m[1m>[22m[39m[90m 234 |[39m     [36mconst[39m searchInput [33m=[39m screen[33m.[39mgetByTestId([32m'search-input'[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 235 |[39m     searchInput[33m.[39mfocus()[33m;[39m
     [90m 236 |[39m     
     [90m 237 |[39m     [90m// Type something in the search[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:234:32)

  ‚óè CategoryTable Accessibility ‚Ä∫ ensures that delete confirmation dialog is accessible

    TestingLibraryElementError: Unable to find an element by: [data-testid="delete-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 278 |[39m     
     [90m 279 |[39m     [90m// Modal should be accessible[39m
    [31m[1m>[22m[39m[90m 280 |[39m     [36mconst[39m modal [33m=[39m screen[33m.[39mgetByTestId([32m'delete-modal'[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 281 |[39m     
     [90m 282 |[39m     [90m// Modal should have proper ARIA attributes[39m
     [90m 283 |[39m     expect(modal)[33m.[39mtoHaveAttribute([32m'role'[39m[33m,[39m [32m'dialog'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:280:26)

  ‚óè CategoryTable Accessibility ‚Ä∫ responds to Escape key to cancel delete modal

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    [0m [90m 336 |[39m     
     [90m 337 |[39m     [90m// Should call cancelDelete[39m
    [31m[1m>[22m[39m[90m 338 |[39m     expect(mockCancelDelete)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 339 |[39m   })[33m;[39m
     [90m 340 |[39m   
     [90m 341 |[39m   it([32m'includes skip links for keyboard users'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toHaveBeenCalledTimes (tests/admin/categories/CategoryTable.accessibility.test.tsx:338:30)

  ‚óè CategoryTable Accessibility ‚Ä∫ includes skip links for keyboard users

    TestingLibraryElementError: Unable to find an element by: [data-testid="skip-to-content-link"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 346 |[39m     
     [90m 347 |[39m     [90m// Check for the skip to main content link[39m
    [31m[1m>[22m[39m[90m 348 |[39m     [36mconst[39m skipLink [33m=[39m screen[33m.[39mgetByTestId([32m'skip-to-content-link'[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 349 |[39m     expect(skipLink)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 350 |[39m     expect(skipLink)[33m.[39mtoHaveAttribute([32m'href'[39m[33m,[39m [32m'#main-table-content'[39m)[33m;[39m
     [90m 351 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:348:29)

  ‚óè CategoryTable Accessibility ‚Ä∫ ensures all interactive elements have sufficient contrast

    TestingLibraryElementError: Unable to find an accessible element with the role "cell"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 387 |[39m     
     [90m 388 |[39m     [90m// Check that table cells have proper contrast[39m
    [31m[1m>[22m[39m[90m 389 |[39m     [36mconst[39m cells [33m=[39m screen[33m.[39mgetAllByRole([32m'cell'[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 390 |[39m     cells[33m.[39mforEach(cell [33m=>[39m {
     [90m 391 |[39m       [90m// Dark text on light background[39m
     [90m 392 |[39m       expect(cell)[33m.[39mtoHaveClass([32m'text-gray-900'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.getAllByRole (tests/admin/categories/CategoryTable.accessibility.test.tsx:389:26)

FAIL tests/integration/multitenancy/cross-site-isolation.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

  ‚óè Cross-Site Data Isolation ‚Ä∫ should maintain data isolation between sites when retrieving listings

    ReferenceError: searchIndexer is not defined

    [0m [90m 62 |[39m     
     [90m 63 |[39m     [90m// Clear the search index[39m
    [31m[1m>[22m[39m[90m 64 |[39m     (searchIndexer [36mas[39m any)[33m.[39mclearIndex()[33m;[39m
     [90m    |[39m      [31m[1m^[22m[39m
     [90m 65 |[39m     
     [90m 66 |[39m     [90m// Index test listings[39m
     [90m 67 |[39m     [36mfor[39m ([36mconst[39m listing [36mof[39m listings) {[0m

      at Object.searchIndexer (tests/integration/multitenancy/cross-site-isolation.test.ts:64:6)

  ‚óè Cross-Site Data Isolation ‚Ä∫ should maintain data isolation between sites when retrieving categories

    ReferenceError: searchIndexer is not defined

    [0m [90m 62 |[39m     
     [90m 63 |[39m     [90m// Clear the search index[39m
    [31m[1m>[22m[39m[90m 64 |[39m     (searchIndexer [36mas[39m any)[33m.[39mclearIndex()[33m;[39m
     [90m    |[39m      [31m[1m^[22m[39m
     [90m 65 |[39m     
     [90m 66 |[39m     [90m// Index test listings[39m
     [90m 67 |[39m     [36mfor[39m ([36mconst[39m listing [36mof[39m listings) {[0m

      at Object.searchIndexer (tests/integration/multitenancy/cross-site-isolation.test.ts:64:6)

  ‚óè Cross-Site Data Isolation ‚Ä∫ should filter search results by site

    ReferenceError: searchIndexer is not defined

    [0m [90m 62 |[39m     
     [90m 63 |[39m     [90m// Clear the search index[39m
    [31m[1m>[22m[39m[90m 64 |[39m     (searchIndexer [36mas[39m any)[33m.[39mclearIndex()[33m;[39m
     [90m    |[39m      [31m[1m^[22m[39m
     [90m 65 |[39m     
     [90m 66 |[39m     [90m// Index test listings[39m
     [90m 67 |[39m     [36mfor[39m ([36mconst[39m listing [36mof[39m listings) {[0m

      at Object.searchIndexer (tests/integration/multitenancy/cross-site-isolation.test.ts:64:6)

  ‚óè Cross-Site Data Isolation ‚Ä∫ should resolve site identity correctly based on hostname

    ReferenceError: searchIndexer is not defined

    [0m [90m 62 |[39m     
     [90m 63 |[39m     [90m// Clear the search index[39m
    [31m[1m>[22m[39m[90m 64 |[39m     (searchIndexer [36mas[39m any)[33m.[39mclearIndex()[33m;[39m
     [90m    |[39m      [31m[1m^[22m[39m
     [90m 65 |[39m     
     [90m 66 |[39m     [90m// Index test listings[39m
     [90m 67 |[39m     [36mfor[39m ([36mconst[39m listing [36mof[39m listings) {[0m

      at Object.searchIndexer (tests/integration/multitenancy/cross-site-isolation.test.ts:64:6)


  ‚óè Test suite failed to run

    ReferenceError: searchIndexer is not defined

    [0m [90m 74 |[39m     [36mawait[39m clearTestData()[33m;[39m
     [90m 75 |[39m     [90m// Clear the search index[39m
    [31m[1m>[22m[39m[90m 76 |[39m     (searchIndexer [36mas[39m any)[33m.[39mclearIndex()[33m;[39m
     [90m    |[39m      [31m[1m^[22m[39m
     [90m 77 |[39m   })[33m;[39m
     [90m 78 |[39m   
     [90m 79 |[39m   it([32m'should maintain data isolation between sites when retrieving listings'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.searchIndexer (tests/integration/multitenancy/cross-site-isolation.test.ts:76:6)

FAIL tests/api/auth/verify.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

    console.log
      Verification request received

      at log (src/app/api/auth/verify/route.ts:22:13)

    console.warn
      Missing CSRF token in request

    [0m [90m 25 |[39m     [36mconst[39m csrfToken [33m=[39m request[33m.[39mheaders[33m.[39m[36mget[39m([32m'X-CSRF-Token'[39m)[33m;[39m
     [90m 26 |[39m     [36mif[39m ([33m![39mcsrfToken) {
    [31m[1m>[22m[39m[90m 27 |[39m       console[33m.[39mwarn([32m'Missing CSRF token in request'[39m)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 28 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 29 |[39m         { success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m [32m'Missing CSRF token'[39m }[33m,[39m
     [90m 30 |[39m         { status[33m:[39m [35m403[39m }[0m

      at warn (src/app/api/auth/verify/route.ts:27:15)
      at Object.<anonymous> (tests/api/auth/verify.test.ts:124:38)

    console.log
      Verification request received

      at log (src/app/api/auth/verify/route.ts:22:13)

    console.warn
      Missing CSRF token in request

    [0m [90m 25 |[39m     [36mconst[39m csrfToken [33m=[39m request[33m.[39mheaders[33m.[39m[36mget[39m([32m'X-CSRF-Token'[39m)[33m;[39m
     [90m 26 |[39m     [36mif[39m ([33m![39mcsrfToken) {
    [31m[1m>[22m[39m[90m 27 |[39m       console[33m.[39mwarn([32m'Missing CSRF token in request'[39m)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 28 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 29 |[39m         { success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m [32m'Missing CSRF token'[39m }[33m,[39m
     [90m 30 |[39m         { status[33m:[39m [35m403[39m }[0m

      at warn (src/app/api/auth/verify/route.ts:27:15)
      at Object.<anonymous> (tests/api/auth/verify.test.ts:149:38)

    console.log
      Verification request received

      at log (src/app/api/auth/verify/route.ts:22:13)

    console.warn
      Missing CSRF token in request

    [0m [90m 25 |[39m     [36mconst[39m csrfToken [33m=[39m request[33m.[39mheaders[33m.[39m[36mget[39m([32m'X-CSRF-Token'[39m)[33m;[39m
     [90m 26 |[39m     [36mif[39m ([33m![39mcsrfToken) {
    [31m[1m>[22m[39m[90m 27 |[39m       console[33m.[39mwarn([32m'Missing CSRF token in request'[39m)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 28 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 29 |[39m         { success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m [32m'Missing CSRF token'[39m }[33m,[39m
     [90m 30 |[39m         { status[33m:[39m [35m403[39m }[0m

      at warn (src/app/api/auth/verify/route.ts:27:15)
      at Object.<anonymous> (tests/api/auth/verify.test.ts:174:38)

    console.log
      Verification request received

      at log (src/app/api/auth/verify/route.ts:22:13)

    console.warn
      Missing CSRF token in request

    [0m [90m 25 |[39m     [36mconst[39m csrfToken [33m=[39m request[33m.[39mheaders[33m.[39m[36mget[39m([32m'X-CSRF-Token'[39m)[33m;[39m
     [90m 26 |[39m     [36mif[39m ([33m![39mcsrfToken) {
    [31m[1m>[22m[39m[90m 27 |[39m       console[33m.[39mwarn([32m'Missing CSRF token in request'[39m)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 28 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 29 |[39m         { success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m [32m'Missing CSRF token'[39m }[33m,[39m
     [90m 30 |[39m         { status[33m:[39m [35m403[39m }[0m

      at warn (src/app/api/auth/verify/route.ts:27:15)
      at Object.<anonymous> (tests/api/auth/verify.test.ts:202:38)

    console.log
      Verification request received

      at log (src/app/api/auth/verify/route.ts:22:13)

    console.log
      Verification request body received: {
        username: 'testuser',
        proofReceived: 'Yes',
        publicSignalsReceived: 'Yes'
      }

      at log (src/app/api/auth/verify/route.ts:38:13)

    console.log
      Verifying proof for user testuser

      at log (src/app/api/auth/verify/route.ts:93:13)

    console.warn
      Invalid proof for user testuser

    [0m [90m 101 |[39m     
     [90m 102 |[39m     [36mif[39m ([33m![39misValid) {
    [31m[1m>[22m[39m[90m 103 |[39m       console[33m.[39mwarn([32m`Invalid proof for user ${body.username}`[39m)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 104 |[39m       
     [90m 105 |[39m       [90m// Increment failed attempts[39m
     [90m 106 |[39m       [36mawait[39m kv[33m.[39m[36mset[39m(rateLimitKey[33m,[39m failedAttempts [33m+[39m [35m1[39m)[33m;[39m[0m

      at warn (src/app/api/auth/verify/route.ts:103:15)
      at Object.<anonymous> (tests/api/auth/verify.test.ts:230:22)

    console.error
      Authentication error: TypeError: _redisclient.kv.expire is not a function
          at expire (C:\Users\T\directorymonster\src\app\api\auth\verify\route.ts:107:16)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\api\auth\verify.test.ts:230:22)

    [0m [90m 152 |[39m     })[33m;[39m
     [90m 153 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 154 |[39m     console[33m.[39merror([32m'Authentication error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 155 |[39m     
     [90m 156 |[39m     [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 157 |[39m       { success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m [32m'Authentication error'[39m }[33m,[39m[0m

      at error (src/app/api/auth/verify/route.ts:154:13)
      at Object.<anonymous> (tests/api/auth/verify.test.ts:230:22)

    console.log
      Verification request received

      at log (src/app/api/auth/verify/route.ts:22:13)

    console.warn
      Missing CSRF token in request

    [0m [90m 25 |[39m     [36mconst[39m csrfToken [33m=[39m request[33m.[39mheaders[33m.[39m[36mget[39m([32m'X-CSRF-Token'[39m)[33m;[39m
     [90m 26 |[39m     [36mif[39m ([33m![39mcsrfToken) {
    [31m[1m>[22m[39m[90m 27 |[39m       console[33m.[39mwarn([32m'Missing CSRF token in request'[39m)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 28 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 29 |[39m         { success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m [32m'Missing CSRF token'[39m }[33m,[39m
     [90m 30 |[39m         { status[33m:[39m [35m403[39m }[0m

      at warn (src/app/api/auth/verify/route.ts:27:15)
      at Object.<anonymous> (tests/api/auth/verify.test.ts:279:38)

    console.log
      Verification request received

      at log (src/app/api/auth/verify/route.ts:22:13)

    console.warn
      Missing CSRF token in request

    [0m [90m 25 |[39m     [36mconst[39m csrfToken [33m=[39m request[33m.[39mheaders[33m.[39m[36mget[39m([32m'X-CSRF-Token'[39m)[33m;[39m
     [90m 26 |[39m     [36mif[39m ([33m![39mcsrfToken) {
    [31m[1m>[22m[39m[90m 27 |[39m       console[33m.[39mwarn([32m'Missing CSRF token in request'[39m)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 28 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 29 |[39m         { success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m [32m'Missing CSRF token'[39m }[33m,[39m
     [90m 30 |[39m         { status[33m:[39m [35m403[39m }[0m

      at warn (src/app/api/auth/verify/route.ts:27:15)
      at Object.<anonymous> (tests/api/auth/verify.test.ts:308:38)

    console.log
      Verification request received

      at log (src/app/api/auth/verify/route.ts:22:13)

    console.log
      Verification request body received: {
        username: 'testuser',
        proofReceived: 'Yes',
        publicSignalsReceived: 'Yes'
      }

      at log (src/app/api/auth/verify/route.ts:38:13)

    console.warn
      Rate limit exceeded for user testuser

    [0m [90m 56 |[39m     
     [90m 57 |[39m     [36mif[39m (failedAttempts [33m>=[39m [35m5[39m) {
    [31m[1m>[22m[39m[90m 58 |[39m       console[33m.[39mwarn([32m`Rate limit exceeded for user ${body.username}`[39m)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 59 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 60 |[39m         { success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m [32m'Too many login attempts. Please try again later.'[39m }[33m,[39m
     [90m 61 |[39m         { status[33m:[39m [35m429[39m }[0m

      at warn (src/app/api/auth/verify/route.ts:58:15)
      at Object.<anonymous> (tests/api/auth/verify.test.ts:339:22)

  ‚óè Auth Verification API ‚Ä∫ should reject requests without required fields

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 403

    [0m [90m 125 |[39m     
     [90m 126 |[39m     [90m// Verify response is bad request[39m
    [31m[1m>[22m[39m[90m 127 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m400[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 128 |[39m     
     [90m 129 |[39m     [90m// Parse the response[39m
     [90m 130 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:127:29)

  ‚óè Auth Verification API ‚Ä∫ should reject requests for non-existent users

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 403

    [0m [90m 150 |[39m     
     [90m 151 |[39m     [90m// Verify response is unauthorized[39m
    [31m[1m>[22m[39m[90m 152 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m401[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 153 |[39m     
     [90m 154 |[39m     [90m// Parse the response[39m
     [90m 155 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:152:29)

  ‚óè Auth Verification API ‚Ä∫ should reject verification for locked users

    expect(received).toContain(expected) // indexOf

    Expected substring: "Account locked"
    Received string:    "Missing CSRF token"

    [0m [90m 182 |[39m     [90m// Verify the error message[39m
     [90m 183 |[39m     expect(data)[33m.[39mtoHaveProperty([32m'error'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 184 |[39m     expect(data[33m.[39merror)[33m.[39mtoContain([32m'Account locked'[39m)[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 185 |[39m   })[33m;[39m
     [90m 186 |[39m
     [90m 187 |[39m   it([32m'should reject invalid proofs'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toContain (tests/api/auth/verify.test.ts:184:24)

  ‚óè Auth Verification API ‚Ä∫ should reject invalid proofs

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 403

    [0m [90m 203 |[39m     
     [90m 204 |[39m     [90m// Verify response is unauthorized[39m
    [31m[1m>[22m[39m[90m 205 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m401[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 206 |[39m     
     [90m 207 |[39m     [90m// Parse the response[39m
     [90m 208 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:205:29)

  ‚óè Auth Verification API ‚Ä∫ should verify valid credentials and return a token

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 231 |[39m     
     [90m 232 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 233 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 234 |[39m     
     [90m 235 |[39m     [90m// Parse the response[39m
     [90m 236 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:233:29)

  ‚óè Auth Verification API ‚Ä∫ should handle rate limiting for too many failed attempts

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 403

    [0m [90m 280 |[39m     
     [90m 281 |[39m     [90m// Verify response is rate limited[39m
    [31m[1m>[22m[39m[90m 282 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m429[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 283 |[39m     
     [90m 284 |[39m     [90m// Parse the response[39m
     [90m 285 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:282:29)

  ‚óè Auth Verification API ‚Ä∫ should handle ZKP verification errors gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 429

    [0m [90m 340 |[39m     
     [90m 341 |[39m     [90m// Verify response is server error[39m
    [31m[1m>[22m[39m[90m 342 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m500[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 343 |[39m     
     [90m 344 |[39m     [90m// Parse the response[39m
     [90m 345 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:342:29)

FAIL tests/integration/user-flows/auth.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

    console.error
      Redis connection error: ReferenceError: originalModule is not defined
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\user-flows\auth.test.ts:87:7)
          at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
          at Object.<anonymous> (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13)
          at Object.mockConstructor [as get] (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:103:19)
          at get (C:\Users\T\directorymonster\src\app\api\sites\[siteSlug]\listings\route.ts:53:25)
          at handler (C:\Users\T\directorymonster\src\middleware\withRedis.ts:12:20)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\user-flows\auth.test.ts:122:22)

    [0m [90m 12 |[39m       [36mreturn[39m [36mawait[39m handler(req[33m,[39m [33m...[39margs)[33m;[39m
     [90m 13 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 14 |[39m       console[33m.[39merror([32m'Redis connection error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 15 |[39m       
     [90m 16 |[39m       [90m// Return a 503 Service Unavailable response[39m
     [90m 17 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson([0m

      at error (src/middleware/withRedis.ts:14:15)
      at Object.<anonymous> (tests/integration/user-flows/auth.test.ts:122:22)

    console.error
      Redis connection error: ReferenceError: originalModule is not defined
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\user-flows\auth.test.ts:87:7)
          at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
          at Object.<anonymous> (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13)
          at Object.mockConstructor [as get] (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:103:19)
          at get (C:\Users\T\directorymonster\src\app\api\sites\[siteSlug]\listings\route.ts:53:25)
          at handler (C:\Users\T\directorymonster\src\middleware\withRedis.ts:12:20)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\user-flows\auth.test.ts:164:22)

    [0m [90m 12 |[39m       [36mreturn[39m [36mawait[39m handler(req[33m,[39m [33m...[39margs)[33m;[39m
     [90m 13 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 14 |[39m       console[33m.[39merror([32m'Redis connection error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 15 |[39m       
     [90m 16 |[39m       [90m// Return a 503 Service Unavailable response[39m
     [90m 17 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson([0m

      at error (src/middleware/withRedis.ts:14:15)
      at Object.<anonymous> (tests/integration/user-flows/auth.test.ts:164:22)

    console.error
      Redis connection error: ReferenceError: originalModule is not defined
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\user-flows\auth.test.ts:87:7)
          at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
          at Object.<anonymous> (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13)
          at Object.mockConstructor [as get] (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:103:19)
          at get (C:\Users\T\directorymonster\src\app\api\sites\[siteSlug]\listings\route.ts:53:25)
          at handler (C:\Users\T\directorymonster\src\middleware\withRedis.ts:12:20)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\user-flows\auth.test.ts:206:22)

    [0m [90m 12 |[39m       [36mreturn[39m [36mawait[39m handler(req[33m,[39m [33m...[39margs)[33m;[39m
     [90m 13 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 14 |[39m       console[33m.[39merror([32m'Redis connection error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 15 |[39m       
     [90m 16 |[39m       [90m// Return a 503 Service Unavailable response[39m
     [90m 17 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson([0m

      at error (src/middleware/withRedis.ts:14:15)
      at Object.<anonymous> (tests/integration/user-flows/auth.test.ts:206:22)

  ‚óè Authentication and Authorization ‚Ä∫ should reject requests without API key

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 503

    [0m [90m 123 |[39m     
     [90m 124 |[39m     [90m// Verify response is unauthorized[39m
    [31m[1m>[22m[39m[90m 125 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m401[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 126 |[39m     
     [90m 127 |[39m     [90m// Parse the response[39m
     [90m 128 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/auth.test.ts:125:29)

  ‚óè Authentication and Authorization ‚Ä∫ should accept requests with valid API key

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 503

    [0m [90m 165 |[39m     
     [90m 166 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 167 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 168 |[39m     
     [90m 169 |[39m     [90m// Parse the response[39m
     [90m 170 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/auth.test.ts:167:29)

  ‚óè Authentication and Authorization ‚Ä∫ should reject requests with insufficient permissions

    expect(received).toBe(expected) // Object.is equality

    Expected: 403
    Received: 503

    [0m [90m 207 |[39m     
     [90m 208 |[39m     [90m// Verify response is forbidden[39m
    [31m[1m>[22m[39m[90m 209 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m403[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 210 |[39m     
     [90m 211 |[39m     [90m// Parse the response[39m
     [90m 212 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/auth.test.ts:209:29)

FAIL tests/integration/user-flows/error-handling.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

    console.error
      Redis connection error: ReferenceError: originalModule is not defined
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\user-flows\error-handling.test.ts:60:7)
          at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
          at Object.<anonymous> (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13)
          at Object.mockConstructor [as get] (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:103:19)
          at get (C:\Users\T\directorymonster\src\app\api\sites\[siteSlug]\listings\route.ts:11:25)
          at handler (C:\Users\T\directorymonster\src\middleware\withRedis.ts:12:20)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\user-flows\error-handling.test.ts:69:22)

    [0m [90m 12 |[39m       [36mreturn[39m [36mawait[39m handler(req[33m,[39m [33m...[39margs)[33m;[39m
     [90m 13 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 14 |[39m       console[33m.[39merror([32m'Redis connection error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 15 |[39m       
     [90m 16 |[39m       [90m// Return a 503 Service Unavailable response[39m
     [90m 17 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson([0m

      at error (src/middleware/withRedis.ts:14:15)
      at Object.<anonymous> (tests/integration/user-flows/error-handling.test.ts:69:22)

    console.error
      Redis connection error: ReferenceError: originalModule is not defined
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\user-flows\error-handling.test.ts:60:7)
          at C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:397:39
          at Object.<anonymous> (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:404:13)
          at Object.mockConstructor [as get] (C:\Users\T\directorymonster\node_modules\jest-mock\build\index.js:103:19)
          at get (C:\Users\T\directorymonster\src\app\api\sites\[siteSlug]\listings\route.ts:53:25)
          at handler (C:\Users\T\directorymonster\src\middleware\withRedis.ts:12:20)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\user-flows\error-handling.test.ts:101:22)

    [0m [90m 12 |[39m       [36mreturn[39m [36mawait[39m handler(req[33m,[39m [33m...[39margs)[33m;[39m
     [90m 13 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 14 |[39m       console[33m.[39merror([32m'Redis connection error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 15 |[39m       
     [90m 16 |[39m       [90m// Return a 503 Service Unavailable response[39m
     [90m 17 |[39m       [36mreturn[39m [33mNextResponse[39m[33m.[39mjson([0m

      at error (src/middleware/withRedis.ts:14:15)
      at Object.<anonymous> (tests/integration/user-flows/error-handling.test.ts:101:22)

  ‚óè API Error Handling ‚Ä∫ should handle non-existent site gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: 404
    Received: 503

    [0m [90m 70 |[39m     
     [90m 71 |[39m     [90m// Verify response is a 404[39m
    [31m[1m>[22m[39m[90m 72 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m404[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 73 |[39m     
     [90m 74 |[39m     [90m// Parse the response[39m
     [90m 75 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/error-handling.test.ts:72:29)

  ‚óè API Error Handling ‚Ä∫ should handle validation errors when creating a listing

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 503

    [0m [90m 102 |[39m     
     [90m 103 |[39m     [90m// Verify response is a 400 Bad Request[39m
    [31m[1m>[22m[39m[90m 104 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m400[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 105 |[39m     
     [90m 106 |[39m     [90m// Parse the response[39m
     [90m 107 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/error-handling.test.ts:104:29)

  ‚óè API Error Handling ‚Ä∫ should handle Redis errors gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 503

    [0m [90m 130 |[39m     
     [90m 131 |[39m     [90m// Verify response is a 500 Server Error[39m
    [31m[1m>[22m[39m[90m 132 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m500[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 133 |[39m     
     [90m 134 |[39m     [90m// Parse the response[39m
     [90m 135 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/error-handling.test.ts:132:29)


  ‚óè Test suite failed to run

    Redis connection error

    [0m [90m 118 |[39m     [90m// Mock Redis kv.keys to throw an error[39m
     [90m 119 |[39m     [36mconst[39m { kv } [33m=[39m require([32m'../../../src/lib/redis-client'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 120 |[39m     (kv[33m.[39mkeys [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Redis connection error'[39m))[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 121 |[39m     
     [90m 122 |[39m     [90m// Create a request for listings[39m
     [90m 123 |[39m     [36mconst[39m request [33m=[39m createMockRequest([32m`/api/sites/${site.slug}/listings`[39m)[33m;[39m[0m

      at Object.<anonymous> (tests/integration/user-flows/error-handling.test.ts:120:46)

FAIL tests/integration/search/search-indexing.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

    console.error
      Search error: TypeError: _searchindexer.searchIndexer.searchAll is not a function
          at searchAll (C:\Users\T\directorymonster\src\app\api\search\route.ts:31:44)
          at handler (C:\Users\T\directorymonster\src\middleware\withRedis.ts:12:20)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\search\search-indexing.test.ts:132:22)

    [0m [90m 45 |[39m     })[33m;[39m
     [90m 46 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 47 |[39m     console[33m.[39merror([32m'Search error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 48 |[39m     [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 49 |[39m       { error[33m:[39m [32m'Search failed'[39m }[33m,[39m
     [90m 50 |[39m       { status[33m:[39m [35m500[39m }[0m

      at error (src/app/api/search/route.ts:47:13)
      at handler (src/middleware/withRedis.ts:12:20)
      at Object.<anonymous> (tests/integration/search/search-indexing.test.ts:132:22)

    console.error
      Search error: TypeError: _searchindexer.searchIndexer.searchAll is not a function
          at searchAll (C:\Users\T\directorymonster\src\app\api\search\route.ts:31:44)
          at handler (C:\Users\T\directorymonster\src\middleware\withRedis.ts:12:20)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\search\search-indexing.test.ts:181:23)

    [0m [90m 45 |[39m     })[33m;[39m
     [90m 46 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 47 |[39m     console[33m.[39merror([32m'Search error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 48 |[39m     [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 49 |[39m       { error[33m:[39m [32m'Search failed'[39m }[33m,[39m
     [90m 50 |[39m       { status[33m:[39m [35m500[39m }[0m

      at error (src/app/api/search/route.ts:47:13)
      at handler (src/middleware/withRedis.ts:12:20)
      at Object.<anonymous> (tests/integration/search/search-indexing.test.ts:181:23)

    console.error
      Search error: TypeError: _searchindexer.searchIndexer.searchAll is not a function
          at searchAll (C:\Users\T\directorymonster\src\app\api\search\route.ts:31:44)
          at handler (C:\Users\T\directorymonster\src\middleware\withRedis.ts:12:20)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\integration\search\search-indexing.test.ts:210:22)

    [0m [90m 45 |[39m     })[33m;[39m
     [90m 46 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 47 |[39m     console[33m.[39merror([32m'Search error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 48 |[39m     [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 49 |[39m       { error[33m:[39m [32m'Search failed'[39m }[33m,[39m
     [90m 50 |[39m       { status[33m:[39m [35m500[39m }[0m

      at error (src/app/api/search/route.ts:47:13)
      at handler (src/middleware/withRedis.ts:12:20)
      at Object.<anonymous> (tests/integration/search/search-indexing.test.ts:210:22)

  ‚óè Search Indexing and Retrieval ‚Ä∫ should index a listing when created

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

    [0m [90m  98 |[39m     
     [90m  99 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 100 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 101 |[39m     
     [90m 102 |[39m     [90m// Parse the response to get the created listing[39m
     [90m 103 |[39m     [36mconst[39m createdListing [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/search/search-indexing.test.ts:100:29)

  ‚óè Search Indexing and Retrieval ‚Ä∫ should retrieve listings via search API

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 133 |[39m     
     [90m 134 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 135 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 136 |[39m     
     [90m 137 |[39m     [90m// Parse the response[39m
     [90m 138 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/search/search-indexing.test.ts:135:29)

  ‚óè Search Indexing and Retrieval ‚Ä∫ should filter search results by site

    TypeError: Cannot read properties of undefined (reading 'length')

    [0m [90m 183 |[39m     
     [90m 184 |[39m     [90m// Verify results are filtered to site 1[39m
    [31m[1m>[22m[39m[90m 185 |[39m     expect(data1[33m.[39mresults[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 186 |[39m     data1[33m.[39mresults[33m.[39mforEach((result[33m:[39m any) [33m=>[39m {
     [90m 187 |[39m       expect(result[33m.[39msiteId)[33m.[39mtoBe(site1[33m.[39mid)[33m;[39m
     [90m 188 |[39m     })[33m;[39m[0m

      at Object.length (tests/integration/search/search-indexing.test.ts:185:26)

  ‚óè Search Indexing and Retrieval ‚Ä∫ should handle search with no results

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 211 |[39m     
     [90m 212 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 213 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 214 |[39m     
     [90m 215 |[39m     [90m// Parse the response[39m
     [90m 216 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/search/search-indexing.test.ts:213:29)

FAIL tests/integration/user-flows/listing-management.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

  ‚óè Listing Management ‚Ä∫ should create and retrieve a new listing

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

    [0m [90m 64 |[39m     
     [90m 65 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 66 |[39m     expect(createResponse[33m.[39mstatus)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 67 |[39m     
     [90m 68 |[39m     [90m// Parse the response to get the created listing[39m
     [90m 69 |[39m     [36mconst[39m createdListing [33m=[39m [36mawait[39m createResponse[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/listing-management.test.ts:66:35)

  ‚óè Listing Management ‚Ä∫ should filter listings by category

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 111 |[39m     
     [90m 112 |[39m     [90m// Verify get response is successful[39m
    [31m[1m>[22m[39m[90m 113 |[39m     expect(getResponse[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 114 |[39m     
     [90m 115 |[39m     [90m// Parse the response to get filtered listings[39m
     [90m 116 |[39m     [36mconst[39m filteredListings [33m=[39m [36mawait[39m getResponse[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/listing-management.test.ts:113:32)

  ‚óè Listing Management ‚Ä∫ should prevent creation of listings with duplicate slugs

    expect(received).toBe(expected) // Object.is equality

    Expected: 409
    Received: 404

    [0m [90m 155 |[39m     
     [90m 156 |[39m     [90m// Verify response is a conflict (409)[39m
    [31m[1m>[22m[39m[90m 157 |[39m     expect(createResponse[33m.[39mstatus)[33m.[39mtoBe([35m409[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 158 |[39m     
     [90m 159 |[39m     [90m// Parse the response to get the error[39m
     [90m 160 |[39m     [36mconst[39m responseData [33m=[39m [36mawait[39m createResponse[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/listing-management.test.ts:157:35)

  ‚óè Listing Management ‚Ä∫ should verify data integrity across site and category relationships

    TypeError: siteListings.forEach is not a function

    [0m [90m 180 |[39m     
     [90m 181 |[39m     [90m// Verify each listing belongs to a valid category within the site[39m
    [31m[1m>[22m[39m[90m 182 |[39m     siteListings[33m.[39mforEach((listing[33m:[39m [33mListing[39m) [33m=>[39m {
     [90m     |[39m                  [31m[1m^[22m[39m
     [90m 183 |[39m       [90m// Verify listing belongs to this site[39m
     [90m 184 |[39m       expect(listing[33m.[39msiteId)[33m.[39mtoBe(site[33m.[39mid)[33m;[39m
     [90m 185 |[39m       [0m

      at Object.forEach (tests/integration/user-flows/listing-management.test.ts:182:18)

FAIL tests/integration/multitenancy/site-identity.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

    console.log
      DEBUG: getSiteByHostname called with: "test-fishing.localhost", normalized to: "test-fishing.localhost"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: null

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: Subdomain match result: null

      at log (src/lib/site-utils.ts:39:11)

    console.log
      DEBUG: Trying direct slug lookup: "test-fishing.localhost"

      at log (src/lib/site-utils.ts:50:11)

    console.log
      DEBUG: Direct slug lookup result: null

      at log (src/lib/site-utils.ts:52:11)

    console.log
      DEBUG: No site found for hostname: "test-fishing.localhost"

      at log (src/lib/site-utils.ts:55:11)

    console.log
      DEBUG: site-info API - Hostname: test-hiking.localhost

      at log (src/app/api/site-info/route.ts:17:13)

    console.log
      DEBUG: getSiteByHostname called with: "test-hiking.localhost", normalized to: "test-hiking.localhost"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: null

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: Subdomain match result: null

      at log (src/lib/site-utils.ts:39:11)

    console.log
      DEBUG: Trying direct slug lookup: "test-hiking.localhost"

      at log (src/lib/site-utils.ts:50:11)

    console.log
      DEBUG: Direct slug lookup result: null

      at log (src/lib/site-utils.ts:52:11)

    console.log
      DEBUG: No site found for hostname: "test-hiking.localhost"

      at log (src/lib/site-utils.ts:55:11)

    console.log
      DEBUG: Available sites: []

      at log (src/app/api/site-info/route.ts:28:13)

    console.log
      DEBUG: site-info API - Hostname: test-fishing.mydirectory.com

      at log (src/app/api/site-info/route.ts:17:13)

    console.log
      DEBUG: getSiteByHostname called with: "test-fishing.mydirectory.com", normalized to: "test-fishing.mydirectory.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: null

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: Subdomain match result: [
        'test-fishing.mydirectory.com',
        'test-fishing',
        index: 0,
        input: 'test-fishing.mydirectory.com',
        groups: undefined
      ]

      at log (src/lib/site-utils.ts:39:11)

    console.log
      DEBUG: Looking up site by slug: "test-fishing"

      at log (src/lib/site-utils.ts:43:13)

    console.log
      DEBUG: Slug lookup result: null

      at log (src/lib/site-utils.ts:45:13)

    console.log
      DEBUG: Trying direct slug lookup: "test-fishing.mydirectory.com"

      at log (src/lib/site-utils.ts:50:11)

    console.log
      DEBUG: Direct slug lookup result: null

      at log (src/lib/site-utils.ts:52:11)

    console.log
      DEBUG: No site found for hostname: "test-fishing.mydirectory.com"

      at log (src/lib/site-utils.ts:55:11)

    console.log
      DEBUG: Available sites: []

      at log (src/app/api/site-info/route.ts:28:13)

    console.log
      DEBUG: site-info API - Hostname: test-hiking.localhost

      at log (src/app/api/site-info/route.ts:17:13)

    console.log
      DEBUG: getSiteByHostname called with: "test-hiking.localhost", normalized to: "test-hiking.localhost"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: null

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: Subdomain match result: null

      at log (src/lib/site-utils.ts:39:11)

    console.log
      DEBUG: Trying direct slug lookup: "test-hiking.localhost"

      at log (src/lib/site-utils.ts:50:11)

    console.log
      DEBUG: Direct slug lookup result: null

      at log (src/lib/site-utils.ts:52:11)

    console.log
      DEBUG: No site found for hostname: "test-hiking.localhost"

      at log (src/lib/site-utils.ts:55:11)

    console.log
      DEBUG: Available sites: []

      at log (src/app/api/site-info/route.ts:28:13)

    console.log
      DEBUG: site-info API - Hostname: unknown.localhost

      at log (src/app/api/site-info/route.ts:17:13)

    console.log
      DEBUG: getSiteByHostname called with: "unknown.localhost", normalized to: "unknown.localhost"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: null

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: Subdomain match result: null

      at log (src/lib/site-utils.ts:39:11)

    console.log
      DEBUG: Trying direct slug lookup: "unknown.localhost"

      at log (src/lib/site-utils.ts:50:11)

    console.log
      DEBUG: Direct slug lookup result: null

      at log (src/lib/site-utils.ts:52:11)

    console.log
      DEBUG: No site found for hostname: "unknown.localhost"

      at log (src/lib/site-utils.ts:55:11)

    console.log
      DEBUG: Available sites: []

      at log (src/app/api/site-info/route.ts:28:13)

  ‚óè Site Identity Resolution ‚Ä∫ should resolve site by hostname

    expect(received).not.toBeNull()

    Received: null

    [0m [90m 25 |[39m     
     [90m 26 |[39m     [90m// Verify the site was resolved correctly[39m
    [31m[1m>[22m[39m[90m 27 |[39m     expect(site)[33m.[39mnot[33m.[39mtoBeNull()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 28 |[39m     expect(site[33m?[39m[33m.[39mslug)[33m.[39mtoBe([32m'test-fishing'[39m)[33m;[39m
     [90m 29 |[39m     expect(site[33m?[39m[33m.[39mdomain)[33m.[39mtoBe(hostname)[33m;[39m
     [90m 30 |[39m   })[33m;[39m[0m

      at Object.toBeNull (tests/integration/multitenancy/site-identity.test.ts:27:22)

  ‚óè Site Identity Resolution ‚Ä∫ should resolve site via site-info API endpoint

    expect(received).not.toBeNull()

    Received: null

    [0m [90m 49 |[39m     
     [90m 50 |[39m     [90m// Verify the correct site was resolved[39m
    [31m[1m>[22m[39m[90m 51 |[39m     expect(data[33m.[39msite)[33m.[39mnot[33m.[39mtoBeNull()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 52 |[39m     expect(data[33m.[39msite[33m.[39mslug)[33m.[39mtoBe([32m'test-hiking'[39m)[33m;[39m
     [90m 53 |[39m     expect(data[33m.[39msite[33m.[39mdomain)[33m.[39mtoBe(hostname)[33m;[39m
     [90m 54 |[39m   })[33m;[39m[0m

      at Object.toBeNull (tests/integration/multitenancy/site-identity.test.ts:51:27)

  ‚óè Site Identity Resolution ‚Ä∫ should prioritize hostname parameter over host header

    TypeError: Cannot read properties of null (reading 'slug')

    [0m [90m  99 |[39m     
     [90m 100 |[39m     [90m// Verify the correct site was resolved[39m
    [31m[1m>[22m[39m[90m 101 |[39m     expect(data[33m.[39msite[33m.[39mslug)[33m.[39mtoBe([32m'test-hiking'[39m)[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 102 |[39m   })[33m;[39m
     [90m 103 |[39m   
     [90m 104 |[39m   it([32m'should fall back to first site when hostname not recognized'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.slug (tests/integration/multitenancy/site-identity.test.ts:101:22)

  ‚óè Site Identity Resolution ‚Ä∫ should fall back to first site when hostname not recognized

    expect(received).not.toBeNull()

    Received: null

    [0m [90m 119 |[39m     [90m// Verify the fallback mechanism is working[39m
     [90m 120 |[39m     expect(data[33m.[39mrequestedHostname)[33m.[39mtoBe(hostname)[33m;[39m
    [31m[1m>[22m[39m[90m 121 |[39m     expect(data[33m.[39msite)[33m.[39mnot[33m.[39mtoBeNull()[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 122 |[39m     
     [90m 123 |[39m     [90m// It should fall back to the first available site[39m
     [90m 124 |[39m     expect(data[33m.[39msite[33m.[39mslug)[33m.[39mtoBe([32m'test-fishing'[39m)[33m;[39m[0m

      at Object.toBeNull (tests/integration/multitenancy/site-identity.test.ts:121:27)

FAIL tests/admin/auth/RoleAuthorization.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:45:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SessionManager (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:59:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:45:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 43 |[39m     })[33m;[39m
     [90m 44 |[39m     
    [31m[1m>[22m[39m[90m 45 |[39m     render(
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 46 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 47 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 48 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:45:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:45:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SessionManager (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:59:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:45:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 43 |[39m     })[33m;[39m
     [90m 44 |[39m     
    [31m[1m>[22m[39m[90m 45 |[39m     render(
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 46 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 47 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 48 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:45:11)

    console.error
      The above error occurred in the <SessionManager> component:
      
          at children (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:52:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 43 |[39m     })[33m;[39m
     [90m 44 |[39m     
    [31m[1m>[22m[39m[90m 45 |[39m     render(
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 46 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 47 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 48 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:45:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:68:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SessionManager (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:59:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:68:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 66 |[39m     })[33m;[39m
     [90m 67 |[39m     
    [31m[1m>[22m[39m[90m 68 |[39m     render(
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 69 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 70 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 71 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:68:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:68:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SessionManager (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:59:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:68:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 66 |[39m     })[33m;[39m
     [90m 67 |[39m     
    [31m[1m>[22m[39m[90m 68 |[39m     render(
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 69 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 70 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 71 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:68:11)

    console.error
      The above error occurred in the <SessionManager> component:
      
          at children (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:52:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 66 |[39m     })[33m;[39m
     [90m 67 |[39m     
    [31m[1m>[22m[39m[90m 68 |[39m     render(
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 69 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 70 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 71 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:68:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:91:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SessionManager (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:59:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:91:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 89 |[39m     })[33m;[39m
     [90m 90 |[39m     
    [31m[1m>[22m[39m[90m 91 |[39m     render(
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 92 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 93 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 94 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:91:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:91:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SessionManager (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:59:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:91:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 89 |[39m     })[33m;[39m
     [90m 90 |[39m     
    [31m[1m>[22m[39m[90m 91 |[39m     render(
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 92 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 93 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 94 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:91:11)

    console.error
      The above error occurred in the <SessionManager> component:
      
          at children (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:52:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 89 |[39m     })[33m;[39m
     [90m 90 |[39m     
    [31m[1m>[22m[39m[90m 91 |[39m     render(
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 92 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 93 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 94 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:91:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:110:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SessionManager (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:59:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:110:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 108 |[39m     (window[33m.[39mlocalStorage[33m.[39mgetItem [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmockReturnValue([36mnull[39m)[33m;[39m
     [90m 109 |[39m     
    [31m[1m>[22m[39m[90m 110 |[39m     render(
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 111 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 112 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 113 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:110:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:110:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SessionManager (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:59:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\RoleAuthorization.test.tsx:110:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 108 |[39m     (window[33m.[39mlocalStorage[33m.[39mgetItem [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmockReturnValue([36mnull[39m)[33m;[39m
     [90m 109 |[39m     
    [31m[1m>[22m[39m[90m 110 |[39m     render(
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 111 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 112 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 113 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:110:11)

    console.error
      The above error occurred in the <SessionManager> component:
      
          at children (C:\Users\T\directorymonster\src\components\admin\auth\SessionManager.tsx:52:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 108 |[39m     (window[33m.[39mlocalStorage[33m.[39mgetItem [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmockReturnValue([36mnull[39m)[33m;[39m
     [90m 109 |[39m     
    [31m[1m>[22m[39m[90m 110 |[39m     render(
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 111 |[39m       [33m<[39m[33mSessionManager[39m[33m>[39m
     [90m 112 |[39m         [33m<[39m[33mRoleTestComponent[39m [33m/[39m[33m>[39m
     [90m 113 |[39m       [33m<[39m[33m/[39m[33mSessionManager[39m[33m>[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:110:11)

  ‚óè Role-Based Authorization ‚Ä∫ correctly assigns permissions for admin role

    invariant expected app router to be mounted

    [0m [90m 57 |[39m   [36mconst[39m [isAuthenticated[33m,[39m setIsAuthenticated] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
     [90m 58 |[39m   [36mconst[39m [isRefreshing[33m,[39m setIsRefreshing] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 59 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 60 |[39m   
     [90m 61 |[39m   [90m// Check token expiration and refresh if needed[39m
     [90m 62 |[39m   [36mconst[39m checkTokenExpiration [33m=[39m [36masync[39m (token[33m:[39m string) [33m=>[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SessionManager (src/components/admin/auth/SessionManager.tsx:59:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:45:11)

  ‚óè Role-Based Authorization ‚Ä∫ correctly assigns permissions for editor role

    invariant expected app router to be mounted

    [0m [90m 57 |[39m   [36mconst[39m [isAuthenticated[33m,[39m setIsAuthenticated] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
     [90m 58 |[39m   [36mconst[39m [isRefreshing[33m,[39m setIsRefreshing] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 59 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 60 |[39m   
     [90m 61 |[39m   [90m// Check token expiration and refresh if needed[39m
     [90m 62 |[39m   [36mconst[39m checkTokenExpiration [33m=[39m [36masync[39m (token[33m:[39m string) [33m=>[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SessionManager (src/components/admin/auth/SessionManager.tsx:59:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:68:11)

  ‚óè Role-Based Authorization ‚Ä∫ correctly assigns permissions for viewer role

    invariant expected app router to be mounted

    [0m [90m 57 |[39m   [36mconst[39m [isAuthenticated[33m,[39m setIsAuthenticated] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
     [90m 58 |[39m   [36mconst[39m [isRefreshing[33m,[39m setIsRefreshing] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 59 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 60 |[39m   
     [90m 61 |[39m   [90m// Check token expiration and refresh if needed[39m
     [90m 62 |[39m   [36mconst[39m checkTokenExpiration [33m=[39m [36masync[39m (token[33m:[39m string) [33m=>[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SessionManager (src/components/admin/auth/SessionManager.tsx:59:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:91:11)

  ‚óè Role-Based Authorization ‚Ä∫ denies access when not authenticated

    invariant expected app router to be mounted

    [0m [90m 57 |[39m   [36mconst[39m [isAuthenticated[33m,[39m setIsAuthenticated] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
     [90m 58 |[39m   [36mconst[39m [isRefreshing[33m,[39m setIsRefreshing] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 59 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 60 |[39m   
     [90m 61 |[39m   [90m// Check token expiration and refresh if needed[39m
     [90m 62 |[39m   [36mconst[39m checkTokenExpiration [33m=[39m [36masync[39m (token[33m:[39m string) [33m=>[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SessionManager (src/components/admin/auth/SessionManager.tsx:59:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:110:11)

FAIL tests/admin/auth/Logout.test.tsx
  ‚óè Logout Functionality ‚Ä∫ correctly handles logout action

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/login"

    Number of calls: 0

    [0m [90m 67 |[39m     
     [90m 68 |[39m     [90m// Should redirect to login page[39m
    [31m[1m>[22m[39m[90m 69 |[39m     expect(mockPush)[33m.[39mtoHaveBeenCalledWith([32m'/login'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 70 |[39m     
     [90m 71 |[39m     [90m// Should update context to not authenticated[39m
     [90m 72 |[39m     [36mawait[39m waitFor(() [33m=>[39m {[0m

      at Object.toHaveBeenCalledWith (tests/admin/auth/Logout.test.tsx:69:22)

FAIL tests/admin/sites/hooks/useDomains.test.tsx
  ‚óè useDomains Hook ‚Ä∫ validates domains before submission

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 143 |[39m     
     [90m 144 |[39m     [90m// Should be valid now[39m
    [31m[1m>[22m[39m[90m 145 |[39m     expect(isValid)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                     [31m[1m^[22m[39m
     [90m 146 |[39m     expect(result[33m.[39mcurrent[33m.[39merrors[33m.[39mdomains)[33m.[39mtoBeUndefined()[33m;[39m
     [90m 147 |[39m   })[33m;[39m
     [90m 148 |[39m[0m

      at Object.toBe (tests/admin/sites/hooks/useDomains.test.tsx:145:21)

  ‚óè useDomains Hook ‚Ä∫ clears errors on input change

    expect(received).toBe(expected) // Object.is equality

    Expected: "Invalid domain format"
    Received: undefined

    [0m [90m 246 |[39m     
     [90m 247 |[39m     [90m// Make sure the error is set[39m
    [31m[1m>[22m[39m[90m 248 |[39m     expect(result[33m.[39mcurrent[33m.[39merrors[33m.[39mdomainInput)[33m.[39mtoBe([32m'Invalid domain format'[39m)[33m;[39m
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 249 |[39m     
     [90m 250 |[39m     [90m// Change input to clear error[39m
     [90m 251 |[39m     act(() [33m=>[39m {[0m

      at Object.toBe (tests/admin/sites/hooks/useDomains.test.tsx:248:47)

  ‚óè useDomains Hook ‚Ä∫ uses custom validation when provided

    expect(received).toBe(expected) // Object.is equality

    Expected: "Only .org domains are allowed"
    Received: undefined

    [0m [90m 279 |[39m     
     [90m 280 |[39m     [90m// Check error is set with custom message[39m
    [31m[1m>[22m[39m[90m 281 |[39m     expect(result[33m.[39mcurrent[33m.[39merrors[33m.[39mdomainInput)[33m.[39mtoBe([32m'Only .org domains are allowed'[39m)[33m;[39m
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 282 |[39m     expect(result[33m.[39mcurrent[33m.[39mdomains[33m.[39mlength)[33m.[39mtoBe([35m0[39m)[33m;[39m
     [90m 283 |[39m     
     [90m 284 |[39m     [90m// Try to add a .org domain[39m[0m

      at Object.toBe (tests/admin/sites/hooks/useDomains.test.tsx:281:47)

FAIL tests/middleware/withRedis.test.ts
  ‚óè withRedis Middleware ‚Ä∫ should propagate errors from the handler

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {Symbol(state): {"aborted": false, "body": {"length": null, "source": null, "stream": {Symbol(kType): "ReadableStream", Symbol(kState): {"controller": {Symbol(kType): "ReadableByteStreamController", Symbol(kState): {"autoAllocateChunkSize": undefined, "byobRequest": null, "cancelAlgorithm": [Function nonOpCancel], "closeRequested": false, "highWaterMark": 0, "pendingPullIntos": [], "pullAgain": false, "pullAlgorithm": [Function anonymous], "pulling": false, "queue": [], "queueTotalSize": 0, "started": true, "stream": [Circular]}}, "disturbed": false, "reader": undefined, "state": "readable", "storedError": undefined, "transfer": {"port1": undefined, "port2": undefined, "promise": undefined, "writable": undefined}}, Symbol(nodejs.webstream.isClosedPromise): {"promise": {}, "reject": [Function anonymous], "resolve": [Function anonymous]}, Symbol(nodejs.webstream.controllerErrorFunction): [Function anonymous]}}, "cacheState": "", "headersList": {"cookies": null, Symbol(headers map): Map {"retry-after" => {"name": "Retry-After", "value": "30"}, "cache-control" => {"name": "Cache-Control", "value": "no-store, no-cache, must-revalidate, proxy-revalidate"}, "content-type" => {"name": "content-type", "value": "application/json"}}, Symbol(headers map sorted): null}, "rangeRequested": false, "requestIncludesCredentials": false, "status": 503, "statusText": "", "timingAllowPassed": false, "timingInfo": null, "type": "default", "urlList": []}, Symbol(headers): {}, Symbol(internal response): {"cookies": {"_headers": {}, "_parsed": Map {}}, "url": undefined}}

    [0m [90m 122 |[39m     
     [90m 123 |[39m     [90m// Expect the handler error to be propagated[39m
    [31m[1m>[22m[39m[90m 124 |[39m     [36mawait[39m expect(wrappedHandler(request))[33m.[39mrejects[33m.[39mtoThrow(handlerError)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 125 |[39m     
     [90m 126 |[39m     [90m// Verify that Redis was pinged[39m
     [90m 127 |[39m     expect(redis[33m.[39mping)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.expect (tests/middleware/withRedis.test.ts:124:11)

FAIL tests/integration/user-flows/category-management.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

    console.log
      Looking for site with slug: test-fishing

      at log (src/app/api/sites/[siteSlug]/categories/route.ts:51:11)

    console.log
      Available site keys: []

      at log (src/app/api/sites/[siteSlug]/categories/route.ts:55:11)

    console.log
      Found site: null

      at log (src/app/api/sites/[siteSlug]/categories/route.ts:59:11)

  ‚óè Category Management ‚Ä∫ should create and retrieve a new category

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

    [0m [90m 44 |[39m     
     [90m 45 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 46 |[39m     expect(createResponse[33m.[39mstatus)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 47 |[39m     
     [90m 48 |[39m     [90m// Parse the response to get the created category[39m
     [90m 49 |[39m     [36mconst[39m createdCategory [33m=[39m [36mawait[39m createResponse[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/category-management.test.ts:46:35)

FAIL dist/test-generator/Core/Template.test.js
  ‚óè Template ‚Ä∫ should initialize properly

    TypeError: _FileSystem.FileSystem.fileExists.mockReturnValue is not a function

    [0m [90m 48 |[39m         template [33m=[39m [36mnew[39m [33mTemplate[39m(templateDir)[33m;[39m
     [90m 49 |[39m         [90m// Setup default mock behaviors[39m
    [31m[1m>[22m[39m[90m 50 |[39m         [33mFileSystem[39m[33m.[39mfileExists[33m.[39mmockReturnValue([36mtrue[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 51 |[39m         [33mFileSystem[39m[33m.[39mdirectoryExists[33m.[39mmockReturnValue([36mtrue[39m)[33m;[39m
     [90m 52 |[39m         [33mFileSystem[39m[33m.[39mreadFile[33m.[39mmockReturnValue(validTemplateContent)[33m;[39m
     [90m 53 |[39m         [33mFileSystem[39m[33m.[39mwriteFile[33m.[39mmockReturnValue([36mtrue[39m)[33m;[39m[0m

      at Object.mockReturnValue (dist/test-generator/Core/Template.test.js:50:31)

FAIL tests/api/healthcheck.test.ts
  ‚óè Healthcheck API ‚Ä∫ should return healthy status when Redis is healthy

    TypeError: Cannot read properties of undefined (reading 'status')

    [0m [90m  6 |[39m   
     [90m  7 |[39m   [36mconst[39m healthStatus [33m=[39m {
    [31m[1m>[22m[39m[90m  8 |[39m     status[33m:[39m redisStatus[33m.[39mstatus [33m===[39m [32m'ok'[39m [33m?[39m [32m'healthy'[39m [33m:[39m [32m'unhealthy'[39m[33m,[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m  9 |[39m     version[33m:[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_APP_VERSION[39m [33m||[39m [32m'0.1.0'[39m[33m,[39m
     [90m 10 |[39m     environment[33m:[39m process[33m.[39menv[33m.[39m[33mNODE_ENV[39m [33m||[39m [32m'development'[39m[33m,[39m
     [90m 11 |[39m     timestamp[33m:[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m[0m

      at status (src/app/api/healthcheck/route.ts:8:25)
      at Object.<anonymous> (tests/api/healthcheck.test.ts:52:22)

  ‚óè Healthcheck API ‚Ä∫ should return unhealthy status when Redis is unhealthy

    TypeError: Cannot read properties of undefined (reading 'status')

    [0m [90m  6 |[39m   
     [90m  7 |[39m   [36mconst[39m healthStatus [33m=[39m {
    [31m[1m>[22m[39m[90m  8 |[39m     status[33m:[39m redisStatus[33m.[39mstatus [33m===[39m [32m'ok'[39m [33m?[39m [32m'healthy'[39m [33m:[39m [32m'unhealthy'[39m[33m,[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m  9 |[39m     version[33m:[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_APP_VERSION[39m [33m||[39m [32m'0.1.0'[39m[33m,[39m
     [90m 10 |[39m     environment[33m:[39m process[33m.[39menv[33m.[39m[33mNODE_ENV[39m [33m||[39m [32m'development'[39m[33m,[39m
     [90m 11 |[39m     timestamp[33m:[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m[0m

      at status (src/app/api/healthcheck/route.ts:8:25)
      at Object.<anonymous> (tests/api/healthcheck.test.ts:106:22)

  ‚óè Healthcheck API ‚Ä∫ should use default values when environment variables are not set

    TypeError: Cannot read properties of undefined (reading 'status')

    [0m [90m  6 |[39m   
     [90m  7 |[39m   [36mconst[39m healthStatus [33m=[39m {
    [31m[1m>[22m[39m[90m  8 |[39m     status[33m:[39m redisStatus[33m.[39mstatus [33m===[39m [32m'ok'[39m [33m?[39m [32m'healthy'[39m [33m:[39m [32m'unhealthy'[39m[33m,[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m  9 |[39m     version[33m:[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_APP_VERSION[39m [33m||[39m [32m'0.1.0'[39m[33m,[39m
     [90m 10 |[39m     environment[33m:[39m process[33m.[39menv[33m.[39m[33mNODE_ENV[39m [33m||[39m [32m'development'[39m[33m,[39m
     [90m 11 |[39m     timestamp[33m:[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m[0m

      at status (src/app/api/healthcheck/route.ts:8:25)
      at Object.<anonymous> (tests/api/healthcheck.test.ts:157:22)

FAIL tests/api/site-info/get.test.ts
  ‚óè Site Info API - GET ‚Ä∫ should handle Redis errors gracefully

    Redis connection error

    [0m [90m 242 |[39m     [90m// Mock getSiteByHostname to throw an error[39m
     [90m 243 |[39m     [36mconst[39m { getSiteByHostname } [33m=[39m require([32m'../../../src/lib/site-utils'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 244 |[39m     (getSiteByHostname [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Redis connection error'[39m))[33m;[39m
     [90m     |[39m                                                        [31m[1m^[22m[39m
     [90m 245 |[39m     
     [90m 246 |[39m     [90m// Mock the keys call to also throw an error[39m
     [90m 247 |[39m     [36mconst[39m { kv } [33m=[39m require([32m'../../../src/lib/redis-client'[39m)[33m;[39m[0m

      at Object.<anonymous> (tests/api/site-info/get.test.ts:244:56)

FAIL tests/admin/sites/SiteForm.accessibility.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:20:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:20:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 18 |[39m   
     [90m 19 |[39m   it([32m'has proper form field labels associated with inputs'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 20 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 21 |[39m     
     [90m 22 |[39m     [90m// Test explicit label associations using htmlFor/id[39m
     [90m 23 |[39m     [36mconst[39m nameLabel [33m=[39m screen[33m.[39mgetByText([35m/name/i[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:20:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:20:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:20:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 18 |[39m   
     [90m 19 |[39m   it([32m'has proper form field labels associated with inputs'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 20 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 21 |[39m     
     [90m 22 |[39m     [90m// Test explicit label associations using htmlFor/id[39m
     [90m 23 |[39m     [36mconst[39m nameLabel [33m=[39m screen[33m.[39mgetByText([35m/name/i[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:20:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 18 |[39m   
     [90m 19 |[39m   it([32m'has proper form field labels associated with inputs'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 20 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 21 |[39m     
     [90m 22 |[39m     [90m// Test explicit label associations using htmlFor/id[39m
     [90m 23 |[39m     [36mconst[39m nameLabel [33m=[39m screen[33m.[39mgetByText([35m/name/i[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:20:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:32:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:32:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 30 |[39m   it([32m'supports keyboard navigation through all form fields'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 31 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 32 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 33 |[39m     
     [90m 34 |[39m     [90m// Get all focusable elements[39m
     [90m 35 |[39m     [36mconst[39m nameInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:32:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:32:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:32:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 30 |[39m   it([32m'supports keyboard navigation through all form fields'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 31 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 32 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 33 |[39m     
     [90m 34 |[39m     [90m// Get all focusable elements[39m
     [90m 35 |[39m     [36mconst[39m nameInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:32:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 30 |[39m   it([32m'supports keyboard navigation through all form fields'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 31 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 32 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 33 |[39m     
     [90m 34 |[39m     [90m// Get all focusable elements[39m
     [90m 35 |[39m     [36mconst[39m nameInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:32:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:55:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:55:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 53 |[39m   it([32m'maintains focus order that matches visual layout'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 54 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 55 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 56 |[39m     
     [90m 57 |[39m     [90m// Get focusable elements[39m
     [90m 58 |[39m     [36mconst[39m firstInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:55:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:55:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:55:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 53 |[39m   it([32m'maintains focus order that matches visual layout'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 54 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 55 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 56 |[39m     
     [90m 57 |[39m     [90m// Get focusable elements[39m
     [90m 58 |[39m     [36mconst[39m firstInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:55:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 53 |[39m   it([32m'maintains focus order that matches visual layout'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 54 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 55 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 56 |[39m     
     [90m 57 |[39m     [90m// Get focusable elements[39m
     [90m 58 |[39m     [36mconst[39m firstInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:55:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:71:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:71:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 69 |[39m
     [90m 70 |[39m   it([32m'has appropriate ARIA attributes for form fields'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 71 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 72 |[39m     
     [90m 73 |[39m     [90m// Check for ARIA attributes on inputs[39m
     [90m 74 |[39m     [36mconst[39m nameInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:71:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:71:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:71:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 69 |[39m
     [90m 70 |[39m   it([32m'has appropriate ARIA attributes for form fields'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 71 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 72 |[39m     
     [90m 73 |[39m     [90m// Check for ARIA attributes on inputs[39m
     [90m 74 |[39m     [36mconst[39m nameInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:71:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 69 |[39m
     [90m 70 |[39m   it([32m'has appropriate ARIA attributes for form fields'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 71 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 72 |[39m     
     [90m 73 |[39m     [90m// Check for ARIA attributes on inputs[39m
     [90m 74 |[39m     [36mconst[39m nameInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:71:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:89:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:89:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 87 |[39m   it([32m'announces validation errors to screen readers'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 88 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 89 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 90 |[39m     
     [90m 91 |[39m     [90m// Submit empty form to trigger validations[39m
     [90m 92 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'siteForm-submit'[39m))[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:89:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:89:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:89:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 87 |[39m   it([32m'announces validation errors to screen readers'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 88 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 89 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 90 |[39m     
     [90m 91 |[39m     [90m// Submit empty form to trigger validations[39m
     [90m 92 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'siteForm-submit'[39m))[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:89:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 87 |[39m   it([32m'announces validation errors to screen readers'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 88 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 89 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 90 |[39m     
     [90m 91 |[39m     [90m// Submit empty form to trigger validations[39m
     [90m 92 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'siteForm-submit'[39m))[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:89:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:107:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:107:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 105 |[39m   it([32m'provides clear focus indication on all interactive elements'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 106 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 107 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 108 |[39m     
     [90m 109 |[39m     [90m// Check focus styles on inputs[39m
     [90m 110 |[39m     [36mconst[39m nameInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:107:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:107:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:107:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 105 |[39m   it([32m'provides clear focus indication on all interactive elements'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 106 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 107 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 108 |[39m     
     [90m 109 |[39m     [90m// Check focus styles on inputs[39m
     [90m 110 |[39m     [36mconst[39m nameInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:107:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 105 |[39m   it([32m'provides clear focus indication on all interactive elements'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 106 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 107 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 108 |[39m     
     [90m 109 |[39m     [90m// Check focus styles on inputs[39m
     [90m 110 |[39m     [36mconst[39m nameInput [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:107:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:121:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:121:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 119 |[39m
     [90m 120 |[39m   it([32m'uses semantic HTML elements appropriate for form structure'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 121 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 122 |[39m     
     [90m 123 |[39m     [90m// Check form element[39m
     [90m 124 |[39m     [36mconst[39m form [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-form'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:121:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:121:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:121:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 119 |[39m
     [90m 120 |[39m   it([32m'uses semantic HTML elements appropriate for form structure'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 121 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 122 |[39m     
     [90m 123 |[39m     [90m// Check form element[39m
     [90m 124 |[39m     [36mconst[39m form [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-form'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:121:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 119 |[39m
     [90m 120 |[39m   it([32m'uses semantic HTML elements appropriate for form structure'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 121 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 122 |[39m     
     [90m 123 |[39m     [90m// Check form element[39m
     [90m 124 |[39m     [36mconst[39m form [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-form'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:121:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:150:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:150:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 148 |[39m     
     [90m 149 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 150 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 151 |[39m     
     [90m 152 |[39m     [90m// Fill form with valid data[39m
     [90m 153 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m,[39m [32m'Test Name'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:150:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:150:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:150:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 148 |[39m     
     [90m 149 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 150 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 151 |[39m     
     [90m 152 |[39m     [90m// Fill form with valid data[39m
     [90m 153 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m,[39m [32m'Test Name'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:150:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 148 |[39m     
     [90m 149 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 150 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 151 |[39m     
     [90m 152 |[39m     [90m// Fill form with valid data[39m
     [90m 153 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'siteForm-name'[39m)[33m,[39m [32m'Test Name'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:150:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:169:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:169:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 167 |[39m   it([32m'ensures dynamically added form elements are properly accessible'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 168 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 169 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 170 |[39m     
     [90m 171 |[39m     [90m// Add a dynamic field if component supports it[39m
     [90m 172 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'siteForm-add-field'[39m))[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:169:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:169:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:169:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 167 |[39m   it([32m'ensures dynamically added form elements are properly accessible'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 168 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 169 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 170 |[39m     
     [90m 171 |[39m     [90m// Add a dynamic field if component supports it[39m
     [90m 172 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'siteForm-add-field'[39m))[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:169:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 167 |[39m   it([32m'ensures dynamically added form elements are properly accessible'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 168 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 169 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 170 |[39m     
     [90m 171 |[39m     [90m// Add a dynamic field if component supports it[39m
     [90m 172 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'siteForm-add-field'[39m))[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:169:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:186:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:186:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 184 |[39m
     [90m 185 |[39m   it([32m'uses appropriate button types for form actions'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 186 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 187 |[39m     
     [90m 188 |[39m     [90m// Submit button should be type="submit"[39m
     [90m 189 |[39m     [36mconst[39m submitButton [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-submit'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:186:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:186:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:186:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 184 |[39m
     [90m 185 |[39m   it([32m'uses appropriate button types for form actions'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 186 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 187 |[39m     
     [90m 188 |[39m     [90m// Submit button should be type="submit"[39m
     [90m 189 |[39m     [36mconst[39m submitButton [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-submit'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:186:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 184 |[39m
     [90m 185 |[39m   it([32m'uses appropriate button types for form actions'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 186 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 187 |[39m     
     [90m 188 |[39m     [90m// Submit button should be type="submit"[39m
     [90m 189 |[39m     [36mconst[39m submitButton [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-submit'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:186:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:203:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:203:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 201 |[39m   it([32m'properly manages focus when adding and removing dynamic fields'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 202 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 203 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 204 |[39m     
     [90m 205 |[39m     [90m// Add a dynamic field[39m
     [90m 206 |[39m     [36mconst[39m addButton [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-add-field'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:203:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:203:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:203:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 201 |[39m   it([32m'properly manages focus when adding and removing dynamic fields'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 202 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 203 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 204 |[39m     
     [90m 205 |[39m     [90m// Add a dynamic field[39m
     [90m 206 |[39m     [36mconst[39m addButton [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-add-field'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:203:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 201 |[39m   it([32m'properly manages focus when adding and removing dynamic fields'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 202 |[39m     [36mconst[39m user [33m=[39m userEvent[33m.[39msetup()[33m;[39m
    [31m[1m>[22m[39m[90m 203 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 204 |[39m     
     [90m 205 |[39m     [90m// Add a dynamic field[39m
     [90m 206 |[39m     [36mconst[39m addButton [33m=[39m screen[33m.[39mgetByTestId([32m'siteForm-add-field'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:203:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:222:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25777:74)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:222:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 220 |[39m
     [90m 221 |[39m   it([32m'allows navigation via screen reader landmarks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 222 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 223 |[39m     
     [90m 224 |[39m     [90m// Check for appropriate landmarks[39m
     [90m 225 |[39m     expect(screen[33m.[39mgetByTestId([32m'siteForm-form'[39m))[33m.[39mtoHaveAttribute([32m'role'[39m[33m,[39m [32m'form'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:222:11)

    console.error
      Error: Uncaught [Error: invariant expected app router to be mounted]
          at reportException (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\helpers\runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:353:9)
          at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
          at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
          at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
          at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
          at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
          at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
          at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
          at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
          at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
          at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
          at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
          at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:222:11)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12) {
        detail: Error: invariant expected app router to be mounted
            at useRouter (C:\Users\T\directorymonster\node_modules\next\src\client\components\navigation.ts:113:11)
            at SiteForm (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:54:27)
            at renderWithHooks (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
            at mountIndeterminateComponent (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
            at beginWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
            at innerInvokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:350:25)
            at invokeEventListeners (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (C:\Users\T\directorymonster\node_modules\jsdom\lib\jsdom\living\generated\EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4213:16)
            at invokeGuardedCallback (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:4277:31)
            at beginWork$1 (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:27490:7)
            at performUnitOfWork (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26599:12)
            at workLoopSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26505:5)
            at renderRootSync (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:26473:7)
            at recoverFromConcurrentError (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (C:\Users\T\directorymonster\node_modules\react-dom\cjs\react-dom.development.js:25789:22)
            at flushActQueue (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2667:24)
            at act (C:\Users\T\directorymonster\node_modules\react\cjs\react.development.js:2582:11)
            at C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\act-compat.js:47:25
            at renderRoot (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:188:26)
            at render (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:287:10)
            at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\sites\SiteForm.accessibility.test.tsx:222:11)
            at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
            at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
            at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
            at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
            at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
            at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
            at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
            at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
            at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12),
        type: 'unhandled exception'
      }

    [0m [90m 220 |[39m
     [90m 221 |[39m   it([32m'allows navigation via screen reader landmarks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 222 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 223 |[39m     
     [90m 224 |[39m     [90m// Check for appropriate landmarks[39m
     [90m 225 |[39m     expect(screen[33m.[39mgetByTestId([32m'siteForm-form'[39m))[33m.[39mtoHaveAttribute([32m'role'[39m[33m,[39m [32m'form'[39m)[33m;[39m[0m

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:222:11)

    console.error
      The above error occurred in the <SiteForm> component:
      
          at initialData (C:\Users\T\directorymonster\src\components\admin\sites\SiteForm.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

    [0m [90m 220 |[39m
     [90m 221 |[39m   it([32m'allows navigation via screen reader landmarks'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 222 |[39m     render([33m<[39m[33mSiteForm[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 223 |[39m     
     [90m 224 |[39m     [90m// Check for appropriate landmarks[39m
     [90m 225 |[39m     expect(screen[33m.[39mgetByTestId([32m'siteForm-form'[39m))[33m.[39mtoHaveAttribute([32m'role'[39m[33m,[39m [32m'form'[39m)[33m;[39m[0m

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:222:11)

  ‚óè SiteForm Accessibility ‚Ä∫ has proper form field labels associated with inputs

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:20:11)

  ‚óè SiteForm Accessibility ‚Ä∫ supports keyboard navigation through all form fields

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:32:11)

  ‚óè SiteForm Accessibility ‚Ä∫ maintains focus order that matches visual layout

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:55:11)

  ‚óè SiteForm Accessibility ‚Ä∫ has appropriate ARIA attributes for form fields

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:71:11)

  ‚óè SiteForm Accessibility ‚Ä∫ announces validation errors to screen readers

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:89:11)

  ‚óè SiteForm Accessibility ‚Ä∫ provides clear focus indication on all interactive elements

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:107:11)

  ‚óè SiteForm Accessibility ‚Ä∫ uses semantic HTML elements appropriate for form structure

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:121:11)

  ‚óè SiteForm Accessibility ‚Ä∫ supports form submission via keyboard (Enter key)

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:150:11)

  ‚óè SiteForm Accessibility ‚Ä∫ ensures dynamically added form elements are properly accessible

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:169:11)

  ‚óè SiteForm Accessibility ‚Ä∫ uses appropriate button types for form actions

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:186:11)

  ‚óè SiteForm Accessibility ‚Ä∫ properly manages focus when adding and removing dynamic fields

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:203:11)

  ‚óè SiteForm Accessibility ‚Ä∫ allows navigation via screen reader landmarks

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:222:11)

FAIL tests/admin/auth/SessionManager.test.tsx
  ‚óè SessionManager Component ‚Ä∫ provides authentication context to children

    Unable to find an element by: [data-testid="username"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div>[39m
          [36m<p[39m
            [33mdata-testid[39m=[32m"auth-status"[39m
          [36m>[39m
            [0mNot Authenticated[0m
          [36m</p>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m  99 |[39m     
     [90m 100 |[39m     [90m// User info should be available[39m
    [31m[1m>[22m[39m[90m 101 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m     |[39m                  [31m[1m^[22m[39m
     [90m 102 |[39m       expect(screen[33m.[39mgetByTestId([32m'username'[39m))[33m.[39mtoHaveTextContent([32m'testuser'[39m)[33m;[39m
     [90m 103 |[39m       expect(screen[33m.[39mgetByTestId([32m'role'[39m))[33m.[39mtoHaveTextContent([32m'admin'[39m)[33m;[39m
     [90m 104 |[39m     })[33m;[39m[0m

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/admin/auth/SessionManager.test.tsx:101:18)

  ‚óè SessionManager Component ‚Ä∫ refreshes token when it is about to expire

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "authToken", "new-valid-token"

    Number of calls: 0

    [0m [90m 165 |[39m     
     [90m 166 |[39m     [90m// Should have stored the new token[39m
    [31m[1m>[22m[39m[90m 167 |[39m     expect(window[33m.[39mlocalStorage[33m.[39msetItem)[33m.[39mtoHaveBeenCalledWith([32m'authToken'[39m[33m,[39m [32m'new-valid-token'[39m)[33m;[39m
     [90m     |[39m                                         [31m[1m^[22m[39m
     [90m 168 |[39m   })[33m;[39m
     [90m 169 |[39m })[33m;[39m
     [90m 170 |[39m[0m

      at Object.toHaveBeenCalledWith (tests/admin/auth/SessionManager.test.tsx:167:41)

PASS tests/admin/categories/components/CategoryTableRow.hierarchy.test.tsx
PASS tests/admin/categories/components/CategoryTableRow.test.tsx
PASS tests/admin/categories/components/CategoryTablePagination.test.tsx
PASS tests/admin/sites/components/SEOSettings.test.tsx
PASS tests/search/SearchResults.test.tsx
PASS tests/admin/categories/components/CategoryTableError.test.tsx
PASS tests/admin/listings/ListingTableRow.test.tsx
PASS tests/admin/categories/components/CategoryTableRow.sorting.test.tsx
PASS tests/admin/categories/CategoryTable.test.tsx
PASS tests/admin/auth/TokenRefresh.test.tsx
PASS tests/search/index.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

PASS tests/admin/categories/components/CategoriesMobileView.edgecases.test.tsx
(node:48880) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL tests/AdminDashboard.test.tsx
  ‚óè AdminDashboard Component ‚Ä∫ renders the page title correctly

    expect(element).toHaveTextContent()

    Expected element to have text content:
      Admin Dashboard
    Received:
      Dashboard

    [0m [90m 20 |[39m     [36mconst[39m heading [33m=[39m screen[33m.[39mgetByRole([32m'heading'[39m[33m,[39m { level[33m:[39m [35m1[39m })[33m;[39m
     [90m 21 |[39m     expect(heading)[33m.[39mtoBeInTheDocument()[33m;[39m
    [31m[1m>[22m[39m[90m 22 |[39m     expect(heading)[33m.[39mtoHaveTextContent([32m'Admin Dashboard'[39m)[33m;[39m
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 23 |[39m   })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m   it([32m'renders the site panel with correct heading'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toHaveTextContent (tests/AdminDashboard.test.tsx:22:21)

  ‚óè AdminDashboard Component ‚Ä∫ renders the site panel with correct heading

    TestingLibraryElementError: Unable to find an accessible element with the role "heading" and name "Your Directory Sites"

    Here are the accessible roles:

      heading:

      Name "Dashboard":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
      [36m/>[39m

      Name "Total Listings":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Active Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Unique Visitors":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Page Views":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Total Searches":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Interactions":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Recent Activity":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      Name "Quick Actions":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      --------------------------------------------------
      list:

      Name "":
      [36m<ul[39m
        [33mclass[39m=[32m"divide-y divide-gray-100"[39m
      [36m/>[39m

      --------------------------------------------------
      listitem:

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      --------------------------------------------------
      link:

      Name "Add New Listing":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/listings/new"[39m
      [36m/>[39m

      Name "Add New Category":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/categories/new"[39m
      [36m/>[39m

      Name "Create New Site":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/sites/new"[39m
      [36m/>[39m

      Name "System Settings":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/settings"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 26 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 27 |[39m     
    [31m[1m>[22m[39m[90m 28 |[39m     [36mconst[39m siteHeading [33m=[39m screen[33m.[39mgetByRole([32m'heading'[39m[33m,[39m { name[33m:[39m [32m'Your Directory Sites'[39m })[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 29 |[39m     expect(siteHeading)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 30 |[39m   })[33m;[39m
     [90m 31 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/AdminDashboard.test.tsx:28:32)

  ‚óè AdminDashboard Component ‚Ä∫ displays "No sites created yet" message when no sites exist

    TestingLibraryElementError: Unable to find an element with the text: No sites created yet.. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 33 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 34 |[39m     
    [31m[1m>[22m[39m[90m 35 |[39m     [36mconst[39m noSitesMessage [33m=[39m screen[33m.[39mgetByText([32m'No sites created yet.'[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 36 |[39m     expect(noSitesMessage)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 37 |[39m   })[33m;[39m
     [90m 38 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/AdminDashboard.test.tsx:35:35)

  ‚óè AdminDashboard Component ‚Ä∫ renders the "Create New SEO Site" button

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name "Create New SEO Site"

    Here are the accessible roles:

      heading:

      Name "Dashboard":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
      [36m/>[39m

      Name "Total Listings":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Active Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Unique Visitors":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Page Views":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Total Searches":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Interactions":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Recent Activity":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      Name "Quick Actions":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      --------------------------------------------------
      list:

      Name "":
      [36m<ul[39m
        [33mclass[39m=[32m"divide-y divide-gray-100"[39m
      [36m/>[39m

      --------------------------------------------------
      listitem:

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      --------------------------------------------------
      link:

      Name "Add New Listing":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/listings/new"[39m
      [36m/>[39m

      Name "Add New Category":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/categories/new"[39m
      [36m/>[39m

      Name "Create New Site":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/sites/new"[39m
      [36m/>[39m

      Name "System Settings":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/settings"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 40 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 41 |[39m     
    [31m[1m>[22m[39m[90m 42 |[39m     [36mconst[39m createButton [33m=[39m screen[33m.[39mgetByRole([32m'button'[39m[33m,[39m { name[33m:[39m [32m'Create New SEO Site'[39m })[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 43 |[39m     expect(createButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 44 |[39m     expect(createButton)[33m.[39mtoHaveClass([32m'bg-blue-500'[39m)[33m;[39m
     [90m 45 |[39m   })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/AdminDashboard.test.tsx:42:33)

  ‚óè AdminDashboard Component ‚Ä∫ renders the stats panel with correct heading

    TestingLibraryElementError: Unable to find an accessible element with the role "heading" and name "Platform Stats"

    Here are the accessible roles:

      heading:

      Name "Dashboard":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
      [36m/>[39m

      Name "Total Listings":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Active Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Unique Visitors":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Page Views":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Total Searches":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Interactions":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Recent Activity":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      Name "Quick Actions":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      --------------------------------------------------
      list:

      Name "":
      [36m<ul[39m
        [33mclass[39m=[32m"divide-y divide-gray-100"[39m
      [36m/>[39m

      --------------------------------------------------
      listitem:

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      --------------------------------------------------
      link:

      Name "Add New Listing":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/listings/new"[39m
      [36m/>[39m

      Name "Add New Category":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/categories/new"[39m
      [36m/>[39m

      Name "Create New Site":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/sites/new"[39m
      [36m/>[39m

      Name "System Settings":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/settings"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 48 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 49 |[39m     
    [31m[1m>[22m[39m[90m 50 |[39m     [36mconst[39m statsHeading [33m=[39m screen[33m.[39mgetByRole([32m'heading'[39m[33m,[39m { name[33m:[39m [32m'Platform Stats'[39m })[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 51 |[39m     expect(statsHeading)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 52 |[39m   })[33m;[39m
     [90m 53 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/AdminDashboard.test.tsx:50:33)

  ‚óè AdminDashboard Component ‚Ä∫ displays the correct default stats values

    TestingLibraryElementError: Unable to find an element with the text: Total Sites: 0. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 55 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 56 |[39m     
    [31m[1m>[22m[39m[90m 57 |[39m     [36mconst[39m totalSites [33m=[39m screen[33m.[39mgetByText([32m'Total Sites: 0'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 58 |[39m     [36mconst[39m totalListings [33m=[39m screen[33m.[39mgetByText([32m'Total Listings: 0'[39m)[33m;[39m
     [90m 59 |[39m     [36mconst[39m totalBacklinks [33m=[39m screen[33m.[39mgetByText([32m'Total Backlinks: 0'[39m)[33m;[39m
     [90m 60 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/AdminDashboard.test.tsx:57:31)

  ‚óè AdminDashboard Component ‚Ä∫ applies correct grid layout for responsive design

    TestingLibraryElementError: Unable to find an element with the text: Admin Dashboard. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 67 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 68 |[39m     
    [31m[1m>[22m[39m[90m 69 |[39m     [36mconst[39m gridContainer [33m=[39m screen[33m.[39mgetByText([32m'Admin Dashboard'[39m)[33m.[39mclosest([32m'main'[39m)[33m![39m[33m.[39mquerySelector([32m'.grid'[39m)[33m;[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 70 |[39m     expect(gridContainer)[33m.[39mtoHaveClass([32m'grid-cols-1 md:grid-cols-2 gap-6'[39m)[33m;[39m
     [90m 71 |[39m   })[33m;[39m
     [90m 72 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/AdminDashboard.test.tsx:69:34)

  ‚óè AdminDashboard Component ‚Ä∫ applies proper styling to the panels

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: 0

    [0m [90m 75 |[39m     
     [90m 76 |[39m     [36mconst[39m panels [33m=[39m document[33m.[39mquerySelectorAll([32m'.border.rounded.p-4'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 77 |[39m     expect(panels[33m.[39mlength)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 78 |[39m     
     [90m 79 |[39m     [90m// Panel headings should have appropriate styling[39m
     [90m 80 |[39m     [36mconst[39m panelHeadings [33m=[39m document[33m.[39mquerySelectorAll([32m'.text-xl.font-semibold.mb-3'[39m)[33m;[39m[0m

      at Object.toBe (tests/AdminDashboard.test.tsx:77:27)

  ‚óè AdminDashboard Component ‚Ä∫ ensures main container has proper padding

    TestingLibraryElementError: Unable to find an accessible element with the role "main"

    Here are the accessible roles:

      heading:

      Name "Dashboard":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
      [36m/>[39m

      Name "Total Listings":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Active Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Unique Visitors":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Page Views":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Total Searches":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Interactions":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Recent Activity":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      Name "Quick Actions":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      --------------------------------------------------
      list:

      Name "":
      [36m<ul[39m
        [33mclass[39m=[32m"divide-y divide-gray-100"[39m
      [36m/>[39m

      --------------------------------------------------
      listitem:

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      --------------------------------------------------
      link:

      Name "Add New Listing":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/listings/new"[39m
      [36m/>[39m

      Name "Add New Category":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/categories/new"[39m
      [36m/>[39m

      Name "Create New Site":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/sites/new"[39m
      [36m/>[39m

      Name "System Settings":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/settings"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 85 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 86 |[39m     
    [31m[1m>[22m[39m[90m 87 |[39m     [36mconst[39m mainContainer [33m=[39m screen[33m.[39mgetByRole([32m'main'[39m)[33m;[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 88 |[39m     expect(mainContainer)[33m.[39mtoHaveClass([32m'p-8'[39m)[33m;[39m
     [90m 89 |[39m   })[33m;[39m
     [90m 90 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/AdminDashboard.test.tsx:87:34)

  ‚óè AdminDashboard Component ‚Ä∫ applies correct spacing to stats list items

    TestingLibraryElementError: Unable to find an element with the text: Platform Stats. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 92 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 93 |[39m     
    [31m[1m>[22m[39m[90m 94 |[39m     [36mconst[39m statsContainer [33m=[39m screen[33m.[39mgetByText([32m'Platform Stats'[39m)[33m.[39mclosest([32m'div'[39m)[33m![39m[33m.[39mquerySelector([32m'.space-y-2'[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 95 |[39m     expect(statsContainer)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 96 |[39m   })[33m;[39m
     [90m 97 |[39m })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/AdminDashboard.test.tsx:94:35)

PASS tests/admin/categories/components/CategoryTableRow.accessibility.test.tsx
PASS tests/admin/categories/components/CategoryTableRow.actions.test.tsx
FAIL tests/admin/listings/ListingTable.test.tsx
  ‚óè Console

    console.error
      Warning: An update to ListingTable inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\listings\ListingTable.tsx:31:40)

    [0m [90m 118 |[39m       
     [90m 119 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 120 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 121 |[39m     } [36mcatch[39m (err) {
     [90m 122 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 123 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/listings/hooks/useListings.ts:120:7)

    console.error
      Warning: An update to ListingTable inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\listings\ListingTable.tsx:31:40)

    [0m [90m 79 |[39m       }))[33m;[39m
     [90m 80 |[39m       
    [31m[1m>[22m[39m[90m 81 |[39m       setListings(enrichedListings)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 82 |[39m     } [36mcatch[39m (err) {
     [90m 83 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
     [90m 84 |[39m       console[33m.[39merror([32m'Error fetching listings:'[39m[33m,[39m err)[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setListings (src/components/admin/listings/hooks/useListings.ts:81:7)

    console.error
      Warning: An update to ListingTable inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\listings\ListingTable.tsx:31:40)

    [0m [90m 84 |[39m       console[33m.[39merror([32m'Error fetching listings:'[39m[33m,[39m err)[33m;[39m
     [90m 85 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 86 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 87 |[39m     }
     [90m 88 |[39m   }[33m,[39m [siteSlug])[33m;[39m
     [90m 89 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/listings/hooks/useListings.ts:86:7)

    console.error
      Warning: An update to ListingTable inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\listings\ListingTable.tsx:31:40)

    [0m [90m 118 |[39m       
     [90m 119 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 120 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 121 |[39m     } [36mcatch[39m (err) {
     [90m 122 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 123 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/listings/hooks/useListings.ts:120:7)

    console.error
      Warning: An update to ListingTable inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\listings\ListingTable.tsx:31:40)

    [0m [90m 118 |[39m       
     [90m 119 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 120 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 121 |[39m     } [36mcatch[39m (err) {
     [90m 122 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 123 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/listings/hooks/useListings.ts:120:7)

    console.error
      Warning: An update to ListingTable inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\listings\ListingTable.tsx:31:40)

    [0m [90m 118 |[39m       
     [90m 119 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 120 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 121 |[39m     } [36mcatch[39m (err) {
     [90m 122 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 123 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/listings/hooks/useListings.ts:120:7)

    console.error
      Warning: An update to ListingTable inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at siteSlug (C:\Users\T\directorymonster\src\components\admin\listings\ListingTable.tsx:31:40)

    [0m [90m 118 |[39m       
     [90m 119 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 120 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 121 |[39m     } [36mcatch[39m (err) {
     [90m 122 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 123 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/listings/hooks/useListings.ts:120:7)

    console.error
      Error fetching listings: API error

    [0m [90m 82 |[39m     } [36mcatch[39m (err) {
     [90m 83 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err[33m.[39mmessage [33m:[39m [32m'An unknown error occurred'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 84 |[39m       console[33m.[39merror([32m'Error fetching listings:'[39m[33m,[39m err)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 85 |[39m     } [36mfinally[39m {
     [90m 86 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m 87 |[39m     }[0m

      at error (src/components/admin/listings/hooks/useListings.ts:84:15)

  ‚óè ListingTable Component ‚Ä∫ renders the table with provided listings data

    TestingLibraryElementError: Found multiple elements with the text: Test Listing 1

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900 truncate max-w-xs"[39m
    [36m>[39m
      [0mTest Listing 1[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<h3[39m
      [33mclass[39m=[32m"font-medium text-gray-900"[39m
    [36m>[39m
      [0mTest Listing 1[0m
    [36m</h3>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mListings ([0m
                [0m2[0m
                [0m)[0m
              [36m</h2>[39m
              [36m<a[39m
                [33mhref[39m=[32m"/admin/listings/new"[39m
              [36m>[39m
                [0mAdd New Listing[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col sm:flex-row gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative flex-grow"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-search text-gray-400"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"18"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"18"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"11"[39m
                        [33mcy[39m=[32m"11"[39m
                        [33mr[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"m21 21-4.3-4.3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<input[39m
                    [33maria-label[39m=[32m"Search listings"[39m
                    [33mclass[39m=[32m"w-full pl-10 pr-10 py-2 border rounded focus:ring-blue-500 focus:border-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search listings..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"hidden md:block border rounded-lg overflow-hidden"[39m
          [36m>[39m
            [36m<table[39m
              [33maria-label[39m=[32m"Listings table"[39m
              [33mclass[39m=[32m"w-full divide-y divide-gray-200"[39m
            [36m>[39m
              [36m<thead[39m
                [33mclass[39m=[32m"bg-gray-50"[39m
              [36m>[39m
                [36m<tr>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Title "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mTitle[0m
                      [36m</span>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-arrow-up-down text-gray-400"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m21 16-4 4-4-4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M17 20V4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m3 8 4-4 4 4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M7 4v16"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</button>[39m
                  [36m</th>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Category "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mCategory[0m
                      [36m</span>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-arrow-up-down text-gray-400"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m21 16-4 4-4-4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M17 20V4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m3 8 4-4 4 4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M7 ...

    [0m [90m 87 |[39m     
     [90m 88 |[39m     expect(screen[33m.[39mgetByText([32m'Listings (2)'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
    [31m[1m>[22m[39m[90m 89 |[39m     expect(screen[33m.[39mgetByText([32m'Test Listing 1'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 90 |[39m     expect(screen[33m.[39mgetByText([32m'Test Listing 2'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 91 |[39m   })[33m;[39m
     [90m 92 |[39m   [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/admin/listings/ListingTable.test.tsx:89:19)

  ‚óè ListingTable Component ‚Ä∫ handles search filtering correctly

    TestingLibraryElementError: Found multiple elements with the text: Test Listing 1

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900 truncate max-w-xs"[39m
    [36m>[39m
      [0mTest Listing 1[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<h3[39m
      [33mclass[39m=[32m"font-medium text-gray-900"[39m
    [36m>[39m
      [0mTest Listing 1[0m
    [36m</h3>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mListings ([0m
                [0m1[0m
                [0m)[0m
              [36m</h2>[39m
              [36m<a[39m
                [33mhref[39m=[32m"/admin/listings/new"[39m
              [36m>[39m
                [0mAdd New Listing[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col sm:flex-row gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative flex-grow"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-search text-gray-400"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"18"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"18"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"11"[39m
                        [33mcy[39m=[32m"11"[39m
                        [33mr[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"m21 21-4.3-4.3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<input[39m
                    [33maria-label[39m=[32m"Search listings"[39m
                    [33mclass[39m=[32m"w-full pl-10 pr-10 py-2 border rounded focus:ring-blue-500 focus:border-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search listings..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"Listing 1"[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Clear search"[39m
                    [33mclass[39m=[32m"absolute inset-y-0 right-0 flex items-center pr-3"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-x text-gray-400 hover:text-gray-600"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"18"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"18"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M18 6 6 18"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"m6 6 12 12"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"hidden md:block border rounded-lg overflow-hidden"[39m
          [36m>[39m
            [36m<table[39m
              [33maria-label[39m=[32m"Listings table"[39m
              [33mclass[39m=[32m"w-full divide-y divide-gray-200"[39m
            [36m>[39m
              [36m<thead[39m
                [33mclass[39m=[32m"bg-gray-50"[39m
              [36m>[39m
                [36m<tr>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Title "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mTitle[0m
                      [36m</span>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-arrow-up-down text-gray-400"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m21 16-4 4-4-4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M17 20V4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m3 8 4-4 4 4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M7 4v16"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</button>[39m
                  [36m</th>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Category "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [...

    [0m [90m 101 |[39m     
     [90m 102 |[39m     [90m// Should show only the first listing[39m
    [31m[1m>[22m[39m[90m 103 |[39m     expect(screen[33m.[39mgetByText([32m'Test Listing 1'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 104 |[39m     expect(screen[33m.[39mqueryByText([32m'Test Listing 2'[39m))[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 105 |[39m     
     [90m 106 |[39m     [90m// Clear the search[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/admin/listings/ListingTable.test.tsx:103:19)

  ‚óè ListingTable Component ‚Ä∫ shows delete confirmation dialog when delete is clicked

    Unable to find an element with the text: Are you sure you want to delete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mListings ([0m
                [0m2[0m
                [0m)[0m
              [36m</h2>[39m
              [36m<a[39m
                [33mhref[39m=[32m"/admin/listings/new"[39m
              [36m>[39m
                [0mAdd New Listing[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col sm:flex-row gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative flex-grow"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-search text-gray-400"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"18"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"18"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"11"[39m
                        [33mcy[39m=[32m"11"[39m
                        [33mr[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"m21 21-4.3-4.3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<input[39m
                    [33maria-label[39m=[32m"Search listings"[39m
                    [33mclass[39m=[32m"w-full pl-10 pr-10 py-2 border rounded focus:ring-blue-500 focus:border-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search listings..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full sm:w-64"[39m
                [36m>[39m
                  [36m<select[39m
                    [33maria-label[39m=[32m"Filter by site"[39m
                    [33mclass[39m=[32m"w-full py-2 border rounded focus:ring-blue-500 focus:border-blue-500"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0mAll Sites[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"listing_1"[39m
                    [36m/>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"listing_2"[39m
                    [36m/>[39m
                  [36m</select>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"hidden md:block border rounded-lg overflow-hidden"[39m
          [36m>[39m
            [36m<table[39m
              [33maria-label[39m=[32m"Listings table"[39m
              [33mclass[39m=[32m"w-full divide-y divide-gray-200"[39m
            [36m>[39m
              [36m<thead[39m
                [33mclass[39m=[32m"bg-gray-50"[39m
              [36m>[39m
                [36m<tr>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Title "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mTitle[0m
                      [36m</span>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-arrow-up-down text-gray-400"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m21 16-4 4-4-4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M17 20V4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m3 8 4-4 4 4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M7 4v16"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</button>[39m
                  [36m</th>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Category "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mCategory[0m
                      [36m</span>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-arrow-up-down text-gray-400"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-line...

    [0m [90m 162 |[39m     
     [90m 163 |[39m     [90m// Wait for the dialog to appear[39m
    [31m[1m>[22m[39m[90m 164 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m     |[39m                  [31m[1m^[22m[39m
     [90m 165 |[39m       expect(screen[33m.[39mgetByText([32m'Are you sure you want to delete'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 166 |[39m     })[33m;[39m
     [90m 167 |[39m     [0m

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/admin/listings/ListingTable.test.tsx:164:18)

PASS tests/admin/categories/components/CategoryTableHeader.test.tsx
PASS tests/admin/dashboard/ActivityFeed.test.tsx
PASS tests/app/search/loading.test.tsx
PASS tests/admin/dashboard/StatisticCards.test.tsx
PASS tests/search/SearchIcon.test.tsx
PASS tests/admin/categories/components/CategoriesMobileView.test.tsx
PASS tests/admin/categories/components/CategoryTableSortHeader.test.tsx
PASS tests/admin/categories/components/CategoryTableSkeleton.test.tsx
PASS tests/admin/categories/components/CategoriesMobileView.interaction.test.tsx
PASS tests/app/search/page.test.tsx
PASS tests/admin/categories/components/CategoryTableEmptyState.test.tsx
PASS tests/LinkUtilities.test.tsx
PASS tests/site-utils.test.ts
  ‚óè Console

    console.log
      DEBUG: getSiteByHostname called with: "test-site.com", normalized to: "test-site.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Test Site

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "http://test-site.com:3000", normalized to: "test-site.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Test Site

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "test-site.mydirectory.com", normalized to: "test-site.mydirectory.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: null

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: Subdomain match result: [
        'test-site.mydirectory.com',
        'test-site',
        index: 0,
        input: 'test-site.mydirectory.com',
        groups: undefined
      ]

      at log (src/lib/site-utils.ts:39:11)

    console.log
      DEBUG: Looking up site by slug: "test-site"

      at log (src/lib/site-utils.ts:43:13)

    console.log
      DEBUG: Slug lookup result: Test Site

      at log (src/lib/site-utils.ts:45:13)

    console.log
      DEBUG: getSiteByHostname called with: "test-site", normalized to: "test-site"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: null

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: Subdomain match result: null

      at log (src/lib/site-utils.ts:39:11)

    console.log
      DEBUG: Trying direct slug lookup: "test-site"

      at log (src/lib/site-utils.ts:50:11)

    console.log
      DEBUG: Direct slug lookup result: Test Site

      at log (src/lib/site-utils.ts:52:11)

PASS tests/admin/layout/index.test.tsx
PASS tests/api/listings.test.ts
  ‚óè Console

    console.error
      Error fetching listings: Error: Redis error
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\api\listings.test.ts:172:48)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 39 |[39m     [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(listings)[33m;[39m
     [90m 40 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 41 |[39m     console[33m.[39merror([32m'Error fetching listings:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 42 |[39m     [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 43 |[39m       { error[33m:[39m [32m'Failed to fetch listings'[39m }[33m,[39m
     [90m 44 |[39m       { status[33m:[39m [35m500[39m }[0m

      at error (src/app/api/sites/[siteSlug]/listings/route.ts:41:13)
      at Object.<anonymous> (tests/api/listings.test.ts:178:24)

PASS tests/admin/dashboard/components/StatisticCard.test.tsx
PASS tests/api/categories/get.test.ts
PASS tests/redis-client.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

PASS tests/multitenant-integration.test.ts
  ‚óè Console

    console.log
      
      ----- Test: fishinggearreviews.com should resolve to fishing-gear -----

      at log (tests/multitenant-integration.test.ts:17:13)

    console.log
      Site from API: Fishing Gear Reviews (fishing-gear)

      at log (tests/multitenant-integration.test.ts:18:13)

    console.log
      Expected site slug: fishing-gear

      at log (tests/multitenant-integration.test.ts:19:13)

    console.log
      Test PASSED ‚úÖ

      at log (tests/multitenant-integration.test.ts:23:13)

    console.log
      
      ----- Test: fishinggearreviews.com should resolve to fishing-gear -----

      at log (tests/multitenant-integration.test.ts:17:13)

    console.log
      Site from API: Fishing Gear Reviews (fishing-gear)

      at log (tests/multitenant-integration.test.ts:18:13)

    console.log
      Expected site slug: fishing-gear

      at log (tests/multitenant-integration.test.ts:19:13)

    console.log
      Test PASSED ‚úÖ

      at log (tests/multitenant-integration.test.ts:23:13)

    console.log
      
      ----- Test: hikinggearreviews.com should resolve to hiking-gear -----

      at log (tests/multitenant-integration.test.ts:17:13)

    console.log
      Site from API: Hiking Gear Reviews (hiking-gear)

      at log (tests/multitenant-integration.test.ts:18:13)

    console.log
      Expected site slug: hiking-gear

      at log (tests/multitenant-integration.test.ts:19:13)

    console.log
      Test PASSED ‚úÖ

      at log (tests/multitenant-integration.test.ts:23:13)

    console.log
      
      ----- Test: fishing-gear.mydirectory.com should resolve to fishing-gear -----

      at log (tests/multitenant-integration.test.ts:17:13)

    console.log
      Site from API: Fishing Gear Reviews (fishing-gear)

      at log (tests/multitenant-integration.test.ts:18:13)

    console.log
      Expected site slug: fishing-gear

      at log (tests/multitenant-integration.test.ts:19:13)

    console.log
      Test PASSED ‚úÖ

      at log (tests/multitenant-integration.test.ts:23:13)

PASS tests/admin/layout/AdminLayout.test.tsx
PASS tests/admin/categories/useCategories.test.ts
  ‚óè Console

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  99 |[39m       
     [90m 100 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 101 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
     [90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 104 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/categories/hooks/useCategories.ts:101:7)

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

    [0m [90m 74 |[39m     [36mconst[39m { result } [33m=[39m renderHook(() [33m=>[39m useCategories(undefined[33m,[39m mockCategories))[33m;[39m
     [90m 75 |[39m     
    [31m[1m>[22m[39m[90m 76 |[39m     act(() [33m=>[39m {
     [90m    |[39m        [31m[1m^[22m[39m
     [90m 77 |[39m       result[33m.[39mcurrent[33m.[39msetSearchTerm([32m'Subcategory'[39m)[33m;[39m
     [90m 78 |[39m     })[33m;[39m
     [90m 79 |[39m     [0m

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at Object.<anonymous> (tests/admin/categories/useCategories.test.ts:76:8)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  99 |[39m       
     [90m 100 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 101 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
     [90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 104 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/categories/hooks/useCategories.ts:101:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  99 |[39m       
     [90m 100 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 101 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
     [90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 104 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/categories/hooks/useCategories.ts:101:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  99 |[39m       
     [90m 100 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 101 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
     [90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 104 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/categories/hooks/useCategories.ts:101:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  99 |[39m       
     [90m 100 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 101 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
     [90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 104 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/categories/hooks/useCategories.ts:101:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  99 |[39m       
     [90m 100 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 101 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
     [90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 104 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/categories/hooks/useCategories.ts:101:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  99 |[39m       
     [90m 100 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m
    [31m[1m>[22m[39m[90m 101 |[39m       setSites(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 102 |[39m     } [36mcatch[39m (err) {
     [90m 103 |[39m       console[33m.[39merror([32m'Error fetching sites:'[39m[33m,[39m err)[33m;[39m
     [90m 104 |[39m     }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setSites (src/components/admin/categories/hooks/useCategories.ts:101:7)

PASS tests/multitenancy-integration.test.ts
  ‚óè Console

    console.log
      DEBUG: getSiteByHostname called with: "fishinggearreviews.com:3000", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "http://fishinggearreviews.com", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "https://fishinggearreviews.com:3000", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "fishing-gear.mydirectory.com", normalized to: "fishing-gear.mydirectory.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: null

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: Subdomain match result: [
        'fishing-gear.mydirectory.com',
        'fishing-gear',
        index: 0,
        input: 'fishing-gear.mydirectory.com',
        groups: undefined
      ]

      at log (src/lib/site-utils.ts:39:11)

    console.log
      DEBUG: Looking up site by slug: "fishing-gear"

      at log (src/lib/site-utils.ts:43:13)

    console.log
      DEBUG: Slug lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:45:13)

    console.log
      DEBUG: getSiteByHostname called with: "fishinggearreviews.com", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "hiking-gear.mydirectory.com", normalized to: "hiking-gear.mydirectory.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: null

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: Subdomain match result: [
        'hiking-gear.mydirectory.com',
        'hiking-gear',
        index: 0,
        input: 'hiking-gear.mydirectory.com',
        groups: undefined
      ]

      at log (src/lib/site-utils.ts:39:11)

    console.log
      DEBUG: Looking up site by slug: "hiking-gear"

      at log (src/lib/site-utils.ts:43:13)

    console.log
      DEBUG: Slug lookup result: Hiking Gear Directory

      at log (src/lib/site-utils.ts:45:13)

    console.log
      DEBUG: getSiteByHostname called with: "fishinggearreviews.com:3000", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "hiking-gear.mydirectory.com", normalized to: "hiking-gear.mydirectory.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: null

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: Subdomain match result: [
        'hiking-gear.mydirectory.com',
        'hiking-gear',
        index: 0,
        input: 'hiking-gear.mydirectory.com',
        groups: undefined
      ]

      at log (src/lib/site-utils.ts:39:11)

    console.log
      DEBUG: Looking up site by slug: "hiking-gear"

      at log (src/lib/site-utils.ts:43:13)

    console.log
      DEBUG: Slug lookup result: Hiking Gear Directory

      at log (src/lib/site-utils.ts:45:13)

PASS tests/url-construction.test.ts
  ‚óè Console

    console.log
      Created global in-memory Redis store

      at Object.log (src/lib/redis-client.ts:15:11)

    console.log
      Setting up Redis client...

      at Object.log (src/lib/redis-client.ts:157:9)

    console.log
      Using in-memory Redis with 0 keys

      at new log (src/lib/redis-client.ts:24:13)

PASS tests/api/categories/post.test.ts
PASS tests/page-flow-integration.test.ts
  ‚óè Console

    console.log
      DEBUG: getSiteByHostname called with: "fishinggearreviews.com", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "fishinggearreviews.com", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "fishinggearreviews.com", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

PASS tests/api/search.test.ts
  ‚óè Console

    console.error
      Search error: Error: Search failed
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\api\search.test.ts:254:62)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 45 |[39m     })[33m;[39m
     [90m 46 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 47 |[39m     console[33m.[39merror([32m'Search error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 48 |[39m     [36mreturn[39m [33mNextResponse[39m[33m.[39mjson(
     [90m 49 |[39m       { error[33m:[39m [32m'Search failed'[39m }[33m,[39m
     [90m 50 |[39m       { status[33m:[39m [35m500[39m }[0m

      at error (src/app/api/search/route.ts:47:13)
      at Object.<anonymous> (tests/api/search.test.ts:260:22)

PASS tests/SideNav.test.tsx
PASS tests/redis-health.test.ts
PASS tests/Button.test.tsx
PASS tests/admin/navigation/SideNav.test.tsx
PASS tests/NavBar.test.tsx
PASS tests/page-rendering.test.ts
  ‚óè Console

    console.log
      DEBUG: getSiteByHostname called with: "fishinggearreviews.com", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "hikinggearreviews.com", normalized to: "hikinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Hiking Gear Directory

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "fishing-gear.mydirectory.com", normalized to: "fishing-gear.mydirectory.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: null

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: Subdomain match result: [
        'fishing-gear.mydirectory.com',
        'fishing-gear',
        index: 0,
        input: 'fishing-gear.mydirectory.com',
        groups: undefined
      ]

      at log (src/lib/site-utils.ts:39:11)

    console.log
      DEBUG: Looking up site by slug: "fishing-gear"

      at log (src/lib/site-utils.ts:43:13)

    console.log
      DEBUG: Slug lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:45:13)

    console.log
      DEBUG: getSiteByHostname called with: "http://fishinggearreviews.com:3000", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "fishinggearreviews.com", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "hikinggearreviews.com", normalized to: "hikinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Hiking Gear Directory

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "fishinggearreviews.com", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

    console.log
      DEBUG: getSiteByHostname called with: "fishinggearreviews.com", normalized to: "fishinggearreviews.com"

      at log (src/lib/site-utils.ts:29:11)

    console.log
      DEBUG: Direct domain lookup result: Fishing Gear Reviews

      at log (src/lib/site-utils.ts:33:11)

FAIL tests/integration/performance/concurrent-operations/simultaneous-writes.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

    [0m [90m 38 |[39m [90m */[39m
     [90m 39 |[39m [36mexport[39m [36masync[39m [36mfunction[39m clearTestData() {
    [31m[1m>[22m[39m[90m 40 |[39m   [90m// Find all test keys[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m   [36mconst[39m testKeys [33m=[39m [36mawait[39m kv[33m.[39mkeys([32m'test:*'[39m)[33m;[39m
     [90m 42 |[39m   
     [90m 43 |[39m   [90m// Delete all test keys[39m[0m

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)
      at Object.<anonymous> (tests/integration/setup.ts:40:17)
      at Object.<anonymous> (tests/integration/performance/concurrent-operations/simultaneous-writes.test.ts:10:16)

FAIL tests/integration/performance/concurrent-operations/transaction-isolation.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

    [0m [90m 38 |[39m [90m */[39m
     [90m 39 |[39m [36mexport[39m [36masync[39m [36mfunction[39m clearTestData() {
    [31m[1m>[22m[39m[90m 40 |[39m   [90m// Find all test keys[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m   [36mconst[39m testKeys [33m=[39m [36mawait[39m kv[33m.[39mkeys([32m'test:*'[39m)[33m;[39m
     [90m 42 |[39m   
     [90m 43 |[39m   [90m// Delete all test keys[39m[0m

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)
      at Object.<anonymous> (tests/integration/setup.ts:40:17)
      at Object.<anonymous> (tests/integration/performance/concurrent-operations/transaction-isolation.test.ts:10:16)

FAIL tests/admin/categories/components/CategoriesMobileView.navigation.test.tsx
  ‚óè Test suite failed to run


      [31mx[0m Unexpected eof
         ,-[[36;1;4mC:\Users\T\directorymonster\tests\admin\categories\components\CategoriesMobileView.navigation.test.tsx[0m:119:1]
     [2m119[0m |     
     [2m120[0m |     // Check URLs with a different site slug
     [2m121[0m |     expect(screen.getByTestId('view-link-category_1')).toHaveAttribute('href', '/admin/sites/another-site/categories/test-category-1');
     [2m122[0m |     expect(screen.getByTestId('edit-link-category_1')).toHaveAttribute('href',
         `----


    Caused by:
        Syntax Error

      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1433:25)
      at transformSync (node_modules/next/src/build/swc/index.ts:1550:19)
      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:104:25)
      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)
      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)
      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)

FAIL tests/integration/performance/concurrent-operations/race-conditions.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

    [0m [90m 38 |[39m [90m */[39m
     [90m 39 |[39m [36mexport[39m [36masync[39m [36mfunction[39m clearTestData() {
    [31m[1m>[22m[39m[90m 40 |[39m   [90m// Find all test keys[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m   [36mconst[39m testKeys [33m=[39m [36mawait[39m kv[33m.[39mkeys([32m'test:*'[39m)[33m;[39m
     [90m 42 |[39m   
     [90m 43 |[39m   [90m// Delete all test keys[39m[0m

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)
      at Object.<anonymous> (tests/integration/setup.ts:40:17)
      at Object.<anonymous> (tests/integration/performance/concurrent-operations/race-conditions.test.ts:10:16)

FAIL tests/admin/sites/SiteForm.validation.test.tsx
  ‚óè Test suite failed to run


      [31mx[0m Unexpected token `{`. Expected identifier or string
       ,-[[36;1;4mC:\Users\T\directorymonster\tests\admin\sites\SiteForm.validation.test.tsx[0m:1:1]
     [2m1[0m | import React from 'react';
     [2m2[0m | import { render, screen, waitFor } from '@testing-library/react';
     [2m3[0m | import userEvent from '@testing-library/user-event';
     [2m4[0m | import { {SiteForm} } from '@/components/{{#if category}}{admin/sites}/{{/if}}{SiteForm}';
       : [31;1m         ^[0m
     [2m5[0m | 
     [2m6[0m | describe('{SiteForm} Validation', () => {
     [2m7[0m |   it('validates required fields and shows error messages', async () => {
       `----


    Caused by:
        Syntax Error

      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1433:25)
      at transformSync (node_modules/next/src/build/swc/index.ts:1550:19)
      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:104:25)
      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)
      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)
      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)

FAIL tests/integration/performance/concurrent-operations/parallel-reads.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

    [0m [90m 38 |[39m [90m */[39m
     [90m 39 |[39m [36mexport[39m [36masync[39m [36mfunction[39m clearTestData() {
    [31m[1m>[22m[39m[90m 40 |[39m   [90m// Find all test keys[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m   [36mconst[39m testKeys [33m=[39m [36mawait[39m kv[33m.[39mkeys([32m'test:*'[39m)[33m;[39m
     [90m 42 |[39m   
     [90m 43 |[39m   [90m// Delete all test keys[39m[0m

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)
      at Object.<anonymous> (tests/integration/setup.ts:40:17)
      at Object.<anonymous> (tests/integration/performance/concurrent-operations/parallel-reads.test.ts:10:16)

FAIL tests/api/site/get.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../../../src/app/api/sites/[siteSlug]/route' from 'tests/api/site/get.test.ts'

    [0m [90m 23 |[39m   withRedis[33m:[39m (handler[33m:[39m [33mFunction[39m) [33m=>[39m handler[33m,[39m
     [90m 24 |[39m }))[33m;[39m
    [31m[1m>[22m[39m[90m 25 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 26 |[39m describe([32m'Site API - GET'[39m[33m,[39m () [33m=>[39m {
     [90m 27 |[39m   beforeEach(() [33m=>[39m {
     [90m 28 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m[0m

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (tests/api/site/get.test.ts:25:16)

FAIL tests/admin/sites/SiteForm.submission.test.tsx
  ‚óè Test suite failed to run


      [31mx[0m Unexpected token `{`. Expected identifier or string
       ,-[[36;1;4mC:\Users\T\directorymonster\tests\admin\sites\SiteForm.submission.test.tsx[0m:1:1]
     [2m1[0m | import React from 'react';
     [2m2[0m | import { render, screen, waitFor } from '@testing-library/react';
     [2m3[0m | import userEvent from '@testing-library/user-event';
     [2m4[0m | import { {SiteForm} } from '@/components/{{#if category}}{admin/sites}/{{/if}}{SiteForm}';
       : [31;1m         ^[0m
     [2m5[0m | import { useRouter } from 'next/navigation';
     [2m6[0m | 
     [2m7[0m | // Mock the useRouter hook
       `----


    Caused by:
        Syntax Error

      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1433:25)
      at transformSync (node_modules/next/src/build/swc/index.ts:1550:19)
      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:104:25)
      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)
      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)
      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)

FAIL tests/SiteForm.test.tsx
  ‚óè Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (node_modules/@jest/core/build/TestScheduler.js:133:18)
      at node_modules/@jest/core/build/TestScheduler.js:254:19
      at node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (node_modules/emittery/index.js:361:23)

FAIL tests/admin/auth/ZKPLogin.enhanced.test.tsx
  ‚óè Test suite failed to run


      [31mx[0m Unterminated string constant
        ,-[[36;1;4mC:\Users\T\directorymonster\tests\admin\auth\ZKPLogin.enhanced.test.tsx[0m:84:1]
     [2m84[0m | 
     [2m85[0m |   // RENDERING TESTS
     [2m86[0m |   describe('Rendering', () => {
     [2m87[0m |     it('renders the login form with
        : [31;1m       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^[0m
        `----

      [31mx[0m Unexpected eof
        ,-[[36;1;4mC:\Users\T\directorymonster\tests\admin\auth\ZKPLogin.enhanced.test.tsx[0m:84:1]
     [2m84[0m | 
     [2m85[0m |   // RENDERING TESTS
     [2m86[0m |   describe('Rendering', () => {
     [2m87[0m |     it('renders the login form with
        `----


    Caused by:
        Syntax Error

      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1433:25)
      at transformSync (node_modules/next/src/build/swc/index.ts:1550:19)
      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:104:25)
      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)
      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)
      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)

FAIL tests/integration/user-flows/data-retrieval.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../../../src/app/api/sites/[siteSlug]/route' from 'tests/integration/user-flows/data-retrieval.test.ts'

    [0m [90m  5 |[39m [36mimport[39m { [33mGET[39m [36mas[39m getCategories } [36mfrom[39m [32m'../../../src/app/api/sites/[siteSlug]/categories/route'[39m[33m;[39m
     [90m  6 |[39m [36mimport[39m { [33mGET[39m [36mas[39m getListings } [36mfrom[39m [32m'../../../src/app/api/sites/[siteSlug]/listings/route'[39m[33m;[39m
    [31m[1m>[22m[39m[90m  7 |[39m [36mimport[39m { setupTestEnvironment[33m,[39m clearTestData[33m,[39m createMockRequest } [36mfrom[39m [32m'../setup'[39m[33m;[39m
     [90m    |[39m                [31m[1m^[22m[39m
     [90m  8 |[39m [36mimport[39m { [33mSiteConfig[39m[33m,[39m [33mCategory[39m[33m,[39m [33mListing[39m } [36mfrom[39m [32m'../../../src/types'[39m[33m;[39m
     [90m  9 |[39m
     [90m 10 |[39m describe([32m'Data Retrieval User Flow'[39m[33m,[39m () [33m=>[39m {[0m

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (tests/integration/user-flows/data-retrieval.test.ts:7:16)

FAIL tests/integration/performance/concurrent-operations.test.ts
  ‚óè Test suite failed to run

    TypeError: Cannot destructure property 'sites' of 'global.__TEST_DATA__' as it is undefined.

    [0m [90m 44 |[39m describe([32m'Parallel Reads'[39m[33m,[39m () [33m=>[39m {
     [90m 45 |[39m   [90m// Access test data from global setup[39m
    [31m[1m>[22m[39m[90m 46 |[39m   [36mconst[39m { sites[33m,[39m categories[33m,[39m listings } [33m=[39m global[33m.[39m__TEST_DATA__[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 47 |[39m   
     [90m 48 |[39m   it([32m'should handle parallel listing requests efficiently'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 49 |[39m     [90m// Get the first test site[39m[0m

      at sites (tests/integration/performance/concurrent-operations/parallel-reads.test.ts:46:11)
      at Object.describe (tests/integration/performance/concurrent-operations/parallel-reads.test.ts:44:1)
      at Object.<anonymous> (tests/integration/performance/concurrent-operations.test.ts:13:1)

FAIL tests/components/index.test.tsx
  ‚óè Test suite failed to run

    Cannot find module '../admin/listings/components/ListingTableRow.test' from 'tests/components/index.test.tsx'

    [0m [90m 28 |[39m [90m// - Category Components[39m
     [90m 29 |[39m [36mimport[39m [32m'../admin/categories/CategoryTable.test'[39m[33m;[39m
    [31m[1m>[22m[39m[90m 30 |[39m [36mimport[39m [32m'../admin/categories/components/CategoryTableRow.test'[39m[33m;[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 31 |[39m [36mimport[39m [32m'../admin/categories/components/CategoryTableHeader.test'[39m[33m;[39m
     [90m 32 |[39m [36mimport[39m [32m'../admin/categories/components/CategoryTablePagination.test'[39m[33m;[39m
     [90m 33 |[39m [36mimport[39m [32m'../admin/categories/components/CategoryTableSkeleton.test'[39m[33m;[39m[0m

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (tests/components/index.test.tsx:30:1)

PASS tests/admin/categories/components/CategoriesMobileView.accessibility.test.tsx
PASS tests/admin/sites/DomainManager.test.tsx
FAIL tests/admin/sites/components/SEOSettings.api.test.tsx
  ‚óè SEOSettings API Interactions ‚Ä∫ handles network errors gracefully

    Unable to find an element with the text: Failed to save SEO settings. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-3xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"seoSettings-header"[39m
          [36m>[39m
            [0mSEO Settings[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 p-3 bg-red-100 text-red-700 rounded"[39m
            [33mdata-testid[39m=[32m"seoSettings-error"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [0mNetwork error[0m
          [36m</div>[39m
          [36m<form[39m
            [33mdata-testid[39m=[32m"seoSettings-form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mMeta Tags[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-seoTitle"[39m
                  [36m>[39m
                    [0mTitle Tag [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(60 chars max)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded border-gray-300"[39m
                    [33mdata-testid[39m=[32m"seoSettings-seoTitle"[39m
                    [33mid[39m=[32m"seoSettings-seoTitle"[39m
                    [33mname[39m=[32m"seoTitle"[39m
                    [33mplaceholder[39m=[32m"Site Name | Page Title"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-seoDescription"[39m
                  [36m>[39m
                    [0mMeta Description [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(160 chars max)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded border-gray-300"[39m
                    [33mdata-testid[39m=[32m"seoSettings-seoDescription"[39m
                    [33mid[39m=[32m"seoSettings-seoDescription"[39m
                    [33mname[39m=[32m"seoDescription"[39m
                    [33mrows[39m=[32m"3"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-seoKeywords"[39m
                  [36m>[39m
                    [0mMeta Keywords [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(comma separated)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-seoKeywords"[39m
                    [33mid[39m=[32m"seoSettings-seoKeywords"[39m
                    [33mname[39m=[32m"seoKeywords"[39m
                    [33mplaceholder[39m=[32m"keyword1, keyword2, keyword3"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mSocial Media[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-ogTitle"[39m
                  [36m>[39m
                    [0mOpen Graph Title[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-ogTitle"[39m
                    [33mid[39m=[32m"seoSettings-ogTitle"[39m
                    [33mname[39m=[32m"ogTitle"[39m
                    [33mplaceholder[39m=[32m"Title for social sharing"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-ogDescription"[39m
                  [36m>[39m
                    [0mOpen Graph Description[0m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-ogDescription"[39m
                    [33mid[39m=[32m"seoSettings-ogDescription"[39m
                    [33mname[39m=[32m"ogDescription"[39m
                    [33mrows[39m=[32m"3"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-ogImage"[39m
                  [36m>[39m
                    [0mOpen Graph Image URL[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-ogImage"[39m
                    [33mid[39m=[32m"seoSettings-ogImage"[39m
                    [33mname[39m=[32m"ogImage"[39m
                    [33mplaceholder[39m=[32m"https://example.com/image.jpg"[39m
                    [33mtype[39m=[32m"url"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-twitterCard"[39m
                  [36m>[39m
                    [0mTwitter Card Type[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-twitterCard"[39m
                    [33mid[39m=[32m"seoSettings-twitterCard"[39m
                    [33mname[39m=[32m"twitterCard"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"summary"[39m
                    [36m>[39m
                      [0mSummary Card[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"summary_large_image"[39m
                    [36m>[39m
                      [0mSummary with Large Image[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"app"[39m
                    [36m>[39m
                      [0mApp Card[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"player"[39m
                    [36m>[39m
                      [0mPlayer Card[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-twitterSite"[39m
                  [36m>[39m
                    [0mTwitter Site Handle[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded border-gray-300"[39m
                    [33mdata-testid[39m=[32m"seoSettings-twitterSite"[39m
                    [33mid[39m=[32m"seoSettings-twitterSite"[39m
                    [33mname[39m=[32m"twitterSite"[39m
                    [33mplaceholder[39m=[32m"@yoursite"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mTechnical SEO[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-enableCanonicalUrls"[39m
                    [33mid[39m=[32m"seoSettings-enableCanonicalUrls"[39m
                    [33mname[39m=[32m"enableCanonicalUrls"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"seoSettings-enableCanonicalUrls"[39m
                  [36m>[39m
                    [0mEnable canonical URLs[0m
                  [36m</label>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mNoindex Pages[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center mb-2"[39m
                  [36m>[39m
                    [36m<input[39m
                      [33mclass[39m=[32m"flex-grow p-2 border rounded border-gray-300"[39m
                      [33mdata-testid[39m=[32m"seoSettings-newNoindexPage"[39m
                      [33mid[39m=[32m"seoSettings-newNoindexPage"[39m
                      [33mname[39m=[32m"newNoindexPage"[39m
                      [33mplaceholder[39m=[32m"/path/to/exclude"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                      [33mdata-testid[39m=[32m"seoSettings-addNoindexPage"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mAdd[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-gray-500 italic"[39m
                  [36m>[39m
                    [0mNo pages excluded from indexing[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-structuredData"[39m
                  [36m>[39m
                    [0mStructured Data (JSON-LD)[0m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded font-mono text-sm border-gray-300"[39m
                    [33mdata-testid[39m=[32m"seoSettings-structuredData"[39m
                    [33mid[39m=[32m"seoSettings-structuredData"[39m
                    [33mname[39m=[32m"structuredData"[39m
                    [33mplaceholder[39m=[32m"{\"@context\": \"https://schema.org\", \"@type\": \"Organization\", ...}"[39m
                    [33mrows[39m=[32m"5"[39m
                  [36m/>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mEnter JSON-LD structured data to be added to the site's head.[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-robotsTxt"[39m
                  [36m>[39m
                    [0mCustom robots.txt Content[0m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded font-mono text-sm"[39m
                    [33mdata-testid[39m=[32m"seoSettings-robotsTxt"[39m
                    [33mid[39m=[32m"seoSettings-robotsTxt"[39m
                    [33mname[39m=[32m"robotsTxt"[39m
                    [33mplaceholder[39m=[32m"User-agent: * Disallow: /admin/ Allow: /"[39m
                    [33mrows[39m=[32m"5"[39m
                  [36m/>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mLeave blank to use default robots.txt.[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded"[39m
                [33mdata-testid[39m=[32m"seoSettings-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"seoSettings-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mSave Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 121 |[39m     
     [90m 122 |[39m     [90m// Error message should be displayed[39m
    [31m[1m>[22m[39m[90m 123 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m     |[39m                  [31m[1m^[22m[39m
     [90m 124 |[39m       expect(screen[33m.[39mgetByTestId([32m'seoSettings-error'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 125 |[39m       expect(screen[33m.[39mgetByText([32m'Failed to save SEO settings'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 126 |[39m     })[33m;[39m[0m

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/admin/sites/components/SEOSettings.api.test.tsx:123:18)

PASS tests/admin/categories/components/DeleteConfirmationModal.test.tsx
PASS tests/admin/categories/components/CategoriesMobileView.keyboard.test.tsx
PASS tests/admin/sites/components/SEOSettings.noindex.test.tsx
FAIL tests/admin/sites/components/SiteSettings.test.tsx
  ‚óè SiteSettings Component ‚Ä∫ validates form fields and shows error messages

    Expected repeat modifier or release modifier or "}" but found "u" in "{ unclosed brace"
        See https://testing-library.com/docs/user-event/keyboard
        for more information about how userEvent parses your input.

    [0m [90m 129 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'siteSettings-listingsPerPage'[39m)[33m,[39m [32m'0'[39m)[33m;[39m
     [90m 130 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'siteSettings-contactEmail'[39m)[33m,[39m [32m'invalid-email'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 131 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'siteSettings-customStyles'[39m)[33m,[39m [32m'{ unclosed brace'[39m)[33m;[39m
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m     
     [90m 133 |[39m     [90m// Submit the form[39m
     [90m 134 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'siteSettings-submit'[39m))[33m;[39m[0m

      at readTag (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:58:15)
      at Object.readNextDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:26:66)
      at Object.parseKeyDef (node_modules/@testing-library/user-event/dist/cjs/keyboard/parseKeyDef.js:18:118)
      at Object.keyboard (node_modules/@testing-library/user-event/dist/cjs/keyboard/index.js:8:33)
      at Object.type (node_modules/@testing-library/user-event/dist/cjs/utility/type.js:17:16)
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:22)
      at Object.<anonymous> (tests/admin/sites/components/SiteSettings.test.tsx:131:5)

  ‚óè SiteSettings Component ‚Ä∫ clears validation errors when field values are changed

    TestingLibraryElementError: Unable to find an element by: [data-testid="siteSettings-listingsPerPage-error"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-3xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"siteSettings-header"[39m
            [33mid[39m=[32m"siteSettings-header"[39m
          [36m>[39m
            [0mSite Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"siteSettings-header"[39m
            [33mdata-testid[39m=[32m"siteSettings-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
              [33mdata-testid[39m=[32m"siteSettings-visibility-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mSite Visibility[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"siteSettings-isPublic"[39m
                    [33mid[39m=[32m"siteSettings-isPublic"[39m
                    [33mname[39m=[32m"isPublic"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"siteSettings-isPublic"[39m
                  [36m>[39m
                    [0mSite is publicly visible[0m
                  [36m</label>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"siteSettings-maintenanceMode"[39m
                    [33mid[39m=[32m"siteSettings-maintenanceMode"[39m
                    [33mname[39m=[32m"maintenanceMode"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"siteSettings-maintenanceMode"[39m
                  [36m>[39m
                    [0mEnable maintenance mode[0m
                  [36m</label>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-600"[39m
                [36m>[39m
                  [0mMaintenance mode shows a maintenance page to visitors while allowing administrators to access the site.[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
              [33mdata-testid[39m=[32m"siteSettings-appearance-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mAppearance[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteSettings-theme"[39m
                  [36m>[39m
                    [0mTheme[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:border-blue-500"[39m
                    [33mdata-testid[39m=[32m"siteSettings-theme"[39m
                    [33mid[39m=[32m"siteSettings-theme"[39m
                    [33mname[39m=[32m"theme"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"default"[39m
                    [36m>[39m
                      [0mDefault[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"light"[39m
                    [36m>[39m
                      [0mLight[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"dark"[39m
                    [36m>[39m
                      [0mDark[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"blue"[39m
                    [36m>[39m
                      [0mBlue[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"green"[39m
                    [36m>[39m
                      [0mGreen[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteSettings-customStyles"[39m
                  [36m>[39m
                    [0mCustom CSS[0m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 font-mono text-sm border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteSettings-customStyles"[39m
                    [33mid[39m=[32m"siteSettings-customStyles"[39m
                    [33mname[39m=[32m"customStyles"[39m
                    [33mplaceholder[39m=[32m".my-class { color: blue; }"[39m
                    [33mrows[39m=[32m"8"[39m
                  [36m/>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mCustom CSS will be applied to the entire site.[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
              [33mdata-testid[39m=[32m"siteSettings-content-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mContent Display[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteSettings-listingsPerPage"[39m
                  [36m>[39m
                    [0mListings per page[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full sm:w-40 p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteSettings-listingsPerPage"[39m
                    [33mid[39m=[32m"siteSettings-listingsPerPage"[39m
                    [33mmax[39m=[32m"100"[39m
                    [33mmin[39m=[32m"1"[39m
                    [33mname[39m=[32m"listingsPerPage"[39m
                    [33mtype[39m=[32m"number"[39m
                    [33mvalue[39m=[32m"0"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"siteSettings-enableCategories"[39m
                    [33mid[39m=[32m"siteSettings-enableCategories"[39m
                    [33mname[39m=[32m"enableCategories"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"siteSettings-enableCategories"[39m
                  [36m>[39m
                    [0mEnable categories[0m
                  [36m</label>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"siteSettings-enableSearch"[39m
                    [33mid[39m=[32m"siteSettings-enableSearch"[39m
                    [33mname[39m=[32m"enableSearch"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"siteSettings-enableSearch"[39m
                  [36m>[39m
                    [0mEnable search functionality[0m
                  [36m</label>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
              [33mdata-testid[39m=[32m"siteSettings-access-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mUser Access[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"siteSettings-enableUserRegistration"[39m
                    [33mid[39m=[32m"siteSettings-enableUserRegistration"[39m
                    [33mname[39m=[32m"enableUserRegistration"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"siteSettings-enableUserRegistration"[39m
                  [36m>[39m
                    [0mAllow user registration[0m
                  [36m</label>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-600"[39m
                [36m>[39m
                  [0mWhen enabled, visitors can create accounts and log in to your site.[0m
                [36m</p>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteSettings-contactEmail"[39m
                  [36m>[39m
                    [0mContact Email[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteSettings-contactEmail"[39m
                    [33mid[39m=[32m"siteSettings-contactEmail"[39m
                    [33mname[39m=[32m"contactEmail"[39m
                    [33mplaceholder[39m=[32m"admin@example.com"[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m"invalid-email"[39m
                  [36m/>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mThis email will be displayed on the contact page and used for system notifications.[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"siteSettings-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"siteSettings-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mSave Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 223 |[39m     
     [90m 224 |[39m     [90m// Validation errors should be displayed[39m
    [31m[1m>[22m[39m[90m 225 |[39m     expect(screen[33m.[39mgetByTestId([32m'siteSettings-listingsPerPage-error'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 226 |[39m     expect(screen[33m.[39mgetByTestId([32m'siteSettings-contactEmail-error'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 227 |[39m     
     [90m 228 |[39m     [90m// Fix the values[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/sites/components/SiteSettings.test.tsx:225:19)

  ‚óè SiteSettings Component ‚Ä∫ validates custom CSS with balanced braces

    Expected repeat modifier or release modifier or "}" but found "c" in "{ color: blue; } .footer { background: gray; }"
        See https://testing-library.com/docs/user-event/keyboard
        for more information about how userEvent parses your input.

    [0m [90m 250 |[39m     
     [90m 251 |[39m     [90m// Set valid CSS[39m
    [31m[1m>[22m[39m[90m 252 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'siteSettings-customStyles'[39m)[33m,[39m [32m'.header { color: blue; } .footer { background: gray; }'[39m)[33m;[39m
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 253 |[39m     
     [90m 254 |[39m     [90m// Submit the form[39m
     [90m 255 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'siteSettings-submit'[39m))[33m;[39m[0m

      at readTag (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:58:15)
      at Object.readNextDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:26:66)
      at Object.parseKeyDef (node_modules/@testing-library/user-event/dist/cjs/keyboard/parseKeyDef.js:18:118)
      at Object.keyboard (node_modules/@testing-library/user-event/dist/cjs/keyboard/index.js:8:33)
      at Object.type (node_modules/@testing-library/user-event/dist/cjs/utility/type.js:17:16)
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:22)
      at Object.<anonymous> (tests/admin/sites/components/SiteSettings.test.tsx:252:5)

FAIL tests/admin/auth/PasswordReset.test.tsx (5.489 s)
  ‚óè Console

    console.log
      Generating proof with inputs: {"usernameHash":"75736572406578616d706c652e636f6d","credentialsHash":"3998abc9eb2cc41d44c379fc0eb1b209ec41e80c006b92513407f8abea47e87b","salt":"reset-salt"}

      at SnarkAdapter.log [as mockFullProve] (src/lib/zkp/snark-adapter.ts:164:13)

    console.log
      Using wasm file: /circuits/auth.wasm

      at SnarkAdapter.log [as mockFullProve] (src/lib/zkp/snark-adapter.ts:165:13)

    console.log
      Using zkey file: /circuits/auth_final.zkey

      at SnarkAdapter.log [as mockFullProve] (src/lib/zkp/snark-adapter.ts:166:13)

    console.log
      Generating proof with inputs: {"usernameHash":"75736572406578616d706c652e636f6d","credentialsHash":"3998abc9eb2cc41d44c379fc0eb1b209ec41e80c006b92513407f8abea47e87b","salt":"reset-salt"}

      at SnarkAdapter.log [as mockFullProve] (src/lib/zkp/snark-adapter.ts:164:13)

    console.log
      Using wasm file: /circuits/auth.wasm

      at SnarkAdapter.log [as mockFullProve] (src/lib/zkp/snark-adapter.ts:165:13)

    console.log
      Using zkey file: /circuits/auth_final.zkey

      at SnarkAdapter.log [as mockFullProve] (src/lib/zkp/snark-adapter.ts:166:13)

  ‚óè Password Reset Form ‚Ä∫ validates email input

    TestingLibraryElementError: Unable to find an element with the text: /invalid email format/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-md mx-auto p-6 bg-white rounded-lg shadow-md"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6 text-center text-gray-800"[39m
          [36m>[39m
            [0mForgot Password[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"mb-6 text-gray-600 text-center"[39m
          [36m>[39m
            [0mEnter your email address and we'll send you a link to reset your password.[0m
          [36m</p>[39m
          [36m<form[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                [33mfor[39m=[32m"email"[39m
              [36m>[39m
                [0mEmail[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"mt-1 block w-full px-3 py-2 border border-red-500 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"[39m
                [33mid[39m=[32m"email"[39m
                [33mtype[39m=[32m"email"[39m
                [33mvalue[39m=[32m"invalid-email"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
              [36m>[39m
                [0mEmail is required[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mReset Password[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-sm text-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"font-medium text-indigo-600 hover:text-indigo-500"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mBack to Login[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 44 |[39m     
     [90m 45 |[39m     [90m// Check for validation error[39m
    [31m[1m>[22m[39m[90m 46 |[39m     expect(screen[33m.[39mgetByText([35m/invalid email format/i[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 47 |[39m   })[33m;[39m
     [90m 48 |[39m   
     [90m 49 |[39m   it([32m'submits request and shows confirmation'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/admin/auth/PasswordReset.test.tsx:46:19)

FAIL tests/admin/dashboard/hooks/useSiteMetrics.test.ts (6.413 s)
  ‚óè Console

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m  96 |[39m       
     [90m  97 |[39m       [36mconst[39m data [33m=[39m getMockSiteMetricsData(siteSlug)[33m;[39m
    [31m[1m>[22m[39m[90m  98 |[39m       setMetrics(data)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m  99 |[39m     } [36mcatch[39m (err) {
     [90m 100 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err [33m:[39m [36mnew[39m [33mError[39m([32m'Failed to fetch site metrics'[39m))[33m;[39m
     [90m 101 |[39m     } [36mfinally[39m {[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMetrics (src/components/admin/dashboard/hooks/useSiteMetrics.ts:98:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 100 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err [33m:[39m [36mnew[39m [33mError[39m([32m'Failed to fetch site metrics'[39m))[33m;[39m
     [90m 101 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 102 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 103 |[39m     }
     [90m 104 |[39m   }[33m;[39m
     [90m 105 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/dashboard/hooks/useSiteMetrics.ts:102:7)

  ‚óè useSiteMetrics Hook ‚Ä∫ returns metrics data after loading

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 32 |[39m     rerender()[33m;[39m
     [90m 33 |[39m     
    [31m[1m>[22m[39m[90m 34 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m    |[39m                                      [31m[1m^[22m[39m
     [90m 35 |[39m     expect(result[33m.[39mcurrent[33m.[39mmetrics)[33m.[39mnot[33m.[39mtoBeNull()[33m;[39m
     [90m 36 |[39m     expect(result[33m.[39mcurrent[33m.[39mmetrics[33m?[39m[33m.[39msiteId)[33m.[39mtoBe([32m'test-site'[39m)[33m;[39m
     [90m 37 |[39m     expect(result[33m.[39mcurrent[33m.[39merror)[33m.[39mtoBeNull()[33m;[39m[0m

      at Object.toBe (tests/admin/dashboard/hooks/useSiteMetrics.test.ts:34:38)

  ‚óè useSiteMetrics Hook ‚Ä∫ refetches data when refetch is called

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 47 |[39m   })[33m;[39m
     [90m 48 |[39m
    [31m[1m>[22m[39m[90m 49 |[39m   it([32m'refetches data when refetch is called'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m   [31m[1m^[22m[39m
     [90m 50 |[39m     [36mconst[39m { result } [33m=[39m renderHook(() [33m=>[39m useSiteMetrics({ siteSlug[33m:[39m [32m'test-site'[39m }))[33m;[39m
     [90m 51 |[39m     
     [90m 52 |[39m     [90m// Initial data load[39m[0m

      at it (tests/admin/dashboard/hooks/useSiteMetrics.test.ts:49:3)
      at Object.describe (tests/admin/dashboard/hooks/useSiteMetrics.test.ts:7:1)

  ‚óè useSiteMetrics Hook ‚Ä∫ updates when period changes

    TypeError: Cannot read properties of null (reading 'isLoading')

    [0m [90m 80 |[39m     
     [90m 81 |[39m     [90m// Should go back to loading state[39m
    [31m[1m>[22m[39m[90m 82 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 83 |[39m     
     [90m 84 |[39m     [90m// Complete the loading[39m
     [90m 85 |[39m     act(() [33m=>[39m {[0m

      at Object.isLoading (tests/admin/dashboard/hooks/useSiteMetrics.test.ts:82:27)

FAIL tests/admin/layout/WithAuth.test.tsx (6.444 s)
  ‚óè WithAuth Component ‚Ä∫ initially renders a loading spinner

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    [0m [90m 25 |[39m     [90m// Check for loading spinner (the div with the animate-spin class)[39m
     [90m 26 |[39m     [36mconst[39m spinner [33m=[39m document[33m.[39mquerySelector([32m'.animate-spin'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 27 |[39m     expect(spinner)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 28 |[39m     
     [90m 29 |[39m     [90m// Protected content should not be visible yet[39m
     [90m 30 |[39m     expect(screen[33m.[39mqueryByTestId([32m'protected-content'[39m))[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:326:15)
      at Object.toBeInTheDocument (tests/admin/layout/WithAuth.test.tsx:27:21)

  ‚óè WithAuth Component ‚Ä∫ redirects to login when not authenticated

    ReferenceError: Cannot access 'overallTimeoutTimer' before initialization

    [0m [90m 54 |[39m     jest[33m.[39mspyOn(console[33m,[39m [32m'error'[39m)[33m.[39mmockImplementation(() [33m=>[39m {})[33m;[39m
     [90m 55 |[39m     jest[33m.[39mspyOn(global[33m,[39m [32m'setTimeout'[39m)[33m.[39mmockImplementation((callback[33m:[39m any) [33m=>[39m {
    [31m[1m>[22m[39m[90m 56 |[39m       callback()[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 57 |[39m       [36mreturn[39m [35m0[39m [36mas[39m any[33m;[39m
     [90m 58 |[39m     })[33m;[39m
     [90m 59 |[39m     [0m

      at onDone (node_modules/@testing-library/dom/dist/wait-for.js:101:20)
      at handleTimeout (node_modules/@testing-library/dom/dist/wait-for.js:156:7)
      at callback (tests/admin/layout/WithAuth.test.tsx:56:7)
      at node_modules/@testing-library/dom/dist/wait-for.js:40:33
      at waitFor (node_modules/@testing-library/dom/dist/wait-for.js:36:10)
      at node_modules/@testing-library/dom/dist/wait-for.js:164:54
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:28)
      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:164:35)
      at Object.<anonymous> (tests/admin/layout/WithAuth.test.tsx:79:18)

  ‚óè WithAuth Component ‚Ä∫ redirects to login when not authenticated

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 50 |[39m   })[33m;[39m
     [90m 51 |[39m   
    [31m[1m>[22m[39m[90m 52 |[39m   it([32m'redirects to login when not authenticated'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m   [31m[1m^[22m[39m
     [90m 53 |[39m     [90m// Mock the authentication check to fail[39m
     [90m 54 |[39m     jest[33m.[39mspyOn(console[33m,[39m [32m'error'[39m)[33m.[39mmockImplementation(() [33m=>[39m {})[33m;[39m
     [90m 55 |[39m     jest[33m.[39mspyOn(global[33m,[39m [32m'setTimeout'[39m)[33m.[39mmockImplementation((callback[33m:[39m any) [33m=>[39m {[0m

      at it (tests/admin/layout/WithAuth.test.tsx:52:3)
      at Object.describe (tests/admin/layout/WithAuth.test.tsx:13:1)

FAIL tests/admin/dashboard/hooks/useActivityFeed.test.ts (6.427 s)
  ‚óè Console

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 131 |[39m       [90m// Update state[39m
     [90m 132 |[39m       [36mif[39m (reset) {
    [31m[1m>[22m[39m[90m 133 |[39m         setActivities(filteredData)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 134 |[39m       } [36melse[39m {
     [90m 135 |[39m         setActivities(prev [33m=>[39m [[33m...[39mprev[33m,[39m [33m...[39mfilteredData])[33m;[39m
     [90m 136 |[39m       }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setActivities (src/components/admin/dashboard/hooks/useActivityFeed.ts:133:9)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 135 |[39m         setActivities(prev [33m=>[39m [[33m...[39mprev[33m,[39m [33m...[39mfilteredData])[33m;[39m
     [90m 136 |[39m       }
    [31m[1m>[22m[39m[90m 137 |[39m       setHasMore(filteredData[33m.[39mlength [33m>=[39m limit)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 138 |[39m     } [36mcatch[39m (err) {
     [90m 139 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err [33m:[39m [36mnew[39m [33mError[39m([32m'Failed to fetch activities'[39m))[33m;[39m
     [90m 140 |[39m     } [36mfinally[39m {[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setHasMore (src/components/admin/dashboard/hooks/useActivityFeed.ts:137:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 139 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err [33m:[39m [36mnew[39m [33mError[39m([32m'Failed to fetch activities'[39m))[33m;[39m
     [90m 140 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 141 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 142 |[39m     }
     [90m 143 |[39m   }[33m;[39m
     [90m 144 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/dashboard/hooks/useActivityFeed.ts:141:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 131 |[39m       [90m// Update state[39m
     [90m 132 |[39m       [36mif[39m (reset) {
    [31m[1m>[22m[39m[90m 133 |[39m         setActivities(filteredData)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 134 |[39m       } [36melse[39m {
     [90m 135 |[39m         setActivities(prev [33m=>[39m [[33m...[39mprev[33m,[39m [33m...[39mfilteredData])[33m;[39m
     [90m 136 |[39m       }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setActivities (src/components/admin/dashboard/hooks/useActivityFeed.ts:133:9)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 135 |[39m         setActivities(prev [33m=>[39m [[33m...[39mprev[33m,[39m [33m...[39mfilteredData])[33m;[39m
     [90m 136 |[39m       }
    [31m[1m>[22m[39m[90m 137 |[39m       setHasMore(filteredData[33m.[39mlength [33m>=[39m limit)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 138 |[39m     } [36mcatch[39m (err) {
     [90m 139 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err [33m:[39m [36mnew[39m [33mError[39m([32m'Failed to fetch activities'[39m))[33m;[39m
     [90m 140 |[39m     } [36mfinally[39m {[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setHasMore (src/components/admin/dashboard/hooks/useActivityFeed.ts:137:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 139 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err [33m:[39m [36mnew[39m [33mError[39m([32m'Failed to fetch activities'[39m))[33m;[39m
     [90m 140 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 141 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 142 |[39m     }
     [90m 143 |[39m   }[33m;[39m
     [90m 144 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/dashboard/hooks/useActivityFeed.ts:141:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 131 |[39m       [90m// Update state[39m
     [90m 132 |[39m       [36mif[39m (reset) {
    [31m[1m>[22m[39m[90m 133 |[39m         setActivities(filteredData)[33m;[39m
     [90m     |[39m         [31m[1m^[22m[39m
     [90m 134 |[39m       } [36melse[39m {
     [90m 135 |[39m         setActivities(prev [33m=>[39m [[33m...[39mprev[33m,[39m [33m...[39mfilteredData])[33m;[39m
     [90m 136 |[39m       }[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setActivities (src/components/admin/dashboard/hooks/useActivityFeed.ts:133:9)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 135 |[39m         setActivities(prev [33m=>[39m [[33m...[39mprev[33m,[39m [33m...[39mfilteredData])[33m;[39m
     [90m 136 |[39m       }
    [31m[1m>[22m[39m[90m 137 |[39m       setHasMore(filteredData[33m.[39mlength [33m>=[39m limit)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 138 |[39m     } [36mcatch[39m (err) {
     [90m 139 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err [33m:[39m [36mnew[39m [33mError[39m([32m'Failed to fetch activities'[39m))[33m;[39m
     [90m 140 |[39m     } [36mfinally[39m {[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setHasMore (src/components/admin/dashboard/hooks/useActivityFeed.ts:137:7)

    console.error
      Warning: An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TestComponent (C:\Users\T\directorymonster\node_modules\@testing-library\react\dist\pure.js:323:5)

    [0m [90m 139 |[39m       setError(err [36minstanceof[39m [33mError[39m [33m?[39m err [33m:[39m [36mnew[39m [33mError[39m([32m'Failed to fetch activities'[39m))[33m;[39m
     [90m 140 |[39m     } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 141 |[39m       setIsLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m       [31m[1m^[22m[39m
     [90m 142 |[39m     }
     [90m 143 |[39m   }[33m;[39m
     [90m 144 |[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsLoading (src/components/admin/dashboard/hooks/useActivityFeed.ts:141:7)

  ‚óè useActivityFeed Hook ‚Ä∫ returns activities after loading

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 32 |[39m     rerender()[33m;[39m
     [90m 33 |[39m     
    [31m[1m>[22m[39m[90m 34 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m    |[39m                                      [31m[1m^[22m[39m
     [90m 35 |[39m     expect(result[33m.[39mcurrent[33m.[39mactivities[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 36 |[39m     expect(result[33m.[39mcurrent[33m.[39merror)[33m.[39mtoBeNull()[33m;[39m
     [90m 37 |[39m   })[33m;[39m[0m

      at Object.toBe (tests/admin/dashboard/hooks/useActivityFeed.test.ts:34:38)

  ‚óè useActivityFeed Hook ‚Ä∫ returns empty array when no activities match filters

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 80 |[39m     rerender()[33m;[39m
     [90m 81 |[39m     
    [31m[1m>[22m[39m[90m 82 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m    |[39m                                      [31m[1m^[22m[39m
     [90m 83 |[39m     expect(result[33m.[39mcurrent[33m.[39mactivities)[33m.[39mtoEqual([])[33m;[39m
     [90m 84 |[39m   })[33m;[39m
     [90m 85 |[39m[0m

      at Object.toBe (tests/admin/dashboard/hooks/useActivityFeed.test.ts:82:38)

  ‚óè useActivityFeed Hook ‚Ä∫ refreshes data when refresh is called

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 105 |[39m   })[33m;[39m
     [90m 106 |[39m
    [31m[1m>[22m[39m[90m 107 |[39m   it([32m'refreshes data when refresh is called'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m   [31m[1m^[22m[39m
     [90m 108 |[39m     [36mconst[39m { result } [33m=[39m renderHook(() [33m=>[39m useActivityFeed({ siteSlug[33m:[39m [32m'test-site'[39m }))[33m;[39m
     [90m 109 |[39m     
     [90m 110 |[39m     [90m// Initial data load[39m[0m

      at it (tests/admin/dashboard/hooks/useActivityFeed.test.ts:107:3)
      at Object.describe (tests/admin/dashboard/hooks/useActivityFeed.test.ts:7:1)

  ‚óè useActivityFeed Hook ‚Ä∫ sorts activities by timestamp (newest first)

    TypeError: Cannot read properties of null (reading 'activities')

    [0m [90m 135 |[39m     
     [90m 136 |[39m     [90m// Check that activities are sorted by timestamp (newest first)[39m
    [31m[1m>[22m[39m[90m 137 |[39m     [36mconst[39m timestamps [33m=[39m result[33m.[39mcurrent[33m.[39mactivities[33m.[39mmap(activity [33m=>[39m 
     [90m     |[39m                                       [31m[1m^[22m[39m
     [90m 138 |[39m       [36mnew[39m [33mDate[39m(activity[33m.[39mtimestamp)[33m.[39mgetTime()
     [90m 139 |[39m     )[33m;[39m
     [90m 140 |[39m     [0m

      at Object.activities (tests/admin/dashboard/hooks/useActivityFeed.test.ts:137:39)

FAIL tests/admin/sites/components/SEOSettings.validation.test.tsx (6.713 s)
  ‚óè SEOSettings Validation ‚Ä∫ validates structured data JSON format

    Expected repeat modifier or release modifier or "}" but found " " in "{invalid json}"
        See https://testing-library.com/docs/user-event/keyboard
        for more information about how userEvent parses your input.

    [0m [90m 77 |[39m     
     [90m 78 |[39m     [90m// Add invalid JSON[39m
    [31m[1m>[22m[39m[90m 79 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'seoSettings-structuredData'[39m)[33m,[39m [32m'{invalid json}'[39m)[33m;[39m
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 80 |[39m     
     [90m 81 |[39m     [90m// Submit the form[39m
     [90m 82 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'seoSettings-submit'[39m))[33m;[39m[0m

      at readTag (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:58:15)
      at Object.readNextDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:26:66)
      at Object.parseKeyDef (node_modules/@testing-library/user-event/dist/cjs/keyboard/parseKeyDef.js:18:118)
      at Object.keyboard (node_modules/@testing-library/user-event/dist/cjs/keyboard/index.js:8:33)
      at Object.type (node_modules/@testing-library/user-event/dist/cjs/utility/type.js:17:16)
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:22)
      at Object.<anonymous> (tests/admin/sites/components/SEOSettings.validation.test.tsx:79:5)

FAIL tests/admin/sites/DomainManager.domains.test.tsx (7.629 s)
  ‚óè DomainManager - Domain Management ‚Ä∫ allows removing a domain

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 2
    Received array:  [<span data-testid="domainManager-domain-0">another.com</span>, <input aria-invalid="false" class="flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300" data-testid="domainManager-domain-input" id="domainManager-domain-input" name="domainInput" placeholder="Enter domain (e.g., example.com)" type="text" value="" />]

    [0m [90m 187 |[39m     
     [90m 188 |[39m     [90m// Only one domain should remain[39m
    [31m[1m>[22m[39m[90m 189 |[39m     expect(screen[33m.[39mgetAllByTestId([35m/domainManager-domain-/[39m))[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m     |[39m                                                            [31m[1m^[22m[39m
     [90m 190 |[39m   })[33m;[39m
     [90m 191 |[39m
     [90m 192 |[39m   it([32m'validates domains on form submission'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toHaveLength (tests/admin/sites/DomainManager.domains.test.tsx:189:60)

  ‚óè DomainManager - Domain Management ‚Ä∫ validates domains on form submission

    TestingLibraryElementError: Found multiple elements with the text: /At least one domain is required/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<p[39m
      [33mclass[39m=[32m"mt-1 text-sm text-red-500"[39m
      [33mdata-testid[39m=[32m"domainManager-domains-error"[39m
      [33mrole[39m=[32m"alert"[39m
    [36m>[39m
      [0mAt least one domain is required[0m
    [36m</p>[39m

    Ignored nodes: comments, script, style
    [36m<p[39m
      [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
      [33mdata-testid[39m=[32m"domainManager-format-help"[39m
    [36m>[39m
      [0m* At least one domain is required.[0m
    [36m</p>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mCreate[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-500 italic"[39m
                [36m>[39m
                  [0mNo domains added yet[0m
                [36m</p>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-sm text-red-500"[39m
                  [33mdata-testid[39m=[32m"domainManager-domains-error"[39m
                  [33mrole[39m=[32m"alert"[39m
                [36m>[39m
                  [0mAt least one domain is required[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mCreate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 199 |[39m     
     [90m 200 |[39m     [90m// Error message should be displayed[39m
    [31m[1m>[22m[39m[90m 201 |[39m     expect(screen[33m.[39mgetByText([35m/At least one domain is required/i[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 202 |[39m     
     [90m 203 |[39m     [90m// Now add a domain and try again[39m
     [90m 204 |[39m     [36mconst[39m domainInput [33m=[39m screen[33m.[39mgetByTestId([32m'domainManager-domain-input'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/admin/sites/DomainManager.domains.test.tsx:201:19)

  ‚óè DomainManager - Domain Management ‚Ä∫ includes domains in form submission

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-header"[39m
              [33mid[39m=[32m"domainManager-header"[39m
            [36m>[39m
              [0mEdit[0m
              [0m Domain Settings[0m
            [36m</h1>[39m
            [36m<form[39m
              [33maria-labelledby[39m=[32m"domainManager-header"[39m
              [33mdata-testid[39m=[32m"domainManager-form"[39m
              [33mrole[39m=[32m"form"[39m
            [36m>[39m
              [36m<fieldset[39m
                [33mclass[39m=[32m"mb-6"[39m
                [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
              [36m>[39m
                [36m<legend[39m
                  [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                  [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
                [36m>[39m
                  [0mDomain Management[0m
                [36m</legend>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mCurrent Domains[0m
                  [36m</h3>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"mb-4 border rounded divide-y"[39m
                  [36m>[39m
                    [36m<li[39m
                      [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mdata-testid[39m=[32m"domainManager-domain-0"[39m
                      [36m>[39m
                        [0mexample.com[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Remove domain example.com"[39m
                        [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                        [33mdata-testid[39m=[32m"domainManager-remove-domain-0"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"w-5 h-5"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"sr-only"[39m
                        [36m>[39m
                          [0mRemove[0m
                        [36m</span>[39m
                      [36m</button>[39m
                    [36m</li>[39m
                    [36m<li[39m
                      [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mdata-testid[39m=[32m"domainManager-domain-1"[39m
                      [36m>[39m
                        [0mnewdomain.com[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Remove domain newdomain.com"[39m
                        [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                        [33mdata-testid[39m=[32m"domainManager-remove-domain-1"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"w-5 h-5"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"sr-only"[39m
                        [36m>[39m
                          [0mRemove[0m
                        [36m</span>[39m
                      [36m</button>[39m
                    [36m</li>[39m
                  [36m</ul>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mAdd Domain[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center"[39m
                  [36m>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                      [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                      [33mid[39m=[32m"domainManager-domain-input"[39m
                      [33mname[39m=[32m"domainInput"[39m
                      [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                      [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                      [33mdisabled[39m=[32m""[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0m+ Add[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                  [36m>[39m
                    [0mEnter valid domain names without http:// or www prefixes[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                  [33mdata-testid[39m=[32m"domainManager-format-help"[39m
                [36m>[39m
                  [0m* At least one domain is required.[0m
                [36m</p>[39m
              [36m</fieldset>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                  [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                  [33mdata-testid[39m=[32m"domainManager-submit"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mUpdate Domain Settings[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

    [0m [90m 248 |[39m     [90m// Wait for form submission to complete[39m
     [90m 249 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
    [31m[1m>[22m[39m[90m 250 |[39m       expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 251 |[39m     })[33m;[39m
     [90m 252 |[39m     
     [90m 253 |[39m     [90m// Check that domains were included in submission[39m[0m

      at toHaveBeenCalledTimes (tests/admin/sites/DomainManager.domains.test.tsx:250:28)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè DomainManager - Domain Management ‚Ä∫ disables interaction elements during loading state

    expect(element).not.toBeDisabled()

    Received element is disabled:
      <button class="ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0" data-testid="domainManager-add-domain" disabled="" type="button" />

    [0m [90m 307 |[39m     [90m// Elements should be enabled again[39m
     [90m 308 |[39m     expect(screen[33m.[39mgetByTestId([32m'domainManager-domain-input'[39m))[33m.[39mnot[33m.[39mtoBeDisabled()[33m;[39m
    [31m[1m>[22m[39m[90m 309 |[39m     expect(screen[33m.[39mgetByTestId([32m'domainManager-add-domain'[39m))[33m.[39mnot[33m.[39mtoBeDisabled()[33m;[39m
     [90m     |[39m                                                                [31m[1m^[22m[39m
     [90m 310 |[39m     expect(screen[33m.[39mgetByTestId([32m'domainManager-remove-domain-0'[39m))[33m.[39mnot[33m.[39mtoBeDisabled()[33m;[39m
     [90m 311 |[39m     expect(screen[33m.[39mgetByTestId([32m'domainManager-cancel'[39m))[33m.[39mnot[33m.[39mtoBeDisabled()[33m;[39m
     [90m 312 |[39m   })[33m;[39m[0m

      at Object.toBeDisabled (tests/admin/sites/DomainManager.domains.test.tsx:309:64)

FAIL tests/admin/sites/SiteForm.test.tsx (9.905 s)
  ‚óè SiteForm Component ‚Ä∫ successfully submits the form in create mode

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/admin/sites/site-1"

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
              [33mdata-testid[39m=[32m"siteForm-header"[39m
              [33mid[39m=[32m"siteForm-header"[39m
            [36m>[39m
              [0mCreate[0m
              [0m Site[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mb-4 p-3 bg-green-100 text-green-700 rounded"[39m
              [33mdata-testid[39m=[32m"siteForm-success"[39m
              [33mrole[39m=[32m"alert"[39m
            [36m>[39m
              [0mSite created successfully[0m
            [36m</div>[39m
            [36m<form[39m
              [33maria-labelledby[39m=[32m"siteForm-header"[39m
              [33mdata-testid[39m=[32m"siteForm-form"[39m
              [33mrole[39m=[32m"form"[39m
            [36m>[39m
              [36m<fieldset[39m
                [33mclass[39m=[32m"mb-6"[39m
                [33mdata-testid[39m=[32m"siteForm-fieldset"[39m
              [36m>[39m
                [36m<legend[39m
                  [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                  [33mdata-testid[39m=[32m"siteForm-basic-info-heading"[39m
                [36m>[39m
                  [0mBasic Information[0m
                [36m</legend>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-name"[39m
                  [36m>[39m
                    [0mSite Name *[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-name"[39m
                    [33mid[39m=[32m"siteForm-name"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"New Test Site"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-slug"[39m
                  [36m>[39m
                    [0mSlug * [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(URL-friendly name)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-slug"[39m
                    [33mid[39m=[32m"siteForm-slug"[39m
                    [33mname[39m=[32m"slug"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"new-test-site"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-description"[39m
                  [36m>[39m
                    [0mDescription [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(Optional)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-description"[39m
                    [33mid[39m=[32m"siteForm-description"[39m
                    [33mname[39m=[32m"description"[39m
                    [33mrows[39m=[32m"3"[39m
                  [36m>[39m
                    [0mThis is a test site description[0m
                  [36m</textarea>[39m
                [36m</div>[39m
              [36m</fieldset>[39m
              [36m<fieldset[39m
                [33mclass[39m=[32m"mb-6"[39m
                [33mdata-testid[39m=[32m"siteForm-domains-fieldset"[39m
              [36m>[39m
                [36m<legend[39m
                  [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                  [33mdata-testid[39m=[32m"siteForm-domains-heading"[39m
                [36m>[39m
                  [0mDomains[0m
                [36m</legend>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mCurrent Domains[0m
                  [36m</h3>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"mb-4 border rounded divide-y"[39m
                  [36m>[39m
                    [36m<li[39m
                      [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mdata-testid[39m=[32m"siteForm-domain-0"[39m
                      [36m>[39m
                        [0mtestsite.com[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Remove domain testsite.com"[39m
                        [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                        [33mdata-testid[39m=[32m"siteForm-remove-domain-0"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"w-5 h-5"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"sr-only"[39m
                        [36m>[39m
                          [0mRemove[0m
                        [36m</span>[39m
                      [36m</button>[39m
                    [36m</li>[39m
                  [36m</ul>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mAdd Domain[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center"[39m
                  [36m>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                      [33mdata-testid[39m=[32m"siteForm-new-domain"[39m
                      [33mid[39m=[32m"siteForm-new-domain"[39m
                      [33mname[39m=[32m"newDomain"[39m
                      [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                      [33mdata-testid[39m=[32m"siteForm-add-domain"[39m
                      [33mdisabled[39m=[32m""[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0m+ Add[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                  [36m>[39m
                    [0mEnter valid domain names without http:// or www prefixes[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</fieldset>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                  [33mdata-testid[39m=[32m"siteForm-cancel"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                  [33mdata-testid[39m=[32m"siteForm-submit"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mCreate Site[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

    [0m [90m 272 |[39m     [90m// Verify router was called to redirect[39m
     [90m 273 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
    [31m[1m>[22m[39m[90m 274 |[39m       expect(useRouter()[33m.[39mpush)[33m.[39mtoHaveBeenCalledWith([32m'/admin/sites/site-1'[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 275 |[39m     })[33m;[39m
     [90m 276 |[39m   })[33m;[39m
     [90m 277 |[39m[0m

      at toHaveBeenCalledWith (tests/admin/sites/SiteForm.test.tsx:274:32)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè SiteForm Component ‚Ä∫ successfully submits the form in edit mode

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/api/sites/site-123", ObjectContaining {"body": "{\"id\":\"site-123\",\"name\":\"Existing Site\",\"slug\":\"existing-site\",\"description\":\"Updated description\",\"domains\":[\"original.com\",\"another.com\"]}", "method": "PUT"}
    Received: "/api/sites/site-123", {"body": "{\"name\":\"Existing Site\",\"slug\":\"existing-site\",\"description\":\"Updated description\",\"domains\":[\"original.com\",\"another.com\"],\"id\":\"site-123\"}", "headers": {"Content-Type": "application/json"}, "method": "PUT"}

    Number of calls: 1

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
              [33mdata-testid[39m=[32m"siteForm-header"[39m
              [33mid[39m=[32m"siteForm-header"[39m
            [36m>[39m
              [0mEdit[0m
              [0m Site[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mb-4 p-3 bg-green-100 text-green-700 rounded"[39m
              [33mdata-testid[39m=[32m"siteForm-success"[39m
              [33mrole[39m=[32m"alert"[39m
            [36m>[39m
              [0mSite updated successfully[0m
            [36m</div>[39m
            [36m<form[39m
              [33maria-labelledby[39m=[32m"siteForm-header"[39m
              [33mdata-testid[39m=[32m"siteForm-form"[39m
              [33mrole[39m=[32m"form"[39m
            [36m>[39m
              [36m<fieldset[39m
                [33mclass[39m=[32m"mb-6"[39m
                [33mdata-testid[39m=[32m"siteForm-fieldset"[39m
              [36m>[39m
                [36m<legend[39m
                  [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                  [33mdata-testid[39m=[32m"siteForm-basic-info-heading"[39m
                [36m>[39m
                  [0mBasic Information[0m
                [36m</legend>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-name"[39m
                  [36m>[39m
                    [0mSite Name *[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-name"[39m
                    [33mid[39m=[32m"siteForm-name"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"Existing Site"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-slug"[39m
                  [36m>[39m
                    [0mSlug * [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(URL-friendly name)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-slug"[39m
                    [33mid[39m=[32m"siteForm-slug"[39m
                    [33mname[39m=[32m"slug"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"existing-site"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-description"[39m
                  [36m>[39m
                    [0mDescription [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(Optional)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-description"[39m
                    [33mid[39m=[32m"siteForm-description"[39m
                    [33mname[39m=[32m"description"[39m
                    [33mrows[39m=[32m"3"[39m
                  [36m>[39m
                    [0mUpdated description[0m
                  [36m</textarea>[39m
                [36m</div>[39m
              [36m</fieldset>[39m
              [36m<fieldset[39m
                [33mclass[39m=[32m"mb-6"[39m
                [33mdata-testid[39m=[32m"siteForm-domains-fieldset"[39m
              [36m>[39m
                [36m<legend[39m
                  [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                  [33mdata-testid[39m=[32m"siteForm-domains-heading"[39m
                [36m>[39m
                  [0mDomains[0m
                [36m</legend>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mCurrent Domains[0m
                  [36m</h3>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"mb-4 border rounded divide-y"[39m
                  [36m>[39m
                    [36m<li[39m
                      [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mdata-testid[39m=[32m"siteForm-domain-0"[39m
                      [36m>[39m
                        [0moriginal.com[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Remove domain original.com"[39m
                        [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                        [33mdata-testid[39m=[32m"siteForm-remove-domain-0"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"w-5 h-5"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"sr-only"[39m
                        [36m>[39m
                          [0mRemove[0m
                        [36m</span>[39m
                      [36m</button>[39m
                    [36m</li>[39m
                    [36m<li[39m
                      [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mdata-testid[39m=[32m"siteForm-domain-1"[39m
                      [36m>[39m
                        [0manother.com[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Remove domain another.com"[39m
                        [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                        [33mdata-testid[39m=[32m"siteForm-remove-domain-1"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"w-5 h-5"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"sr-only"[39m
                        [36m>[39m
                          [0mRemove[0m
                        [36m</span>[39m
                      [36m</button>[39m
                    [36m</li>[39m
                  [36m</ul>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mAdd Domain[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center"[39m
                  [36m>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                      [33mdata-testid[39m=[32m"siteForm-new-domain"[39m
                      [33mid[39m=[32m"siteForm-new-domain"[39m
                      [33mname[39m=[32m"newDomain"[39m
                      [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                      [33mdata-testid[39m=[32m"siteForm-add-domain"[39m
                      [33mdisabled[39m=[32m""[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0m+ Add[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                  [36m>[39m
                    [0mEnter valid domain names without http:// or www prefixes[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</fieldset>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                  [33mdata-testid[39m=[32m"siteForm-cancel"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                  [33mdata-testid[39m=[32m"siteForm-submit"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mUpdate Site[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

    [0m [90m 302 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 303 |[39m       expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 304 |[39m       expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 305 |[39m         [32m'/api/sites/site-123'[39m[33m,[39m
     [90m 306 |[39m         expect[33m.[39mobjectContaining({
     [90m 307 |[39m           method[33m:[39m [32m'PUT'[39m[33m,[39m[0m

      at toHaveBeenCalledWith (tests/admin/sites/SiteForm.test.tsx:304:28)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè SiteForm Component ‚Ä∫ handles API errors on submission

    expect(jest.fn()).not.toHaveBeenCalled()

    Expected number of calls: 0
    Received number of calls: 1

    1: "/admin/sites/site-1"

    [0m [90m 356 |[39m     
     [90m 357 |[39m     [90m// Router should not be called for redirect on error[39m
    [31m[1m>[22m[39m[90m 358 |[39m     expect(useRouter()[33m.[39mpush)[33m.[39mnot[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 359 |[39m   })[33m;[39m
     [90m 360 |[39m
     [90m 361 |[39m   it([32m'handles network errors on submission'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toHaveBeenCalled (tests/admin/sites/SiteForm.test.tsx:358:34)

PASS tests/admin/auth/ZKPLogin.test.tsx (8.725 s)
  ‚óè Console

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

    console.log
      Authentication successful, token received

      at log (src/components/admin/auth/ZKPLogin.tsx:135:17)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

    console.error
      Authentication error: Error: Network error
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\ZKPLogin.test.tsx:198:51)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 158 |[39m       }
     [90m 159 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 160 |[39m       console[33m.[39merror([32m'Authentication error:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 161 |[39m       setError([32m`Authentication error: ${err.message}`[39m)[33m;[39m
     [90m 162 |[39m     } [36mfinally[39m {
     [90m 163 |[39m       setIsLoading([36mfalse[39m)[33m;[39m[0m

      at error (src/components/admin/auth/ZKPLogin.tsx:160:15)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.error
      Authentication error: Error: ZKP generation failed
          at Object.<anonymous> (C:\Users\T\directorymonster\tests\admin\auth\ZKPLogin.test.tsx:220:59)
          at Promise.then.completed (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\T\directorymonster\node_modules\jest-circus\build\utils.js:231:10)
          at _callCircusTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:316:40)
          at _runTest (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:252:3)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:126:9)
          at _runTestsForDescribeBlock (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:121:9)
          at run (C:\Users\T\directorymonster\node_modules\jest-circus\build\run.js:71:3)
          at runAndTransformResultsToJestFormat (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
          at jestAdapter (C:\Users\T\directorymonster\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
          at runTestInternal (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:367:16)
          at runTest (C:\Users\T\directorymonster\node_modules\jest-runner\build\runTest.js:444:34)
          at Object.worker (C:\Users\T\directorymonster\node_modules\jest-runner\build\testWorker.js:106:12)

    [0m [90m 158 |[39m       }
     [90m 159 |[39m     } [36mcatch[39m (err) {
    [31m[1m>[22m[39m[90m 160 |[39m       console[33m.[39merror([32m'Authentication error:'[39m[33m,[39m err)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 161 |[39m       setError([32m`Authentication error: ${err.message}`[39m)[33m;[39m
     [90m 162 |[39m     } [36mfinally[39m {
     [90m 163 |[39m       setIsLoading([36mfalse[39m)[33m;[39m[0m

      at error (src/components/admin/auth/ZKPLogin.tsx:160:15)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

    console.log
      Authentication successful, token received

      at log (src/components/admin/auth/ZKPLogin.tsx:135:17)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

    console.log
      Authentication successful, token received

      at log (src/components/admin/auth/ZKPLogin.tsx:135:17)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

    console.log
      Authentication successful, token received

      at log (src/components/admin/auth/ZKPLogin.tsx:135:17)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

    console.log
      Authentication successful, token received

      at log (src/components/admin/auth/ZKPLogin.tsx:135:17)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

    console.log
      Generating proof with credentials: { username: 'testuser', password: '********', salt: 'test-salt-value' }

      at log (src/components/admin/auth/ZKPLogin.tsx:94:15)

    console.log
      Proof generated: {
        publicSignals: [ 'mock-public-signal-1', 'mock-public-signal-2' ],
        csrfToken: 'Present'
      }

      at log (src/components/admin/auth/ZKPLogin.tsx:111:15)

--------------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------
File                                        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                     
--------------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------
All files                                   |    66.4 |    67.85 |   67.29 |   66.47 |                                                                       
 src                                        |       0 |        0 |       0 |       0 |                                                                       
  middleware.ts                             |       0 |        0 |       0 |       0 | 1-49                                                                  
 src/app                                    |       0 |        0 |       0 |       0 |                                                                       
  layout.tsx                                |       0 |      100 |       0 |       0 | 2-66                                                                  
  not-found.tsx                             |       0 |      100 |       0 |       0 | 1-3                                                                   
  page.tsx                                  |       0 |        0 |       0 |       0 | 1-173                                                                 
  robots.ts                                 |       0 |        0 |       0 |       0 | 2-9                                                                   
  sitemap.ts                                |       0 |      100 |       0 |       0 | 2-59                                                                  
 src/app/[categorySlug]                     |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |        0 |       0 |       0 | 2-264                                                                 
 src/app/[categorySlug]/[listingSlug]       |       0 |        0 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |        0 |       0 |       0 | 2-350                                                                 
 src/app/admin                              |      50 |      100 |      50 |      60 |                                                                       
  layout.tsx                                |       0 |      100 |       0 |       0 | 2-8                                                                   
  page.tsx                                  |      75 |      100 |     100 |     100 |                                                                       
 src/app/admin/categories                   |       0 |      100 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |      100 |       0 |       0 | 1-4                                                                   
 src/app/admin/categories/new               |       0 |      100 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |      100 |       0 |       0 | 1-4                                                                   
 src/app/admin/dashboard                    |       0 |      100 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |      100 |       0 |       0 | 1-4                                                                   
 src/app/admin/forgot-password              |       0 |      100 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |      100 |       0 |       0 | 3-6                                                                   
 src/app/admin/listings                     |       0 |      100 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |      100 |       0 |       0 | 2-15                                                                  
 src/app/admin/listings/new                 |       0 |      100 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |      100 |       0 |       0 | 1-4                                                                   
 src/app/admin/reset-password               |       0 |      100 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |      100 |       0 |       0 | 3-8                                                                   
 src/app/admin/settings                     |       0 |      100 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |      100 |       0 |       0 | 1-3                                                                   
 src/app/admin/sites                        |       0 |      100 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |      100 |       0 |       0 | 1-5                                                                   
 src/app/admin/sites/new                    |       0 |      100 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |      100 |       0 |       0 | 1-5                                                                   
 src/app/api/auth/confirm-reset             |       0 |        0 |       0 |       0 |                                                                       
  route.ts                                  |       0 |        0 |       0 |       0 | 1-71                                                                  
 src/app/api/auth/refresh                   |       0 |        0 |       0 |       0 |                                                                       
  route.ts                                  |       0 |        0 |       0 |       0 | 1-70                                                                  
 src/app/api/auth/request-reset             |       0 |        0 |       0 |       0 |                                                                       
  route.ts                                  |       0 |        0 |       0 |       0 | 1-67                                                                  
 src/app/api/auth/verify                    |   64.58 |    58.82 |     100 |   64.58 |                                                                       
  route.ts                                  |   64.58 |    58.82 |     100 |   64.58 | 46-47,71-77,85-86,109-143                                             
 src/app/api/healthcheck                    |   83.33 |        0 |     100 |   83.33 |                                                                       
  route.ts                                  |   83.33 |        0 |     100 |   83.33 | 17                                                                    
 src/app/api/products                       |       0 |        0 |       0 |       0 |                                                                       
  route.ts                                  |       0 |        0 |       0 |       0 | 1-141                                                                 
 src/app/api/search                         |     100 |      100 |     100 |     100 |                                                                       
  route.ts                                  |     100 |      100 |     100 |     100 |                                                                       
 src/app/api/site-info                      |     100 |     90.9 |     100 |     100 |                                                                       
  route.ts                                  |     100 |     90.9 |     100 |     100 | 8                                                                     
 src/app/api/sites                          |       0 |        0 |       0 |       0 |                                                                       
  route.ts                                  |       0 |        0 |       0 |       0 | 1-90                                                                  
 src/app/api/sites/[siteSlug]/categories    |   96.87 |    91.66 |     100 |   96.55 |                                                                       
  route.ts                                  |   96.87 |    91.66 |     100 |   96.55 | 138-139                                                               
 src/app/api/sites/[siteSlug]/listings      |   96.87 |    95.45 |     100 |   96.61 |                                                                       
  route.ts                                  |   96.87 |    95.45 |     100 |   96.61 | 156-157                                                               
 src/app/api/test                           |       0 |      100 |       0 |       0 |                                                                       
  route.ts                                  |       0 |      100 |       0 |       0 | 1-16                                                                  
 src/app/api/tests                          |       0 |      100 |       0 |       0 |                                                                       
  route.ts                                  |       0 |      100 |       0 |       0 | 1-7                                                                   
 src/app/login                              |       0 |      100 |       0 |       0 |                                                                       
  page.tsx                                  |       0 |      100 |       0 |       0 | 3-6                                                                   
 src/app/search                             |     100 |      100 |     100 |     100 |                                                                       
  loading.tsx                               |     100 |      100 |     100 |     100 |                                                                       
  page.tsx                                  |     100 |      100 |     100 |     100 |                                                                       
 src/components                             |     100 |    94.44 |     100 |     100 |                                                                       
  LinkUtilities.tsx                         |     100 |      100 |     100 |     100 |                                                                       
  ListingCard.tsx                           |     100 |    93.33 |     100 |     100 | 13                                                                    
  SiteHeader.tsx                            |     100 |      100 |     100 |     100 |                                                                       
 src/components/admin                       |       0 |      100 |     100 |       0 |                                                                       
  index.ts                                  |       0 |      100 |     100 |       0 | 1-3                                                                   
 src/components/admin/auth                  |   85.77 |    81.03 |   71.05 |   86.14 |                                                                       
  LogoutButton.tsx                          |   18.18 |        0 |       0 |   18.18 | 12-31                                                                 
  PasswordResetForm.tsx                     |   92.75 |    89.58 |   83.33 |   92.75 | 44,99,152,168,215                                                     
  RoleGuard.tsx                             |      40 |        0 |       0 |      40 | 12-19                                                                 
  SessionManager.tsx                        |   82.71 |       70 |   64.28 |   82.27 | 32,67,86-87,113-115,141-142,159-164,188                               
  ZKPLogin.tsx                              |   98.38 |    94.87 |     100 |   98.38 | 67                                                                    
  index.ts                                  |   81.81 |      100 |     100 |     100 |                                                                       
 src/components/admin/categories            |   55.55 |    52.94 |      40 |   57.14 |                                                                       
  CategoryTable.tsx                         |   58.82 |    52.94 |      40 |   58.82 | 59,75-79,86-114,206                                                   
  index.ts                                  |       0 |      100 |     100 |       0 | 1                                                                     
 src/components/admin/categories/components |   97.65 |    98.93 |   95.34 |   98.26 |                                                                       
  CategoriesMobileView.tsx                  |     100 |      100 |     100 |     100 |                                                                       
  CategoryTableEmptyState.tsx               |     100 |      100 |     100 |     100 |                                                                       
  CategoryTableError.tsx                    |     100 |      100 |     100 |     100 |                                                                       
  CategoryTableHeader.tsx                   |      90 |      100 |      80 |   89.47 | 40,122                                                                
  CategoryTablePagination.tsx               |     100 |      100 |     100 |     100 |                                                                       
  CategoryTableRow.tsx                      |     100 |      100 |     100 |     100 |                                                                       
  CategoryTableSkeleton.tsx                 |     100 |      100 |     100 |     100 |                                                                       
  CategoryTableSortHeader.tsx               |     100 |      100 |     100 |     100 |                                                                       
  DeleteConfirmationModal.tsx               |   97.87 |    96.15 |     100 |     100 | 87                                                                    
  index.ts                                  |     100 |      100 |     100 |     100 |                                                                       
 src/components/admin/categories/hooks      |   98.37 |    93.87 |     100 |   98.23 |                                                                       
  index.ts                                  |     100 |      100 |     100 |     100 |                                                                       
  useCategories.ts                          |   98.36 |    93.87 |     100 |   98.21 | 188-189                                                               
 src/components/admin/dashboard             |   96.15 |    96.34 |   83.33 |   95.45 |                                                                       
  ActivityFeed.tsx                          |     100 |    88.88 |     100 |     100 | 38,140                                                                
  StatisticCards.tsx                        |   91.66 |    98.43 |   66.66 |    90.9 | 90                                                                    
  index.ts                                  |     100 |      100 |     100 |     100 |                                                                       
 src/components/admin/dashboard/components  |   65.62 |    69.56 |     100 |   69.23 |                                                                       
  ActivityFeedItem.tsx                      |   60.71 |    41.66 |     100 |   65.21 | 23-26,93-99                                                           
  StatisticCard.tsx                         |     100 |      100 |     100 |     100 |                                                                       
 src/components/admin/dashboard/hooks       |   91.66 |    52.63 |   94.44 |   94.59 |                                                                       
  index.ts                                  |     100 |      100 |     100 |     100 |                                                                       
  useActivityFeed.ts                        |   90.19 |    53.33 |   91.66 |   93.47 | 135,139,151                                                           
  useSiteMetrics.ts                         |    93.1 |       50 |     100 |   96.15 | 100                                                                   
 src/components/admin/layout                |   82.95 |       92 |   72.22 |   85.13 |                                                                       
  AdminHeader.tsx                           |      50 |       50 |   16.66 |   53.33 | 14-15,19-127                                                          
  AdminLayout.tsx                           |   92.85 |      100 |     100 |     100 |                                                                       
  AdminSidebar.tsx                          |     100 |      100 |     100 |     100 |                                                                       
  Breadcrumbs.tsx                           |     100 |      100 |     100 |     100 |                                                                       
  WithAuth.tsx                              |   73.68 |      100 |     100 |   76.47 | 25-27,49                                                              
  index.ts                                  |     100 |      100 |     100 |     100 |                                                                       
 src/components/admin/layout/icons          |     100 |        0 |     100 |     100 |                                                                       
  index.tsx                                 |     100 |        0 |     100 |     100 | 7-74                                                                  
 src/components/admin/listings              |   56.52 |    52.94 |   55.55 |   65.71 |                                                                       
  ListingTable.tsx                          |      90 |    77.77 |   66.66 |      90 | 192                                                                   
  index.ts                                  |       0 |      100 |     100 |       0 | 1-3                                                                   
  utils.ts                                  |   53.12 |       25 |      50 |   63.63 | 17-19,26-29,46-47                                                     
 src/components/admin/listings/components   |   88.88 |    73.17 |   76.66 |   88.57 |                                                                       
  DeleteConfirmationModal.tsx               |   82.35 |    57.14 |   66.66 |      80 | 36-37,56                                                              
  ListingTableActions.tsx                   |     100 |      100 |     100 |     100 |                                                                       
  ListingTableEmptyState.tsx                |     100 |       50 |     100 |     100 | 10                                                                    
  ListingTableError.tsx                     |     100 |      100 |     100 |     100 |                                                                       
  ListingTableHeader.tsx                    |   88.88 |      100 |   85.71 |   88.88 | 86                                                                    
  ListingTablePagination.tsx                |   57.14 |       50 |      25 |   57.14 | 36-64                                                                 
  ListingTableRow.tsx                       |     100 |    66.66 |     100 |     100 | 25,30                                                                 
  ListingTableSkeleton.tsx                  |     100 |      100 |     100 |     100 |                                                                       
  ListingTableSortHeader.tsx                |     100 |      100 |     100 |     100 |                                                                       
  ListingsMobileView.tsx                    |      80 |    63.63 |   66.66 |      80 | 68                                                                    
  index.ts                                  |     100 |      100 |     100 |     100 |                                                                       
 src/components/admin/listings/hooks        |   68.84 |    49.23 |      65 |   70.31 |                                                                       
  useListings.ts                            |   68.84 |    49.23 |      65 |   70.31 | 52,94-104,116,122,128-147,159-160,178,182,195-201,207-212,217,253-254 
 src/components/admin/sites                 |   88.37 |    83.27 |   95.34 |   89.61 |                                                                       
  DomainManager.tsx                         |   84.21 |    88.23 |      80 |   88.23 | 84,89                                                                 
  SEOSettings.tsx                           |   92.63 |    87.14 |     100 |    93.9 | 75,150-154                                                            
  SiteForm.tsx                              |   92.15 |    88.88 |     100 |   93.18 | 143-144,155-156,161-162                                               
  SiteSettings.tsx                          |      80 |     71.6 |   83.33 |   80.82 | 118,132-133,138-139,144-155,169                                       
 src/components/admin/sites/hooks           |   92.85 |    81.48 |   94.44 |   93.05 |                                                                       
  index.ts                                  |     100 |      100 |     100 |     100 |                                                                       
  useDomains.ts                             |   92.77 |    81.48 |   94.44 |   92.95 | 66-74                                                                 
 src/components/search                      |     100 |    95.74 |     100 |     100 |                                                                       
  SearchBar.tsx                             |     100 |      100 |     100 |     100 |                                                                       
  SearchForm.tsx                            |     100 |      100 |     100 |     100 |                                                                       
  SearchIcon.tsx                            |     100 |      100 |     100 |     100 |                                                                       
  SearchResults.tsx                         |     100 |     92.3 |     100 |     100 | 55,94                                                                 
  index.ts                                  |     100 |      100 |     100 |     100 |                                                                       
 src/lib                                    |   61.31 |    57.81 |      60 |   63.42 |                                                                       
  redis-cache.ts                            |       0 |        0 |       0 |       0 | 1-54                                                                  
  redis-client.ts                           |   83.96 |       68 |   95.23 |   85.26 | 168-188                                                               
  redis-health.ts                           |     100 |      100 |     100 |     100 |                                                                       
  redis.ts                                  |       0 |      100 |       0 |       0 | 1-4                                                                   
  search-indexer.ts                         |    13.2 |     7.69 |   13.33 |   14.28 | 13-89,113-134                                                         
  site-utils.ts                             |   81.81 |    88.23 |   77.77 |   82.35 | 7-16,124                                                              
 src/lib/zkp                                |   53.22 |       20 |   56.25 |   53.22 |                                                                       
  index.ts                                  |   30.76 |      100 |      25 |   30.76 | 36-62                                                                 
  provider.ts                               |   88.88 |      100 |     100 |   88.88 | 9                                                                     
  snark-adapter.ts                          |    52.5 |        0 |      50 |    52.5 | 71-138,191-203                                                        
 src/middleware                             |     100 |      100 |     100 |     100 |                                                                       
  withRedis.ts                              |     100 |      100 |     100 |     100 |                                                                       
 src/pages/api                              |       0 |        0 |       0 |       0 |                                                                       
  listings.ts                               |       0 |        0 |       0 |       0 | 2-139                                                                 
--------------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------

Summary of all failing tests
FAIL tests/integration/end-to-end/page-rendering.test.ts
  ‚óè Page Rendering Tests ‚Ä∫ should properly render SEO metadata

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: undefined

    [0m [90m 171 |[39m       [90m// Verify canonical URL[39m
     [90m 172 |[39m       [36mconst[39m canonicalUrl [33m=[39m document[33m.[39mquerySelector([32m'link[rel="canonical"]'[39m)[33m?[39m[33m.[39mgetAttribute([32m'href'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 173 |[39m       expect(canonicalUrl)[33m.[39mtoContain(site[33m.[39mdomain [33m||[39m site[33m.[39mslug)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 174 |[39m     }
     [90m 175 |[39m   })[33m;[39m
     [90m 176 |[39m })[33m;[39m[0m

      at Object.toContain (tests/integration/end-to-end/page-rendering.test.ts:173:28)

FAIL tests/admin/categories/hooks/useCategories.sorting.test.ts
  ‚óè useCategories Hook - Sorting ‚Ä∫ should reset to asc when changing sort field

    expect(received).toBe(expected) // Object.is equality

    Expected: "desc"
    Received: "asc"

    [0m [90m 157 |[39m     
     [90m 158 |[39m     expect(result[33m.[39mcurrent[33m.[39msortField)[33m.[39mtoBe([32m'name'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 159 |[39m     expect(result[33m.[39mcurrent[33m.[39msortOrder)[33m.[39mtoBe([32m'desc'[39m)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 160 |[39m     
     [90m 161 |[39m     [90m// Change to a different field[39m
     [90m 162 |[39m     act(() [33m=>[39m {[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.sorting.test.ts:159:38)

  ‚óè useCategories Hook - Sorting ‚Ä∫ should maintain sort when filters are applied

    expect(received).toBe(expected) // Object.is equality

    Expected: "Test Category 1"
    Received: "Subcategory 1"

    [0m [90m 187 |[39m     
     [90m 188 |[39m     [90m// Filtered categories should be sorted by name[39m
    [31m[1m>[22m[39m[90m 189 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[[35m0[39m][33m.[39mname)[33m.[39mtoBe([32m'Test Category 1'[39m)[33m;[39m
     [90m     |[39m                                                       [31m[1m^[22m[39m
     [90m 190 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[[35m1[39m][33m.[39mname)[33m.[39mtoBe([32m'Test Category 2'[39m)[33m;[39m
     [90m 191 |[39m   })[33m;[39m
     [90m 192 |[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.sorting.test.ts:189:55)

  ‚óè useCategories Hook - Sorting ‚Ä∫ should handle sorting with pagination correctly

    expect(received).toBe(expected) // Object.is equality

    Expected: "Test Category 15"
    Received: "Test Category 1"

    [0m [90m 216 |[39m     [90m// First page should have items in reverse order (15-11)[39m
     [90m 217 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentCategories[33m.[39mlength)[33m.[39mtoBe([35m5[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 218 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentCategories[[35m0[39m][33m.[39mname)[33m.[39mtoBe([32m'Test Category 15'[39m)[33m;[39m
     [90m     |[39m                                                      [31m[1m^[22m[39m
     [90m 219 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentCategories[[35m4[39m][33m.[39mname)[33m.[39mtoBe([32m'Test Category 11'[39m)[33m;[39m
     [90m 220 |[39m   })[33m;[39m
     [90m 221 |[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.sorting.test.ts:218:54)

FAIL tests/admin/layout/AdminSidebar.test.tsx
  ‚óè AdminSidebar Component ‚Ä∫ highlights the active navigation item

    expect(element).not.toHaveClass("bg-gray-900")

    Expected the element not to have class:
      bg-gray-900
    Received:
      group flex items-center px-2 py-2 text-sm font-medium rounded-md bg-gray-900 text-white

    [0m [90m 66 |[39m     [90m// Verify other links don't have active class[39m
     [90m 67 |[39m     [36mconst[39m dashboardLink [33m=[39m [33mArray[39m[33m.[39m[36mfrom[39m(links)[33m.[39mfind(link [33m=>[39m link[33m.[39mtextContent[33m?[39m[33m.[39mincludes([32m'Dashboard'[39m))[33m;[39m
    [31m[1m>[22m[39m[90m 68 |[39m     expect(dashboardLink)[33m.[39mnot[33m.[39mtoHaveClass([32m'bg-gray-900'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 69 |[39m   })[33m;[39m
     [90m 70 |[39m   
     [90m 71 |[39m   it([32m'closes the sidebar when clicking the close button on mobile'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toHaveClass (tests/admin/layout/AdminSidebar.test.tsx:68:31)

FAIL tests/admin/categories/hooks/useCategories.filtering.test.ts
  ‚óè useCategories Hook - Filtering & Searching ‚Ä∫ should search in name, metaDescription, and parentName fields

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: 2

    [0m [90m 58 |[39m     })[33m;[39m
     [90m 59 |[39m     
    [31m[1m>[22m[39m[90m 60 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mlength)[33m.[39mtoBe([35m1[39m)[33m;[39m
     [90m    |[39m                                                      [31m[1m^[22m[39m
     [90m 61 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[[35m0[39m][33m.[39mname)[33m.[39mtoBe([32m'Test Category 1'[39m)[33m;[39m
     [90m 62 |[39m     
     [90m 63 |[39m     [90m// Search in metaDescription[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.filtering.test.ts:60:54)

  ‚óè useCategories Hook - Filtering & Searching ‚Ä∫ should apply multiple filters simultaneously

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: 3

    [0m [90m 160 |[39m     
     [90m 161 |[39m     [90m// Should show only categories from site_1 with "Test" in name[39m
    [31m[1m>[22m[39m[90m 162 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mlength)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m     |[39m                                                      [31m[1m^[22m[39m
     [90m 163 |[39m     result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mforEach(category [33m=>[39m {
     [90m 164 |[39m       expect(category[33m.[39msiteId)[33m.[39mtoBe([32m'site_1'[39m)[33m;[39m
     [90m 165 |[39m       expect(category[33m.[39mname[33m.[39mincludes([32m'Test'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.filtering.test.ts:162:54)

  ‚óè useCategories Hook - Filtering & Searching ‚Ä∫ should maintain filter state after data is updated

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: 1

    [0m [90m 262 |[39m     [90m// Filter should still be applied to updated data[39m
     [90m 263 |[39m     [90m// Now we should have 2 categories with "Subcategory" in the name[39m
    [31m[1m>[22m[39m[90m 264 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mlength)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m     |[39m                                                      [31m[1m^[22m[39m
     [90m 265 |[39m     result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mforEach(category [33m=>[39m {
     [90m 266 |[39m       expect(category[33m.[39mname[33m.[39mincludes([32m'Subcategory'[39m))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 267 |[39m     })[33m;[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.filtering.test.ts:264:54)

FAIL tests/ListingCard.test.tsx
  ‚óè ListingCard Component ‚Ä∫ renders price when available

    expect(received).toHaveAttribute()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    [0m [90m 136 |[39m     [90m// Check price metadata[39m
     [90m 137 |[39m     [36mconst[39m price [33m=[39m document[33m.[39mquerySelector([32m'meta[itemprop="price"]'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 138 |[39m     expect(price)[33m.[39mtoHaveAttribute([32m'content'[39m[33m,[39m [32m'99.99'[39m)[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 139 |[39m     
     [90m 140 |[39m     [36mconst[39m currency [33m=[39m document[33m.[39mquerySelector([32m'meta[itemprop="priceCurrency"]'[39m)[33m;[39m
     [90m 141 |[39m     expect(currency)[33m.[39mtoHaveAttribute([32m'content'[39m[33m,[39m [32m'USD'[39m)[33m;[39m[0m

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher (node_modules/expect/build/index.js:326:15)
      at Object.toHaveAttribute (tests/ListingCard.test.tsx:138:19)

FAIL tests/admin/categories/hooks/useCategories.api.test.ts
  ‚óè useCategories Hook - API Integration ‚Ä∫ should fetch categories data from the API on mount

    TypeError: waitForNextUpdate is not a function

    [0m [90m 36 |[39m     
     [90m 37 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 38 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 39 |[39m     
     [90m 40 |[39m     [90m// Verify fetch was called with the correct endpoint[39m
     [90m 41 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m'/api/categories'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:38:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should fetch site-specific categories when siteSlug is provided

    TypeError: waitForNextUpdate is not a function

    [0m [90m 58 |[39m     
     [90m 59 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 60 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 61 |[39m     
     [90m 62 |[39m     [90m// Verify fetch was called with site-specific endpoint[39m
     [90m 63 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m`/api/sites/${siteSlug}/categories`[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:60:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should fetch sites data in multi-site mode

    TypeError: waitForNextUpdate is not a function

    [0m [90m 84 |[39m     
     [90m 85 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 86 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 87 |[39m     
     [90m 88 |[39m     [90m// Verify both categories and sites were fetched[39m
     [90m 89 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m'/api/categories'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:86:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should not fetch sites in single-site mode

    TypeError: waitForNextUpdate is not a function

    [0m [90m 102 |[39m     
     [90m 103 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 104 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 105 |[39m     
     [90m 106 |[39m     [90m// Verify only categories were fetched, not sites[39m
     [90m 107 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m'/api/sites/test-site/categories'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:104:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should handle API error states correctly

    TypeError: waitForNextUpdate is not a function

    [0m [90m 122 |[39m     
     [90m 123 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 124 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 125 |[39m     
     [90m 126 |[39m     [90m// Loading should be false[39m
     [90m 127 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:124:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should enrich API data with parent names and child counts

    TypeError: waitForNextUpdate is not a function

    [0m [90m 222 |[39m     
     [90m 223 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 224 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 225 |[39m     
     [90m 226 |[39m     [90m// Verify parent names were added[39m
     [90m 227 |[39m     [36mconst[39m childCategories [33m=[39m result[33m.[39mcurrent[33m.[39mcategories[33m.[39mfilter(c [33m=>[39m c[33m.[39mparentId [33m===[39m [32m'parent_category'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:224:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should handle multiple API calls properly for categories and sites

    TypeError: waitForNextUpdate is not a function

    [0m [90m 274 |[39m     
     [90m 275 |[39m     [90m// Wait for first fetch to complete (error)[39m
    [31m[1m>[22m[39m[90m 276 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 277 |[39m     
     [90m 278 |[39m     [90m// Error should be set[39m
     [90m 279 |[39m     expect(result[33m.[39mcurrent[33m.[39merror)[33m.[39mtoBe([32m'Server Error'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.api.test.ts:276:11)

  ‚óè useCategories Hook - API Integration ‚Ä∫ should prioritize initial categories over API fetch

    expect(jest.fn()).not.toHaveBeenCalled()

    Expected number of calls: 0
    Received number of calls: 1

    1: "/api/sites"

    [0m [90m 318 |[39m     
     [90m 319 |[39m     [90m// API fetch should not be called[39m
    [31m[1m>[22m[39m[90m 320 |[39m     expect(global[33m.[39mfetch)[33m.[39mnot[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 321 |[39m   })[33m;[39m
     [90m 322 |[39m })[33m;[39m
     [90m 323 |[39m[0m

      at Object.toHaveBeenCalled (tests/admin/categories/hooks/useCategories.api.test.ts:320:30)

FAIL tests/admin/categories/hooks/useCategories.deletion.test.ts
  ‚óè useCategories Hook - Deletion Functionality ‚Ä∫ should handle delete API errors gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 180 |[39m     
     [90m 181 |[39m     [90m// Modal should still be closed[39m
    [31m[1m>[22m[39m[90m 182 |[39m     expect(result[33m.[39mcurrent[33m.[39misDeleteModalOpen)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 183 |[39m     
     [90m 184 |[39m     [90m// Error should be logged[39m
     [90m 185 |[39m     expect(console[33m.[39merror)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.deletion.test.ts:182:46)

FAIL tests/admin/layout/Breadcrumbs.test.tsx
  ‚óè Breadcrumbs Component ‚Ä∫ renders the correct ARIA attributes for accessibility

    expect(element).toHaveAttribute("aria-current", "page") // element.getAttribute("aria-current") === "page"

    Expected the element to have attribute:
      aria-current="page"
    Received:
      null

    [0m [90m 65 |[39m     [90m// Check that the current page has current attribute[39m
     [90m 66 |[39m     [36mconst[39m links [33m=[39m screen[33m.[39mgetAllByRole([32m'link'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 67 |[39m     expect(links[links[33m.[39mlength [33m-[39m [35m1[39m])[33m.[39mtoHaveAttribute([32m'aria-current'[39m[33m,[39m [32m'page'[39m)[33m;[39m
     [90m    |[39m                                     [31m[1m^[22m[39m
     [90m 68 |[39m   })[33m;[39m
     [90m 69 |[39m })[33m;[39m[0m

      at Object.toHaveAttribute (tests/admin/layout/Breadcrumbs.test.tsx:67:37)

FAIL tests/admin/categories/hooks/useCategories.pagination.test.ts
  ‚óè useCategories Hook - Pagination ‚Ä∫ should reset to page 1 when changing items per page

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: 2

    [0m [90m 153 |[39m     
     [90m 154 |[39m     [90m// Should reset to page 1[39m
    [31m[1m>[22m[39m[90m 155 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentPage)[33m.[39mtoBe([35m1[39m)[33m;[39m
     [90m     |[39m                                        [31m[1m^[22m[39m
     [90m 156 |[39m     
     [90m 157 |[39m     [90m// Current categories should be the first 5 items[39m
     [90m 158 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentCategories[33m.[39mlength)[33m.[39mtoBe([35m5[39m)[33m;[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.pagination.test.ts:155:40)

  ‚óè useCategories Hook - Pagination ‚Ä∫ should handle pagination with filtered results

    expect(received).toBe(expected) // Object.is equality

    Expected: 11
    Received: 0

    [0m [90m 170 |[39m     
     [90m 171 |[39m     [90m// With 11 filtered items and 10 per page, total pages should be 2[39m
    [31m[1m>[22m[39m[90m 172 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mlength)[33m.[39mtoBe([35m11[39m)[33m;[39m
     [90m     |[39m                                                      [31m[1m^[22m[39m
     [90m 173 |[39m     expect(result[33m.[39mcurrent[33m.[39mtotalPages)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m 174 |[39m     
     [90m 175 |[39m     [90m// Current categories should have 10 items (page 1)[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.pagination.test.ts:172:54)

  ‚óè useCategories Hook - Pagination ‚Ä∫ should handle pagination when applying filters on non-first page

    expect(received).toBe(expected) // Object.is equality

    Expected: 11
    Received: 0

    [0m [90m 227 |[39m     
     [90m 228 |[39m     [90m// Filtered results should be visible[39m
    [31m[1m>[22m[39m[90m 229 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories[33m.[39mlength)[33m.[39mtoBe([35m11[39m)[33m;[39m
     [90m     |[39m                                                      [31m[1m^[22m[39m
     [90m 230 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentCategories[33m.[39mlength)[33m.[39mtoBe([35m10[39m)[33m;[39m
     [90m 231 |[39m   })[33m;[39m
     [90m 232 |[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.pagination.test.ts:229:54)

  ‚óè useCategories Hook - Pagination ‚Ä∫ should adjust current page when total pages decreases below current page

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: 3

    [0m [90m 282 |[39m     
     [90m 283 |[39m     [90m// Should be on page 2 now (max page)[39m
    [31m[1m>[22m[39m[90m 284 |[39m     expect(result[33m.[39mcurrent[33m.[39mtotalPages)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m     |[39m                                       [31m[1m^[22m[39m
     [90m 285 |[39m     expect(result[33m.[39mcurrent[33m.[39mcurrentPage)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m 286 |[39m   })[33m;[39m
     [90m 287 |[39m })[33m;[39m[0m

      at Object.toBe (tests/admin/categories/hooks/useCategories.pagination.test.ts:284:39)

FAIL tests/search/SearchForm.test.tsx
  ‚óè SearchForm Component ‚Ä∫ renders with custom props

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/find/i`

    Here are the accessible roles:

      search:

      Name "Site search":
      [36m<form[39m
        [33maria-label[39m=[32m"Site search"[39m
        [33mclass[39m=[32m"flex flex-col sm:flex-row gap-2 custom-class"[39m
        [33mrole[39m=[32m"search"[39m
      [36m/>[39m

      --------------------------------------------------
      searchbox:

      Name "Search query":
      [36m<input[39m
        [33maria-invalid[39m=[32m"false"[39m
        [33maria-label[39m=[32m"Search query"[39m
        [33maria-required[39m=[32m"true"[39m
        [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"[39m
        [33mplaceholder[39m=[32m"Custom placeholder"[39m
        [33mtype[39m=[32m"search"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Submit search":
      [36m<button[39m
        [33maria-label[39m=[32m"Submit search"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors"[39m
        [33mtype[39m=[32m"submit"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<form[39m
          [33maria-label[39m=[32m"Site search"[39m
          [33mclass[39m=[32m"flex flex-col sm:flex-row gap-2 custom-class"[39m
          [33mrole[39m=[32m"search"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative flex-grow"[39m
          [36m>[39m
            [36m<input[39m
              [33maria-invalid[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Search query"[39m
              [33maria-required[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"[39m
              [33mplaceholder[39m=[32m"Custom placeholder"[39m
              [33mtype[39m=[32m"search"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Submit search"[39m
            [33mclass[39m=[32m"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors"[39m
            [33mtype[39m=[32m"submit"[39m
          [36m>[39m
            [0mFind[0m
          [36m</button>[39m
        [36m</form>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 41 |[39m     expect(input)[33m.[39mtoHaveAttribute([32m'placeholder'[39m[33m,[39m [32m'Custom placeholder'[39m)[33m;[39m
     [90m 42 |[39m     
    [31m[1m>[22m[39m[90m 43 |[39m     [36mconst[39m button [33m=[39m screen[33m.[39mgetByRole([32m'button'[39m[33m,[39m { name[33m:[39m [35m/find/i[39m })[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 44 |[39m     expect(button)[33m.[39mtoHaveTextContent([32m'Find'[39m)[33m;[39m
     [90m 45 |[39m     
     [90m 46 |[39m     [90m// Verify custom class is applied[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/search/SearchForm.test.tsx:43:27)

  ‚óè SearchForm Component ‚Ä∫ has proper accessibility attributes

    expect(element).not.toHaveAttribute("aria-invalid") // element.hasAttribute("aria-invalid")

    Expected the element not to have attribute:
      aria-invalid
    Received:
      aria-invalid="false"

    [0m [90m 167 |[39m     
     [90m 168 |[39m     [90m// Initially, there should be no errors[39m
    [31m[1m>[22m[39m[90m 169 |[39m     expect(input)[33m.[39mnot[33m.[39mtoHaveAttribute([32m'aria-invalid'[39m)[33m;[39m
     [90m     |[39m                       [31m[1m^[22m[39m
     [90m 170 |[39m     expect(input)[33m.[39mnot[33m.[39mtoHaveAttribute([32m'aria-describedby'[39m)[33m;[39m
     [90m 171 |[39m     
     [90m 172 |[39m     [90m// Submit form without query to trigger validation error[39m[0m

      at Object.toHaveAttribute (tests/search/SearchForm.test.tsx:169:23)

FAIL tests/search/SearchBar.test.tsx
  ‚óè SearchBar Component ‚Ä∫ renders in expanded state when expanded prop is true

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <button aria-label="Open search" class="p-2 text-gray-500 hover:text-gray-700 transition-colors hidden" type="button"><div data-testid="mock-search-icon" /></button> instead

    [0m [90m 40 |[39m     [90m// Search icon button should not be visible[39m
     [90m 41 |[39m     [36mconst[39m searchButton [33m=[39m screen[33m.[39mqueryByLabelText([32m'Open search'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 42 |[39m     expect(searchButton)[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 43 |[39m     
     [90m 44 |[39m     [90m// Input should be visible[39m
     [90m 45 |[39m     [36mconst[39m input [33m=[39m screen[33m.[39mgetByRole([32m'searchbox'[39m)[33m;[39m[0m

      at Object.toBeInTheDocument (tests/search/SearchBar.test.tsx:42:30)

FAIL tests/admin/layout/AdminHeader.test.tsx
  ‚óè AdminHeader Component ‚Ä∫ renders correctly with title and buttons

    TestingLibraryElementError: Unable to find a label with the text of: View notifications

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white shadow-sm z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"px-4 sm:px-6 lg:px-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between h-16"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 flex items-center"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open sidebar"[39m
                    [33mclass[39m=[32m"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"block h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"ml-4 md:ml-0"[39m
                  [36m>[39m
                    [36m<h1[39m
                      [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mAdmin Portal[0m
                    [36m</h1>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"true"[39m
                    [33mclass[39m=[32m"p-1 rounded-full text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"sr-only"[39m
                    [36m>[39m
                      [0mView notifications[0m
                    [36m</span>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3 relative"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<button[39m
                      [33maria-expanded[39m=[32m"false"[39m
                      [33maria-haspopup[39m=[32m"true"[39m
                      [33mclass[39m=[32m"max-w-xs flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                      [33mid[39m=[32m"user-menu-button"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mOpen user menu[0m
                      [36m</span>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"h-6 w-6 text-gray-500"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 35 |[39m     
     [90m 36 |[39m     [90m// Check for notification button[39m
    [31m[1m>[22m[39m[90m 37 |[39m     expect(screen[33m.[39mgetByLabelText([32m'View notifications'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 38 |[39m     
     [90m 39 |[39m     [90m// Check for user menu button (using the DOM structure)[39m
     [90m 40 |[39m     expect(screen[33m.[39mgetByLabelText([32m'Open user menu'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/layout/AdminHeader.test.tsx:37:19)

  ‚óè AdminHeader Component ‚Ä∫ opens the notifications dropdown when clicking the bell icon

    TestingLibraryElementError: Unable to find a label with the text of: View notifications

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white shadow-sm z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"px-4 sm:px-6 lg:px-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between h-16"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 flex items-center"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open sidebar"[39m
                    [33mclass[39m=[32m"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"block h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"ml-4 md:ml-0"[39m
                  [36m>[39m
                    [36m<h1[39m
                      [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mAdmin Portal[0m
                    [36m</h1>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"true"[39m
                    [33mclass[39m=[32m"p-1 rounded-full text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"sr-only"[39m
                    [36m>[39m
                      [0mView notifications[0m
                    [36m</span>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3 relative"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<button[39m
                      [33maria-expanded[39m=[32m"false"[39m
                      [33maria-haspopup[39m=[32m"true"[39m
                      [33mclass[39m=[32m"max-w-xs flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                      [33mid[39m=[32m"user-menu-button"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mOpen user menu[0m
                      [36m</span>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"h-6 w-6 text-gray-500"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 61 |[39m     
     [90m 62 |[39m     [90m// Find and click the notifications button[39m
    [31m[1m>[22m[39m[90m 63 |[39m     [36mconst[39m notificationsButton [33m=[39m screen[33m.[39mgetByLabelText([32m'View notifications'[39m)[33m;[39m
     [90m    |[39m                                        [31m[1m^[22m[39m
     [90m 64 |[39m     fireEvent[33m.[39mclick(notificationsButton)[33m;[39m
     [90m 65 |[39m     
     [90m 66 |[39m     [90m// Now the notifications dropdown should be visible[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/layout/AdminHeader.test.tsx:63:40)

  ‚óè AdminHeader Component ‚Ä∫ opens the user dropdown menu when clicking the user icon

    TestingLibraryElementError: Unable to find a label with the text of: Open user menu

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white shadow-sm z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"px-4 sm:px-6 lg:px-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between h-16"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 flex items-center"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open sidebar"[39m
                    [33mclass[39m=[32m"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"block h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"ml-4 md:ml-0"[39m
                  [36m>[39m
                    [36m<h1[39m
                      [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mAdmin Portal[0m
                    [36m</h1>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"true"[39m
                    [33mclass[39m=[32m"p-1 rounded-full text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"sr-only"[39m
                    [36m>[39m
                      [0mView notifications[0m
                    [36m</span>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3 relative"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<button[39m
                      [33maria-expanded[39m=[32m"false"[39m
                      [33maria-haspopup[39m=[32m"true"[39m
                      [33mclass[39m=[32m"max-w-xs flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                      [33mid[39m=[32m"user-menu-button"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mOpen user menu[0m
                      [36m</span>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"h-6 w-6 text-gray-500"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 77 |[39m     
     [90m 78 |[39m     [90m// Find and click the user menu button[39m
    [31m[1m>[22m[39m[90m 79 |[39m     [36mconst[39m userMenuButton [33m=[39m screen[33m.[39mgetByLabelText([32m'Open user menu'[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 80 |[39m     fireEvent[33m.[39mclick(userMenuButton)[33m;[39m
     [90m 81 |[39m     
     [90m 82 |[39m     [90m// Now the user menu should be visible[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/layout/AdminHeader.test.tsx:79:35)

  ‚óè AdminHeader Component ‚Ä∫ closes user menu when clicking on a menu item

    TestingLibraryElementError: Unable to find a label with the text of: Open user menu

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white shadow-sm z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"px-4 sm:px-6 lg:px-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between h-16"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 flex items-center"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open sidebar"[39m
                    [33mclass[39m=[32m"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"block h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"ml-4 md:ml-0"[39m
                  [36m>[39m
                    [36m<h1[39m
                      [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mAdmin Portal[0m
                    [36m</h1>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"true"[39m
                    [33mclass[39m=[32m"p-1 rounded-full text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"sr-only"[39m
                    [36m>[39m
                      [0mView notifications[0m
                    [36m</span>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3 relative"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<button[39m
                      [33maria-expanded[39m=[32m"false"[39m
                      [33maria-haspopup[39m=[32m"true"[39m
                      [33mclass[39m=[32m"max-w-xs flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                      [33mid[39m=[32m"user-menu-button"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mOpen user menu[0m
                      [36m</span>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"h-6 w-6 text-gray-500"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 92 |[39m     
     [90m 93 |[39m     [90m// Open the user menu[39m
    [31m[1m>[22m[39m[90m 94 |[39m     [36mconst[39m userMenuButton [33m=[39m screen[33m.[39mgetByLabelText([32m'Open user menu'[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 95 |[39m     fireEvent[33m.[39mclick(userMenuButton)[33m;[39m
     [90m 96 |[39m     
     [90m 97 |[39m     [90m// Verify it's open[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/layout/AdminHeader.test.tsx:94:35)

  ‚óè AdminHeader Component ‚Ä∫ closes the notifications dropdown when opening user menu

    TestingLibraryElementError: Unable to find a label with the text of: View notifications

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white shadow-sm z-10"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"px-4 sm:px-6 lg:px-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between h-16"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-shrink-0 flex items-center"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Open sidebar"[39m
                    [33mclass[39m=[32m"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"block h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"ml-4 md:ml-0"[39m
                  [36m>[39m
                    [36m<h1[39m
                      [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mAdmin Portal[0m
                    [36m</h1>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"true"[39m
                    [33mclass[39m=[32m"p-1 rounded-full text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"sr-only"[39m
                    [36m>[39m
                      [0mView notifications[0m
                    [36m</span>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"ml-3 relative"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<button[39m
                      [33maria-expanded[39m=[32m"false"[39m
                      [33maria-haspopup[39m=[32m"true"[39m
                      [33mclass[39m=[32m"max-w-xs flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
                      [33mid[39m=[32m"user-menu-button"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mOpen user menu[0m
                      [36m</span>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"h-6 w-6 text-gray-500"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 109 |[39m     
     [90m 110 |[39m     [90m// Open notifications first[39m
    [31m[1m>[22m[39m[90m 111 |[39m     [36mconst[39m notificationsButton [33m=[39m screen[33m.[39mgetByLabelText([32m'View notifications'[39m)[33m;[39m
     [90m     |[39m                                        [31m[1m^[22m[39m
     [90m 112 |[39m     fireEvent[33m.[39mclick(notificationsButton)[33m;[39m
     [90m 113 |[39m     
     [90m 114 |[39m     [90m// Verify notifications are visible[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/layout/AdminHeader.test.tsx:111:40)

FAIL tests/admin/categories/components/CategoriesMobileView.url.test.tsx
  ‚óè CategoriesMobileView URL Construction Tests ‚Ä∫ handles both empty slug and null slug edge cases

    expect(element).toHaveAttribute("href", "/admin/sites/test-site/categories/") // element.getAttribute("href") === "/admin/sites/test-site/categories/"

    Expected the element to have attribute:
      href="/admin/sites/test-site/categories/"
    Received:
      href="/admin/sites/test-site/categories/null"

    [0m [90m 201 |[39m     
     [90m 202 |[39m     [90m// Null slug should still work with category ID [39m
    [31m[1m>[22m[39m[90m 203 |[39m     expect(screen[33m.[39mgetByTestId([32m'view-link-null_slug'[39m))[33m.[39mtoHaveAttribute([32m'href'[39m[33m,[39m [32m'/admin/sites/test-site/categories/'[39m)[33m;[39m
     [90m     |[39m                                                       [31m[1m^[22m[39m
     [90m 204 |[39m     expect(screen[33m.[39mgetByTestId([32m'edit-link-null_slug'[39m))[33m.[39mtoHaveAttribute([32m'href'[39m[33m,[39m [32m'/admin/sites/test-site/categories/null_slug/edit'[39m)[33m;[39m
     [90m 205 |[39m   })[33m;[39m
     [90m 206 |[39m })[33m;[39m[0m

      at Object.toHaveAttribute (tests/admin/categories/components/CategoriesMobileView.url.test.tsx:203:55)

FAIL tests/SiteHeader.test.tsx
  ‚óè SiteHeader Component ‚Ä∫ renders site name correctly

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:74:11)

  ‚óè SiteHeader Component ‚Ä∫ renders logo when logoUrl is provided

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:80:11)

  ‚óè SiteHeader Component ‚Ä∫ does not render logo when logoUrl is not provided

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:90:11)

  ‚óè SiteHeader Component ‚Ä∫ renders SEO-optimized H1 tag with headerText

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:97:11)

  ‚óè SiteHeader Component ‚Ä∫ renders home link correctly

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:106:11)

  ‚óè SiteHeader Component ‚Ä∫ renders all category links correctly

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:114:11)

  ‚óè SiteHeader Component ‚Ä∫ renders correctly with empty categories array

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:136:11)

  ‚óè SiteHeader Component ‚Ä∫ applies correct CSS classes for responsive layout

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:148:11)

  ‚óè SiteHeader Component ‚Ä∫ applies correct styling to navigation links

    invariant expected app router to be mounted

    [0m [90m 21 |[39m   [36mconst[39m [query[33m,[39m setQuery] [33m=[39m useState([32m''[39m)[33m;[39m
     [90m 22 |[39m   [36mconst[39m [isExpanded[33m,[39m setIsExpanded] [33m=[39m useState(expanded)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 24 |[39m
     [90m 25 |[39m   [36mconst[39m handleSubmit [33m=[39m (e[33m:[39m [33mFormEvent[39m) [33m=>[39m {
     [90m 26 |[39m     e[33m.[39mpreventDefault()[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SearchBar (src/components/search/SearchBar.tsx:23:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/SiteHeader.test.tsx:172:11)

FAIL tests/admin/categories/CategoryTable.basic.test.tsx
  ‚óè CategoryTable Basic Rendering ‚Ä∫ renders the component with all expected sections

    TestingLibraryElementError: Unable to find an accessible element with the role "table"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 24 |[39m     
     [90m 25 |[39m     [90m// Verify the main container renders[39m
    [31m[1m>[22m[39m[90m 26 |[39m     [36mconst[39m container [33m=[39m screen[33m.[39mgetByRole([32m'table'[39m)[33m;[39m
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 27 |[39m     expect(container)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 28 |[39m     
     [90m 29 |[39m     [90m// Verify header section with columns[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/admin/categories/CategoryTable.basic.test.tsx:26:30)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ renders the loading state when isLoading is true

    TestingLibraryElementError: Unable to find an element by: [data-testid="loading-status"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 46 |[39m     
     [90m 47 |[39m     [90m// Should show loading skeleton with appropriate aria role[39m
    [31m[1m>[22m[39m[90m 48 |[39m     [36mconst[39m loadingStatus [33m=[39m screen[33m.[39mgetByTestId([32m'loading-status'[39m)[33m;[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 49 |[39m     expect(loadingStatus)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 50 |[39m     expect(loadingStatus)[33m.[39mtoHaveTextContent([32m'Loading categories data, please wait...'[39m)[33m;[39m
     [90m 51 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.basic.test.tsx:48:34)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ renders the error state when error is present

    expect(element).toHaveTextContent()

    Expected element to have text content:
      Failed to fetch categories
    Received:
      fetch is not defined

    [0m [90m 70 |[39m     [36mconst[39m errorMessageElement [33m=[39m screen[33m.[39mgetByTestId([32m'error-message'[39m)[33m;[39m
     [90m 71 |[39m     expect(errorMessageElement)[33m.[39mtoBeInTheDocument()[33m;[39m
    [31m[1m>[22m[39m[90m 72 |[39m     expect(errorMessageElement)[33m.[39mtoHaveTextContent(errorMessage)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 73 |[39m     
     [90m 74 |[39m     [90m// Should show retry button[39m
     [90m 75 |[39m     [36mconst[39m retryButton [33m=[39m screen[33m.[39mgetByTestId([32m'retry-button'[39m)[33m;[39m[0m

      at Object.toHaveTextContent (tests/admin/categories/CategoryTable.basic.test.tsx:72:33)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ renders the empty state when categories array is empty

    TestingLibraryElementError: Unable to find an element by: [data-testid="empty-state-container"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 91 |[39m     
     [90m 92 |[39m     [90m// Should show empty state[39m
    [31m[1m>[22m[39m[90m 93 |[39m     [36mconst[39m emptyState [33m=[39m screen[33m.[39mgetByTestId([32m'empty-state-container'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 94 |[39m     expect(emptyState)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 95 |[39m     
     [90m 96 |[39m     [90m// Should contain appropriate messaging[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.basic.test.tsx:93:31)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ renders the correct number of category rows

    TestingLibraryElementError: Unable to find an accessible element with the role "row"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 114 |[39m     
     [90m 115 |[39m     [90m// Check that there's the expected number of rows in the table[39m
    [31m[1m>[22m[39m[90m 116 |[39m     [36mconst[39m tableRows [33m=[39m screen[33m.[39mgetAllByRole([32m'row'[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 117 |[39m     [90m// +1 for the header row[39m
     [90m 118 |[39m     expect(tableRows[33m.[39mlength)[33m.[39mtoBe(mockCategories[33m.[39mlength [33m+[39m [35m1[39m)[33m;[39m
     [90m 119 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.getAllByRole (tests/admin/categories/CategoryTable.basic.test.tsx:116:30)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ conditionally shows site column depending on mode

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    [0m [90m 140 |[39m     [90m// Should show site column[39m
     [90m 141 |[39m     [36mconst[39m siteColumnHeader [33m=[39m screen[33m.[39mqueryByText([32m'Site'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 142 |[39m     expect(siteColumnHeader)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 143 |[39m     
     [90m 144 |[39m     unmount()[33m;[39m
     [90m 145 |[39m     [0m

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:326:15)
      at Object.toBeInTheDocument (tests/admin/categories/CategoryTable.basic.test.tsx:142:30)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ uses correct data-testid attributes for accessibility and testing

    TestingLibraryElementError: Unable to find an element by: [data-testid="categories-mobile-view"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 161 |[39m     
     [90m 162 |[39m     [90m// Verify key elements have proper test IDs[39m
    [31m[1m>[22m[39m[90m 163 |[39m     expect(screen[33m.[39mgetByTestId([32m'categories-mobile-view'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 164 |[39m     expect(screen[33m.[39mgetByTestId([32m'pagination-container'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 165 |[39m     
     [90m 166 |[39m     [90m// Verify each row has proper test IDs[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.basic.test.tsx:163:19)

  ‚óè CategoryTable Basic Rendering ‚Ä∫ contains proper semantic structure for accessibility

    TestingLibraryElementError: Unable to find an accessible element with the role "table"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 185 |[39m     
     [90m 186 |[39m     [90m// Verify semantic table structure[39m
    [31m[1m>[22m[39m[90m 187 |[39m     expect(screen[33m.[39mgetByRole([32m'table'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 188 |[39m     expect(screen[33m.[39mgetByRole([32m'rowgroup'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m [90m// tbody[39m
     [90m 189 |[39m     
     [90m 190 |[39m     [90m// Verify column headers[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/admin/categories/CategoryTable.basic.test.tsx:187:19)

FAIL tests/admin/categories/CategoryTable.filtering.test.tsx
  ‚óè CategoryTable Filtering and Search ‚Ä∫ renders search input and it calls setSearchTerm when used

    TestingLibraryElementError: Unable to find an element by: [data-testid="search-input"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 31 |[39m     
     [90m 32 |[39m     [90m// Find the search input[39m
    [31m[1m>[22m[39m[90m 33 |[39m     [36mconst[39m searchInput [33m=[39m screen[33m.[39mgetByTestId([32m'search-input'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 34 |[39m     expect(searchInput)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 35 |[39m     
     [90m 36 |[39m     [90m// Type in the search input[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:33:32)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ renders parent filter dropdown with correct options

    TestingLibraryElementError: Unable to find an element by: [data-testid="parent-filter-select"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 47 |[39m     
     [90m 48 |[39m     [90m// Find the parent filter dropdown[39m
    [31m[1m>[22m[39m[90m 49 |[39m     [36mconst[39m parentFilterSelect [33m=[39m screen[33m.[39mgetByTestId([32m'parent-filter-select'[39m)[33m;[39m
     [90m    |[39m                                       [31m[1m^[22m[39m
     [90m 50 |[39m     expect(parentFilterSelect)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 51 |[39m     
     [90m 52 |[39m     [90m// Open the dropdown to see options[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:49:39)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ calls setParentFilter when parent filter is changed

    TestingLibraryElementError: Unable to find an element by: [data-testid="parent-filter-select"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 76 |[39m     
     [90m 77 |[39m     [90m// Find the parent filter dropdown[39m
    [31m[1m>[22m[39m[90m 78 |[39m     [36mconst[39m parentFilterSelect [33m=[39m screen[33m.[39mgetByTestId([32m'parent-filter-select'[39m)[33m;[39m
     [90m    |[39m                                       [31m[1m^[22m[39m
     [90m 79 |[39m     
     [90m 80 |[39m     [90m// Select a parent category[39m
     [90m 81 |[39m     [36mawait[39m user[33m.[39mclick(parentFilterSelect)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:78:39)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ shows site filter dropdown in multi-site mode

    TestingLibraryElementError: Unable to find an element by: [data-testid="site-filter-select"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m  98 |[39m     
     [90m  99 |[39m     [90m// Find the site filter dropdown[39m
    [31m[1m>[22m[39m[90m 100 |[39m     [36mconst[39m siteFilterSelect [33m=[39m screen[33m.[39mgetByTestId([32m'site-filter-select'[39m)[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 101 |[39m     expect(siteFilterSelect)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 102 |[39m     
     [90m 103 |[39m     [90m// Open the dropdown to see options[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:100:37)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ calls setSiteFilter when site filter is changed

    TestingLibraryElementError: Unable to find an element by: [data-testid="site-filter-select"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 137 |[39m     
     [90m 138 |[39m     [90m// Find the site filter dropdown[39m
    [31m[1m>[22m[39m[90m 139 |[39m     [36mconst[39m siteFilterSelect [33m=[39m screen[33m.[39mgetByTestId([32m'site-filter-select'[39m)[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 140 |[39m     
     [90m 141 |[39m     [90m// Select a site[39m
     [90m 142 |[39m     [36mawait[39m user[33m.[39mclick(siteFilterSelect)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:139:37)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ provides a clear search button that resets search term

    TestingLibraryElementError: Unable to find an element by: [data-testid="clear-search-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 163 |[39m     
     [90m 164 |[39m     [90m// Find the clear search button[39m
    [31m[1m>[22m[39m[90m 165 |[39m     [36mconst[39m clearButton [33m=[39m screen[33m.[39mgetByTestId([32m'clear-search-button'[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 166 |[39m     expect(clearButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 167 |[39m     
     [90m 168 |[39m     [90m// Click the clear button[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:165:32)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ includes a reset filters button that resets all filters

    TestingLibraryElementError: Unable to find an element by: [data-testid="reset-filters-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 191 |[39m     
     [90m 192 |[39m     [90m// Find the reset filters button[39m
    [31m[1m>[22m[39m[90m 193 |[39m     [36mconst[39m resetButton [33m=[39m screen[33m.[39mgetByTestId([32m'reset-filters-button'[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 194 |[39m     expect(resetButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 195 |[39m     
     [90m 196 |[39m     [90m// Click the reset button[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:193:32)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ displays the total number of filtered categories

    TestingLibraryElementError: Unable to find an element by: [data-testid="total-categories-count"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 211 |[39m     
     [90m 212 |[39m     [90m// Find the total categories count[39m
    [31m[1m>[22m[39m[90m 213 |[39m     [36mconst[39m totalCount [33m=[39m screen[33m.[39mgetByTestId([32m'total-categories-count'[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 214 |[39m     expect(totalCount)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 215 |[39m     expect(totalCount)[33m.[39mtoHaveTextContent([32m`${mockCategories.length}`[39m)[33m;[39m
     [90m 216 |[39m   })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:213:31)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ shows a message when no categories match the filters

    TestingLibraryElementError: Unable to find an element by: [data-testid="no-results-message"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 227 |[39m     
     [90m 228 |[39m     [90m// Should show a "no results" message[39m
    [31m[1m>[22m[39m[90m 229 |[39m     [36mconst[39m noResultsMessage [33m=[39m screen[33m.[39mgetByTestId([32m'no-results-message'[39m)[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 230 |[39m     expect(noResultsMessage)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 231 |[39m     expect(noResultsMessage)[33m.[39mtoHaveTextContent([35m/No categories match your filters/i[39m)[33m;[39m
     [90m 232 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:229:37)

  ‚óè CategoryTable Filtering and Search ‚Ä∫ performs a case-insensitive search

    TestingLibraryElementError: Unable to find an element by: [data-testid="search-input"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 251 |[39m     
     [90m 252 |[39m     [90m// Find the search input[39m
    [31m[1m>[22m[39m[90m 253 |[39m     [36mconst[39m searchInput [33m=[39m screen[33m.[39mgetByTestId([32m'search-input'[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 254 |[39m     
     [90m 255 |[39m     [90m// Type a mixed-case search term[39m
     [90m 256 |[39m     [36mawait[39m user[33m.[39mtype(searchInput[33m,[39m [32m'TeSt CaTeGoRy'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.filtering.test.tsx:253:32)

FAIL tests/admin/categories/hooks/useCategories.init.test.ts
  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should initialize with provided categories data

    expect(received).toEqual(expected) // deep equality

    - Expected  - 13
    + Received  + 13

    @@ -12,23 +12,10 @@
          "slug": "test-category-1",
          "updatedAt": 1743218417677,
        },
        Object {
          "childCount": 0,
    -     "createdAt": 1743049217677,
    -     "id": "category_2",
    -     "metaDescription": "This is test category 2",
    -     "name": "Test Category 2",
    -     "order": 2,
    -     "parentId": null,
    -     "siteId": "site_1",
    -     "siteName": "Test Site",
    -     "slug": "test-category-2",
    -     "updatedAt": 1743214817677,
    -   },
    -   Object {
    -     "childCount": 0,
          "createdAt": 1743178817677,
          "id": "category_3",
          "metaDescription": "This is a subcategory",
          "name": "Subcategory 1",
          "order": 1,
    @@ -36,7 +23,20 @@
          "parentName": "Test Category 1",
          "siteId": "site_1",
          "siteName": "Test Site",
          "slug": "subcategory-1",
          "updatedAt": 1743220217677,
    +   },
    +   Object {
    +     "childCount": 0,
    +     "createdAt": 1743049217677,
    +     "id": "category_2",
    +     "metaDescription": "This is test category 2",
    +     "name": "Test Category 2",
    +     "order": 2,
    +     "parentId": null,
    +     "siteId": "site_1",
    +     "siteName": "Test Site",
    +     "slug": "test-category-2",
    +     "updatedAt": 1743214817677,
        },
      ]

    [0m [90m 31 |[39m     [90m// Verify initial state[39m
     [90m 32 |[39m     expect(result[33m.[39mcurrent[33m.[39mcategories)[33m.[39mtoEqual(mockCategories)[33m;[39m
    [31m[1m>[22m[39m[90m 33 |[39m     expect(result[33m.[39mcurrent[33m.[39mfilteredCategories)[33m.[39mtoEqual(mockCategories)[33m;[39m
     [90m    |[39m                                               [31m[1m^[22m[39m
     [90m 34 |[39m     expect(result[33m.[39mcurrent[33m.[39mallCategories)[33m.[39mtoEqual(mockCategories)[33m;[39m
     [90m 35 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 36 |[39m     expect(result[33m.[39mcurrent[33m.[39merror)[33m.[39mtoBeNull()[33m;[39m[0m

      at Object.toEqual (tests/admin/categories/hooks/useCategories.init.test.ts:33:47)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should initialize with loading state and fetch categories when no initial data

    TypeError: waitForNextUpdate is not a function

    [0m [90m 65 |[39m     
     [90m 66 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 67 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 68 |[39m     
     [90m 69 |[39m     [90m// Verify fetch was called[39m
     [90m 70 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledTimes([35m2[39m)[33m;[39m [90m// Once for categories, once for sites[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:67:11)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should fetch site-specific categories when siteSlug is provided

    TypeError: waitForNextUpdate is not a function

    [0m [90m 89 |[39m     
     [90m 90 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 91 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 92 |[39m     
     [90m 93 |[39m     [90m// Verify fetch was called with site-specific endpoint[39m
     [90m 94 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m`/api/sites/${siteSlug}/categories`[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:91:11)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should handle fetch errors gracefully

    TypeError: waitForNextUpdate is not a function

    [0m [90m 110 |[39m     
     [90m 111 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 112 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 113 |[39m     
     [90m 114 |[39m     [90m// Verify error state[39m
     [90m 115 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:112:11)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should fetch sites for multi-site mode

    TypeError: waitForNextUpdate is not a function

    [0m [90m 170 |[39m     
     [90m 171 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 172 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 173 |[39m     
     [90m 174 |[39m     [90m// Verify sites fetch was called[39m
     [90m 175 |[39m     expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith([32m'/api/sites'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:172:11)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should not fetch sites when in single-site mode

    TypeError: waitForNextUpdate is not a function

    [0m [90m 187 |[39m     
     [90m 188 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 189 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 190 |[39m     
     [90m 191 |[39m     [90m// Verify sites fetch was not called[39m
     [90m 192 |[39m     expect(global[33m.[39mfetch)[33m.[39mnot[33m.[39mtoHaveBeenCalledWith([32m'/api/sites'[39m)[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:189:11)

  ‚óè useCategories Hook - Initialization & State Management ‚Ä∫ should handle sites fetch errors gracefully

    TypeError: waitForNextUpdate is not a function

    [0m [90m 222 |[39m     
     [90m 223 |[39m     [90m// Wait for fetch to complete[39m
    [31m[1m>[22m[39m[90m 224 |[39m     [36mawait[39m waitForNextUpdate()[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 225 |[39m     
     [90m 226 |[39m     [90m// Verify error was logged[39m
     [90m 227 |[39m     expect(console[33m.[39merror)[33m.[39mtoHaveBeenCalled()[33m;[39m[0m

      at Object.waitForNextUpdate (tests/admin/categories/hooks/useCategories.init.test.ts:224:11)

FAIL tests/admin/categories/CategoryTable.pagination.test.tsx
  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ renders pagination with correct information

    TestingLibraryElementError: Unable to find an element by: [data-testid="pagination-status"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 53 |[39m     
     [90m 54 |[39m     [90m// Find pagination status text[39m
    [31m[1m>[22m[39m[90m 55 |[39m     [36mconst[39m paginationStatus [33m=[39m screen[33m.[39mgetByTestId([32m'pagination-status'[39m)[33m;[39m
     [90m    |[39m                                     [31m[1m^[22m[39m
     [90m 56 |[39m     expect(paginationStatus)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 57 |[39m     expect(paginationStatus)[33m.[39mtoHaveTextContent([32m'Showing 1 to 10 of 25 categories'[39m)[33m;[39m
     [90m 58 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:55:37)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ calls goToPage when pagination controls are clicked

    TestingLibraryElementError: Unable to find an element by: [data-testid="next-page-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 81 |[39m     
     [90m 82 |[39m     [90m// Find pagination navigation buttons[39m
    [31m[1m>[22m[39m[90m 83 |[39m     [36mconst[39m nextPageButton [33m=[39m screen[33m.[39mgetByTestId([32m'next-page-button'[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 84 |[39m     expect(nextPageButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 85 |[39m     
     [90m 86 |[39m     [90m// Click next page button[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:83:35)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ disables pagination buttons appropriately

    TestingLibraryElementError: Unable to find an element by: [data-testid="prev-page-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 124 |[39m     render([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 125 |[39m     
    [31m[1m>[22m[39m[90m 126 |[39m     [36mconst[39m prevPageButton [33m=[39m screen[33m.[39mgetByTestId([32m'prev-page-button'[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 127 |[39m     expect(prevPageButton)[33m.[39mtoBeDisabled()[33m;[39m
     [90m 128 |[39m     
     [90m 129 |[39m     [36mconst[39m nextPageButton [33m=[39m screen[33m.[39mgetByTestId([32m'next-page-button'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:126:35)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ calls setItemsPerPage when items per page selector is changed

    TestingLibraryElementError: Unable to find an element by: [data-testid="items-per-page-select"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 166 |[39m     
     [90m 167 |[39m     [90m// Find the items per page selector[39m
    [31m[1m>[22m[39m[90m 168 |[39m     [36mconst[39m itemsPerPageSelect [33m=[39m screen[33m.[39mgetByTestId([32m'items-per-page-select'[39m)[33m;[39m
     [90m     |[39m                                       [31m[1m^[22m[39m
     [90m 169 |[39m     expect(itemsPerPageSelect)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 170 |[39m     
     [90m 171 |[39m     [90m// Change the selection[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:168:39)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ handles empty pages gracefully

    TestingLibraryElementError: Unable to find an element by: [data-testid="pagination-status"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 194 |[39m     
     [90m 195 |[39m     [90m// Pagination status should indicate no results[39m
    [31m[1m>[22m[39m[90m 196 |[39m     [36mconst[39m paginationStatus [33m=[39m screen[33m.[39mgetByTestId([32m'pagination-status'[39m)[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 197 |[39m     expect(paginationStatus)[33m.[39mtoHaveTextContent([32m'Showing 0 to 0 of 0 categories'[39m)[33m;[39m
     [90m 198 |[39m     
     [90m 199 |[39m     [90m// Page navigation buttons should be disabled[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:196:37)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ calls confirmDelete when delete button is clicked

    TestingLibraryElementError: Unable to find an element by: [data-testid="delete-button-category_1"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 217 |[39m     
     [90m 218 |[39m     [90m// Find the delete button for the first category[39m
    [31m[1m>[22m[39m[90m 219 |[39m     [36mconst[39m deleteButton [33m=[39m screen[33m.[39mgetAllByTestId([32m'delete-button-category_1'[39m)[[35m0[39m][33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 220 |[39m     expect(deleteButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 221 |[39m     
     [90m 222 |[39m     [90m// Click the delete button[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.getAllByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:219:33)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ renders the delete confirmation modal correctly

    TestingLibraryElementError: Unable to find an element by: [data-testid="delete-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 236 |[39m     
     [90m 237 |[39m     [90m// Modal should be visible[39m
    [31m[1m>[22m[39m[90m 238 |[39m     [36mconst[39m modal [33m=[39m screen[33m.[39mgetByTestId([32m'delete-modal'[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 239 |[39m     expect(modal)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 240 |[39m     
     [90m 241 |[39m     [90m// Modal should have correct title[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:238:26)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ calls handleDelete when delete is confirmed

    TestingLibraryElementError: Unable to find an element by: [data-testid="confirm-delete-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 268 |[39m     
     [90m 269 |[39m     [90m// Find and click confirm button[39m
    [31m[1m>[22m[39m[90m 270 |[39m     [36mconst[39m confirmButton [33m=[39m screen[33m.[39mgetByTestId([32m'confirm-delete-button'[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 271 |[39m     [36mawait[39m user[33m.[39mclick(confirmButton)[33m;[39m
     [90m 272 |[39m     
     [90m 273 |[39m     [90m// Verify handleDelete was called with the right category ID[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:270:34)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ calls cancelDelete when delete is cancelled

    TestingLibraryElementError: Unable to find an element by: [data-testid="cancel-delete-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 288 |[39m     
     [90m 289 |[39m     [90m// Find and click cancel button[39m
    [31m[1m>[22m[39m[90m 290 |[39m     [36mconst[39m cancelButton [33m=[39m screen[33m.[39mgetByTestId([32m'cancel-delete-button'[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 291 |[39m     [36mawait[39m user[33m.[39mclick(cancelButton)[33m;[39m
     [90m 292 |[39m     
     [90m 293 |[39m     [90m// Verify cancelDelete was called[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:290:33)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ closes the modal when escape key is pressed

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    [0m [90m 311 |[39m     
     [90m 312 |[39m     [90m// Verify cancelDelete was called[39m
    [31m[1m>[22m[39m[90m 313 |[39m     expect(mockCancelDelete)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 314 |[39m   })[33m;[39m
     [90m 315 |[39m
     [90m 316 |[39m   it([32m'handles deletion of the last item on a page'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toHaveBeenCalledTimes (tests/admin/categories/CategoryTable.pagination.test.tsx:313:30)

  ‚óè CategoryTable Pagination and Deletion ‚Ä∫ handles deletion of the last item on a page

    TestingLibraryElementError: Unable to find an element by: [data-testid="confirm-delete-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 359 |[39m     
     [90m 360 |[39m     [90m// Find and click confirm button[39m
    [31m[1m>[22m[39m[90m 361 |[39m     [36mconst[39m confirmButton [33m=[39m screen[33m.[39mgetByTestId([32m'confirm-delete-button'[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 362 |[39m     [36mawait[39m user[33m.[39mclick(confirmButton)[33m;[39m
     [90m 363 |[39m     
     [90m 364 |[39m     [90m// Verify handleDelete was called[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.pagination.test.tsx:361:34)

FAIL tests/admin/categories/CategoryTable.hierarchy.test.tsx
  ‚óè CategoryTable Hierarchy View ‚Ä∫ initially renders in flat view mode (non-hierarchical)

    TestingLibraryElementError: Unable to find an accessible element with the role "row"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 31 |[39m     
     [90m 32 |[39m     [90m// In flat view, all categories should be rendered at the same level[39m
    [31m[1m>[22m[39m[90m 33 |[39m     [36mconst[39m rows [33m=[39m screen[33m.[39mgetAllByRole([32m'row'[39m)[33m;[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 34 |[39m     [90m// The first row is the header row[39m
     [90m 35 |[39m     expect(rows[33m.[39mlength)[33m.[39mtoBe(mockHierarchicalCategories[33m.[39mlength [33m+[39m [35m1[39m)[33m;[39m
     [90m 36 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.getAllByRole (tests/admin/categories/CategoryTable.hierarchy.test.tsx:33:25)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ switches to hierarchy view mode when toggleHierarchy is called

    TestingLibraryElementError: Unable to find an element by: [data-testid="toggle-hierarchy-button"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 63 |[39m     
     [90m 64 |[39m     [90m// Find the toggle button for hierarchy view[39m
    [31m[1m>[22m[39m[90m 65 |[39m     [36mconst[39m toggleButton [33m=[39m screen[33m.[39mgetByTestId([32m'toggle-hierarchy-button'[39m)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 66 |[39m     expect(toggleButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 67 |[39m     
     [90m 68 |[39m     [90m// Click the toggle button[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.hierarchy.test.tsx:65:33)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ renders categories hierarchically when in hierarchy mode

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:94:11)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ renders children categories with proper indentation

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:125:11)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ renders the correct visual hierarchy indicators

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:162:11)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ correctly handles deeply nested category hierarchies

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:213:11)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ handles null or undefined parentId values gracefully

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:272:11)

  ‚óè CategoryTable Hierarchy View ‚Ä∫ maintains sort order within each level of the hierarchy

    Should have a queue. This is likely a bug in React. Please file an issue.

    [0m [90m 34 |[39m   [90m// State for dialog[39m
     [90m 35 |[39m   [36mconst[39m [isDeleteModalOpen[33m,[39m setIsDeleteModalOpen] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 36 |[39m   [36mconst[39m [categoryToDelete[33m,[39m setCategoryToDelete] [33m=[39m useState[33m<[39m{ id[33m:[39m string[33m;[39m name[33m:[39m string } [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m    |[39m                                                           [31m[1m^[22m[39m
     [90m 37 |[39m
     [90m 38 |[39m   [90m// Fetch categories data[39m
     [90m 39 |[39m   [36mconst[39m fetchCategories [33m=[39m useCallback([36masync[39m () [33m=>[39m {[0m

      at updateReducer (node_modules/react-dom/cjs/react-dom.development.js:15753:11)
      at updateState (node_modules/react-dom/cjs/react-dom.development.js:16185:10)
      at Object.useState (node_modules/react-dom/cjs/react-dom.development.js:17096:16)
      at useState (node_modules/react/cjs/react.development.js:1622:21)
      at useCategories (src/components/admin/categories/hooks/useCategories.ts:36:59)
      at CategoryTable (src/components/admin/categories/CategoryTable.tsx:55:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/categories/CategoryTable.hierarchy.test.tsx:348:11)

FAIL tests/admin/listings/ListingTableHeader.test.tsx
  ‚óè ListingTableHeader Component ‚Ä∫ renders category filter dropdown with correct options

    expect(received).toBe(expected) // Object.is equality

    Expected: 3
    Received: 6

    [0m [90m 87 |[39m     
     [90m 88 |[39m     [36mconst[39m options [33m=[39m screen[33m.[39mgetAllByRole([32m'option'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 89 |[39m     expect(options[33m.[39mlength)[33m.[39mtoBe(mockCategories[33m.[39mlength [33m+[39m [35m1[39m)[33m;[39m [90m// +1 for the "All Categories" option[39m
     [90m    |[39m                            [31m[1m^[22m[39m
     [90m 90 |[39m     expect(options[[35m0[39m])[33m.[39mtoHaveTextContent([32m'All Categories'[39m)[33m;[39m
     [90m 91 |[39m     expect(options[[35m1[39m])[33m.[39mtoHaveTextContent([32m'Category 1'[39m)[33m;[39m
     [90m 92 |[39m     expect(options[[35m2[39m])[33m.[39mtoHaveTextContent([32m'Category 2'[39m)[33m;[39m[0m

      at Object.toBe (tests/admin/listings/ListingTableHeader.test.tsx:89:28)

  ‚óè ListingTableHeader Component ‚Ä∫ renders site filter dropdown only in multi-site mode

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <select aria-label="Filter by site" class="w-full py-2 border rounded focus:ring-blue-500 focus:border-blue-500"><option value="">All Sites</option><option value="site_1">Site 1</option><option value="site_2">Site 2</option></select> instead

    [0m [90m 112 |[39m     render([33m<[39m[33mListingTableHeader[39m {[33m...[39mdefaultProps} siteSlug[33m=[39m[32m"test-site"[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 113 |[39m     
    [31m[1m>[22m[39m[90m 114 |[39m     expect(screen[33m.[39mqueryByRole([32m'combobox'[39m[33m,[39m { name[33m:[39m [32m'Filter by site'[39m }))[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                                                                            [31m[1m^[22m[39m
     [90m 115 |[39m   })[33m;[39m
     [90m 116 |[39m   
     [90m 117 |[39m   it([32m'uses responsive layout for filter controls'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toBeInTheDocument (tests/admin/listings/ListingTableHeader.test.tsx:114:76)

FAIL tests/integration/performance/large-dataset.test.ts
  ‚óè Large Dataset Handling ‚Ä∫ API Response Pagination ‚Ä∫ should return paginated results for listings

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 225 |[39m       
     [90m 226 |[39m       [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 227 |[39m       expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 228 |[39m       
     [90m 229 |[39m       [90m// Parse the response[39m
     [90m 230 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/performance/large-dataset.test.ts:227:31)

  ‚óè Large Dataset Handling ‚Ä∫ API Response Pagination ‚Ä∫ should navigate through pages correctly

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 277 |[39m       
     [90m 278 |[39m       [90m// Both responses should be successful[39m
    [31m[1m>[22m[39m[90m 279 |[39m       expect(response1[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 280 |[39m       expect(response2[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m 281 |[39m       
     [90m 282 |[39m       [90m// Verify pagination metadata[39m[0m

      at Object.toBe (tests/integration/performance/large-dataset.test.ts:279:32)

  ‚óè Large Dataset Handling ‚Ä∫ API Response Pagination ‚Ä∫ should handle invalid pagination parameters gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 323 |[39m         
     [90m 324 |[39m         [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 325 |[39m         expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 326 |[39m         
     [90m 327 |[39m         [90m// Parse the response[39m
     [90m 328 |[39m         [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/performance/large-dataset.test.ts:325:33)

  ‚óè Large Dataset Handling ‚Ä∫ Memory Usage Optimization ‚Ä∫ should maintain reasonable memory usage with large datasets

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 372 |[39m       
     [90m 373 |[39m       [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 374 |[39m       expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 375 |[39m       
     [90m 376 |[39m       [90m// Parse the response[39m
     [90m 377 |[39m       [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/performance/large-dataset.test.ts:374:31)

  ‚óè Large Dataset Handling ‚Ä∫ Data Consistency ‚Ä∫ should maintain data consistency across paginated results

    TypeError: Cannot read properties of undefined (reading 'totalResults')

    [0m [90m 502 |[39m       [90m// Get all listings using pagination[39m
     [90m 503 |[39m       [36mconst[39m pageSize [33m=[39m [35m10[39m[33m;[39m
    [31m[1m>[22m[39m[90m 504 |[39m       [36mconst[39m totalPages [33m=[39m [33mMath[39m[33m.[39mceil(allListingsData[33m.[39mpagination[33m.[39mtotalResults [33m/[39m pageSize)[33m;[39m
     [90m     |[39m                                                               [31m[1m^[22m[39m
     [90m 505 |[39m       
     [90m 506 |[39m       [36mlet[39m paginatedListings[33m:[39m any[] [33m=[39m [][33m;[39m
     [90m 507 |[39m       [0m

      at Object.totalResults (tests/integration/performance/large-dataset.test.ts:504:63)

  ‚óè Large Dataset Handling ‚Ä∫ Search Performance with Large Datasets ‚Ä∫ should efficiently handle search queries on large datasets

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

    [0m [90m 582 |[39m       
     [90m 583 |[39m       [90m// Search should return results[39m
    [31m[1m>[22m[39m[90m 584 |[39m       expect(data[33m.[39mresults[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 585 |[39m       
     [90m 586 |[39m       [90m// Search should limit results properly[39m
     [90m 587 |[39m       expect(data[33m.[39mresults[33m.[39mlength)[33m.[39mtoBeLessThanOrEqual([35m20[39m)[33m;[39m[0m

      at Object.toBeGreaterThan (tests/integration/performance/large-dataset.test.ts:584:35)

FAIL tests/admin/sites/DomainManager.submission.test.tsx
  ‚óè DomainManager Submission ‚Ä∫ submits the form with valid data

    TestingLibraryElementError: Unable to find a label with the text of: /name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mCreate[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-500 italic"[39m
                [36m>[39m
                  [0mNo domains added yet[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mCreate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 34 |[39m     
     [90m 35 |[39m     [90m// Fill in form with valid data[39m
    [31m[1m>[22m[39m[90m 36 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'Test Site'[39m)[33m;[39m
     [90m    |[39m                            [31m[1m^[22m[39m
     [90m 37 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/slug/i[39m)[33m,[39m [32m'test-site'[39m)[33m;[39m
     [90m 38 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/description/i[39m)[33m,[39m [32m'This is a test site'[39m)[33m;[39m
     [90m 39 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'test.com'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/sites/DomainManager.submission.test.tsx:36:28)

  ‚óè DomainManager Submission ‚Ä∫ handles API errors

    TestingLibraryElementError: Unable to find a label with the text of: /name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mCreate[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-500 italic"[39m
                [36m>[39m
                  [0mNo domains added yet[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mCreate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 88 |[39m     
     [90m 89 |[39m     [90m// Fill in form with valid data[39m
    [31m[1m>[22m[39m[90m 90 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'Test Site'[39m)[33m;[39m
     [90m    |[39m                            [31m[1m^[22m[39m
     [90m 91 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/slug/i[39m)[33m,[39m [32m'test-site'[39m)[33m;[39m
     [90m 92 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'test.com'[39m)[33m;[39m
     [90m 93 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByText([35m/\\+ add/i[39m))[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/sites/DomainManager.submission.test.tsx:90:28)

  ‚óè DomainManager Submission ‚Ä∫ uses PUT for edit mode and correct endpoint

    TestingLibraryElementError: Unable to find a label with the text of: /name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mEdit[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<ul[39m
                  [33mclass[39m=[32m"mb-4 border rounded divide-y"[39m
                [36m>[39m
                  [36m<li[39m
                    [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mdata-testid[39m=[32m"domainManager-domain-0"[39m
                    [36m>[39m
                      [0minitial.com[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Remove domain initial.com"[39m
                      [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                      [33mdata-testid[39m=[32m"domainManager-remove-domain-0"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33mclass[39m=[32m"w-5 h-5"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"sr-only"[39m
                      [36m>[39m
                        [0mRemove[0m
                      [36m</span>[39m
                    [36m</button>[39m
                  [36m</li>[39m
                [36m</ul>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mUpdate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 118 |[39m     
     [90m 119 |[39m     [90m// Update some fields[39m
    [31m[1m>[22m[39m[90m 120 |[39m     [36mawait[39m user[33m.[39mclear(screen[33m.[39mgetByLabelText([35m/name/i[39m))[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 121 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'Updated Name'[39m)[33m;[39m
     [90m 122 |[39m     
     [90m 123 |[39m     [90m// Submit the form[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/sites/DomainManager.submission.test.tsx:120:29)

  ‚óè DomainManager Submission ‚Ä∫ handles network errors during submission

    TestingLibraryElementError: Unable to find a label with the text of: /name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mCreate[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-500 italic"[39m
                [36m>[39m
                  [0mNo domains added yet[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mCreate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 146 |[39m     
     [90m 147 |[39m     [90m// Fill in form with valid data[39m
    [31m[1m>[22m[39m[90m 148 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'Test Site'[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 149 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/slug/i[39m)[33m,[39m [32m'test-site'[39m)[33m;[39m
     [90m 150 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'test.com'[39m)[33m;[39m
     [90m 151 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByText([35m/\\+ add/i[39m))[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/sites/DomainManager.submission.test.tsx:148:28)

  ‚óè DomainManager Submission ‚Ä∫ shows loading state during submission

    TestingLibraryElementError: Unable to find a label with the text of: /name/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mCreate[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-500 italic"[39m
                [36m>[39m
                  [0mNo domains added yet[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mCreate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 176 |[39m     
     [90m 177 |[39m     [90m// Fill in form with valid data[39m
    [31m[1m>[22m[39m[90m 178 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/name/i[39m)[33m,[39m [32m'Test Site'[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 179 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByLabelText([35m/slug/i[39m)[33m,[39m [32m'test-site'[39m)[33m;[39m
     [90m 180 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByPlaceholderText([35m/enter domain/i[39m)[33m,[39m [32m'test.com'[39m)[33m;[39m
     [90m 181 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByText([35m/\\+ add/i[39m))[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (tests/admin/sites/DomainManager.submission.test.tsx:178:28)

FAIL tests/admin/sites/DomainManager.validation.test.tsx
  ‚óè DomainManager Validation ‚Ä∫ validates required fields and shows error messages

    invariant expected app router to be mounted

    [0m [90m 48 |[39m   apiEndpoint [33m=[39m [32m'/api/domain-manager'[39m
     [90m 49 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 50 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m   
     [90m 52 |[39m   [90m// Initialize domains hook with initial data[39m
     [90m 53 |[39m   [36mconst[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at DomainManager (src/components/admin/sites/DomainManager.tsx:50:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:9:11)

  ‚óè DomainManager Validation ‚Ä∫ validates field formats with appropriate error messages

    invariant expected app router to be mounted

    [0m [90m 48 |[39m   apiEndpoint [33m=[39m [32m'/api/domain-manager'[39m
     [90m 49 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 50 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m   
     [90m 52 |[39m   [90m// Initialize domains hook with initial data[39m
     [90m 53 |[39m   [36mconst[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at DomainManager (src/components/admin/sites/DomainManager.tsx:50:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:23:11)

  ‚óè DomainManager Validation ‚Ä∫ validates domain format

    invariant expected app router to be mounted

    [0m [90m 48 |[39m   apiEndpoint [33m=[39m [32m'/api/domain-manager'[39m
     [90m 49 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 50 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m   
     [90m 52 |[39m   [90m// Initialize domains hook with initial data[39m
     [90m 53 |[39m   [36mconst[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at DomainManager (src/components/admin/sites/DomainManager.tsx:50:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:41:11)

  ‚óè DomainManager Validation ‚Ä∫ prevents adding duplicate domains

    invariant expected app router to be mounted

    [0m [90m 48 |[39m   apiEndpoint [33m=[39m [32m'/api/domain-manager'[39m
     [90m 49 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 50 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m   
     [90m 52 |[39m   [90m// Initialize domains hook with initial data[39m
     [90m 53 |[39m   [36mconst[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at DomainManager (src/components/admin/sites/DomainManager.tsx:50:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:62:11)

  ‚óè DomainManager Validation ‚Ä∫ clears field errors when values are changed

    invariant expected app router to be mounted

    [0m [90m 48 |[39m   apiEndpoint [33m=[39m [32m'/api/domain-manager'[39m
     [90m 49 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 50 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m   
     [90m 52 |[39m   [90m// Initialize domains hook with initial data[39m
     [90m 53 |[39m   [36mconst[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at DomainManager (src/components/admin/sites/DomainManager.tsx:50:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/DomainManager.validation.test.tsx:78:11)

FAIL tests/admin/categories/CategoryTable.accessibility.test.tsx
  ‚óè CategoryTable Accessibility ‚Ä∫ has proper ARIA roles for table structure

    TestingLibraryElementError: Unable to find an accessible element with the role "table"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 25 |[39m     
     [90m 26 |[39m     [90m// Table should have correct semantic structure[39m
    [31m[1m>[22m[39m[90m 27 |[39m     [36mconst[39m table [33m=[39m screen[33m.[39mgetByRole([32m'table'[39m)[33m;[39m
     [90m    |[39m                          [31m[1m^[22m[39m
     [90m 28 |[39m     expect(table)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 29 |[39m     
     [90m 30 |[39m     [90m// Check for column headers[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/admin/categories/CategoryTable.accessibility.test.tsx:27:26)

  ‚óè CategoryTable Accessibility ‚Ä∫ includes appropriate ARIA attributes for sorting

    TestingLibraryElementError: Unable to find an element by: [data-testid="sort-header-name"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 58 |[39m     
     [90m 59 |[39m     [90m// Find sortable column headers[39m
    [31m[1m>[22m[39m[90m 60 |[39m     [36mconst[39m nameHeader [33m=[39m screen[33m.[39mgetByTestId([32m'sort-header-name'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 61 |[39m     expect(nameHeader)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 62 |[39m     
     [90m 63 |[39m     [90m// The currently sorted column should have aria-sort attribute[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:60:31)

  ‚óè CategoryTable Accessibility ‚Ä∫ provides accessible labels for interactive elements

    TestingLibraryElementError: Unable to find an element by: [data-testid="search-input"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 86 |[39m     
     [90m 87 |[39m     [90m// Search input should have accessible label[39m
    [31m[1m>[22m[39m[90m 88 |[39m     [36mconst[39m searchInput [33m=[39m screen[33m.[39mgetByTestId([32m'search-input'[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 89 |[39m     expect(searchInput)[33m.[39mtoHaveAttribute([32m'aria-label'[39m[33m,[39m [32m'Search categories'[39m)[33m;[39m
     [90m 90 |[39m     
     [90m 91 |[39m     [90m// Filter dropdowns should have accessible labels[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:88:32)

  ‚óè CategoryTable Accessibility ‚Ä∫ supports keyboard navigation for interactive elements

    TestingLibraryElementError: Unable to find an element by: [data-testid="search-input"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 111 |[39m     [90m// Tab to first interactive element (should be the search input)[39m
     [90m 112 |[39m     [36mawait[39m user[33m.[39mtab()[33m;[39m
    [31m[1m>[22m[39m[90m 113 |[39m     expect(document[33m.[39mactiveElement)[33m.[39mtoBe(screen[33m.[39mgetByTestId([32m'search-input'[39m))[33m;[39m
     [90m     |[39m                                                [31m[1m^[22m[39m
     [90m 114 |[39m     
     [90m 115 |[39m     [90m// Tab to the clear search button[39m
     [90m 116 |[39m     [36mawait[39m user[33m.[39mtab()[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:113:48)

  ‚óè CategoryTable Accessibility ‚Ä∫ provides ARIA live regions for dynamic content changes

    TestingLibraryElementError: Unable to find an element by: [data-testid="loading-status"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 164 |[39m     rerender([33m<[39m[33mCategoryTable[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 165 |[39m     
    [31m[1m>[22m[39m[90m 166 |[39m     [36mconst[39m loadingStatus [33m=[39m screen[33m.[39mgetByTestId([32m'loading-status'[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 167 |[39m     expect(loadingStatus)[33m.[39mtoHaveAttribute([32m'role'[39m[33m,[39m [32m'status'[39m)[33m;[39m
     [90m 168 |[39m     
     [90m 169 |[39m     [90m// Error state should have role="alert"[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:166:34)

  ‚óè CategoryTable Accessibility ‚Ä∫ has proper focus management for the delete modal

    TestingLibraryElementError: Unable to find an element by: [data-testid="delete-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 192 |[39m     
     [90m 193 |[39m     [90m// Modal should be visible[39m
    [31m[1m>[22m[39m[90m 194 |[39m     [36mconst[39m modal [33m=[39m screen[33m.[39mgetByTestId([32m'delete-modal'[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 195 |[39m     expect(modal)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 196 |[39m     
     [90m 197 |[39m     [90m// Cancel button should have initial focus[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:194:26)

  ‚óè CategoryTable Accessibility ‚Ä∫ provides appropriate keyboard shortcuts for common actions

    TestingLibraryElementError: Unable to find an element by: [data-testid="search-input"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 232 |[39m     
     [90m 233 |[39m     [90m// Focus the search input[39m
    [31m[1m>[22m[39m[90m 234 |[39m     [36mconst[39m searchInput [33m=[39m screen[33m.[39mgetByTestId([32m'search-input'[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 235 |[39m     searchInput[33m.[39mfocus()[33m;[39m
     [90m 236 |[39m     
     [90m 237 |[39m     [90m// Type something in the search[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:234:32)

  ‚óè CategoryTable Accessibility ‚Ä∫ ensures that delete confirmation dialog is accessible

    TestingLibraryElementError: Unable to find an element by: [data-testid="delete-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 278 |[39m     
     [90m 279 |[39m     [90m// Modal should be accessible[39m
    [31m[1m>[22m[39m[90m 280 |[39m     [36mconst[39m modal [33m=[39m screen[33m.[39mgetByTestId([32m'delete-modal'[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 281 |[39m     
     [90m 282 |[39m     [90m// Modal should have proper ARIA attributes[39m
     [90m 283 |[39m     expect(modal)[33m.[39mtoHaveAttribute([32m'role'[39m[33m,[39m [32m'dialog'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:280:26)

  ‚óè CategoryTable Accessibility ‚Ä∫ responds to Escape key to cancel delete modal

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    [0m [90m 336 |[39m     
     [90m 337 |[39m     [90m// Should call cancelDelete[39m
    [31m[1m>[22m[39m[90m 338 |[39m     expect(mockCancelDelete)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 339 |[39m   })[33m;[39m
     [90m 340 |[39m   
     [90m 341 |[39m   it([32m'includes skip links for keyboard users'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toHaveBeenCalledTimes (tests/admin/categories/CategoryTable.accessibility.test.tsx:338:30)

  ‚óè CategoryTable Accessibility ‚Ä∫ includes skip links for keyboard users

    TestingLibraryElementError: Unable to find an element by: [data-testid="skip-to-content-link"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 346 |[39m     
     [90m 347 |[39m     [90m// Check for the skip to main content link[39m
    [31m[1m>[22m[39m[90m 348 |[39m     [36mconst[39m skipLink [33m=[39m screen[33m.[39mgetByTestId([32m'skip-to-content-link'[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 349 |[39m     expect(skipLink)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 350 |[39m     expect(skipLink)[33m.[39mtoHaveAttribute([32m'href'[39m[33m,[39m [32m'#main-table-content'[39m)[33m;[39m
     [90m 351 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/categories/CategoryTable.accessibility.test.tsx:348:29)

  ‚óè CategoryTable Accessibility ‚Ä∫ ensures all interactive elements have sufficient contrast

    TestingLibraryElementError: Unable to find an accessible element with the role "cell"

    Here are the accessible roles:

      alert:

      Name "":
      [36m<div[39m
        [33maria-live[39m=[32m"assertive"[39m
        [33mclass[39m=[32m"w-full p-4 text-center"[39m
        [33mdata-testid[39m=[32m"error-container"[39m
        [33mrole[39m=[32m"alert"[39m
      [36m/>[39m

      --------------------------------------------------
      heading:

      Name "Error Loading Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
        [33mdata-testid[39m=[32m"error-title"[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-red-600 mb-4"[39m
        [33mdata-testid[39m=[32m"error-message"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "Retry loading categories":
      [36m<button[39m
        [33maria-label[39m=[32m"Retry loading categories"[39m
        [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
        [33mdata-testid[39m=[32m"retry-button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-live[39m=[32m"assertive"[39m
          [33mclass[39m=[32m"w-full p-4 text-center"[39m
          [33mdata-testid[39m=[32m"error-container"[39m
          [33mrole[39m=[32m"alert"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 rounded-lg p-6"[39m
            [33mdata-testid[39m=[32m"error-box"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xl font-medium text-red-800 mb-2"[39m
              [33mdata-testid[39m=[32m"error-title"[39m
            [36m>[39m
              [0mError Loading Categories[0m
            [36m</h3>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-red-600 mb-4"[39m
              [33mdata-testid[39m=[32m"error-message"[39m
            [36m>[39m
              [0mfetch is not defined[0m
            [36m</p>[39m
            [36m<button[39m
              [33maria-label[39m=[32m"Retry loading categories"[39m
              [33mclass[39m=[32m"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"[39m
              [33mdata-testid[39m=[32m"retry-button"[39m
            [36m>[39m
              [0mTry Again[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 387 |[39m     
     [90m 388 |[39m     [90m// Check that table cells have proper contrast[39m
    [31m[1m>[22m[39m[90m 389 |[39m     [36mconst[39m cells [33m=[39m screen[33m.[39mgetAllByRole([32m'cell'[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 390 |[39m     cells[33m.[39mforEach(cell [33m=>[39m {
     [90m 391 |[39m       [90m// Dark text on light background[39m
     [90m 392 |[39m       expect(cell)[33m.[39mtoHaveClass([32m'text-gray-900'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.getAllByRole (tests/admin/categories/CategoryTable.accessibility.test.tsx:389:26)

FAIL tests/integration/multitenancy/cross-site-isolation.test.ts
  ‚óè Cross-Site Data Isolation ‚Ä∫ should maintain data isolation between sites when retrieving listings

    ReferenceError: searchIndexer is not defined

    [0m [90m 62 |[39m     
     [90m 63 |[39m     [90m// Clear the search index[39m
    [31m[1m>[22m[39m[90m 64 |[39m     (searchIndexer [36mas[39m any)[33m.[39mclearIndex()[33m;[39m
     [90m    |[39m      [31m[1m^[22m[39m
     [90m 65 |[39m     
     [90m 66 |[39m     [90m// Index test listings[39m
     [90m 67 |[39m     [36mfor[39m ([36mconst[39m listing [36mof[39m listings) {[0m

      at Object.searchIndexer (tests/integration/multitenancy/cross-site-isolation.test.ts:64:6)

  ‚óè Cross-Site Data Isolation ‚Ä∫ should maintain data isolation between sites when retrieving categories

    ReferenceError: searchIndexer is not defined

    [0m [90m 62 |[39m     
     [90m 63 |[39m     [90m// Clear the search index[39m
    [31m[1m>[22m[39m[90m 64 |[39m     (searchIndexer [36mas[39m any)[33m.[39mclearIndex()[33m;[39m
     [90m    |[39m      [31m[1m^[22m[39m
     [90m 65 |[39m     
     [90m 66 |[39m     [90m// Index test listings[39m
     [90m 67 |[39m     [36mfor[39m ([36mconst[39m listing [36mof[39m listings) {[0m

      at Object.searchIndexer (tests/integration/multitenancy/cross-site-isolation.test.ts:64:6)

  ‚óè Cross-Site Data Isolation ‚Ä∫ should filter search results by site

    ReferenceError: searchIndexer is not defined

    [0m [90m 62 |[39m     
     [90m 63 |[39m     [90m// Clear the search index[39m
    [31m[1m>[22m[39m[90m 64 |[39m     (searchIndexer [36mas[39m any)[33m.[39mclearIndex()[33m;[39m
     [90m    |[39m      [31m[1m^[22m[39m
     [90m 65 |[39m     
     [90m 66 |[39m     [90m// Index test listings[39m
     [90m 67 |[39m     [36mfor[39m ([36mconst[39m listing [36mof[39m listings) {[0m

      at Object.searchIndexer (tests/integration/multitenancy/cross-site-isolation.test.ts:64:6)

  ‚óè Cross-Site Data Isolation ‚Ä∫ should resolve site identity correctly based on hostname

    ReferenceError: searchIndexer is not defined

    [0m [90m 62 |[39m     
     [90m 63 |[39m     [90m// Clear the search index[39m
    [31m[1m>[22m[39m[90m 64 |[39m     (searchIndexer [36mas[39m any)[33m.[39mclearIndex()[33m;[39m
     [90m    |[39m      [31m[1m^[22m[39m
     [90m 65 |[39m     
     [90m 66 |[39m     [90m// Index test listings[39m
     [90m 67 |[39m     [36mfor[39m ([36mconst[39m listing [36mof[39m listings) {[0m

      at Object.searchIndexer (tests/integration/multitenancy/cross-site-isolation.test.ts:64:6)


  ‚óè Test suite failed to run

    ReferenceError: searchIndexer is not defined

    [0m [90m 74 |[39m     [36mawait[39m clearTestData()[33m;[39m
     [90m 75 |[39m     [90m// Clear the search index[39m
    [31m[1m>[22m[39m[90m 76 |[39m     (searchIndexer [36mas[39m any)[33m.[39mclearIndex()[33m;[39m
     [90m    |[39m      [31m[1m^[22m[39m
     [90m 77 |[39m   })[33m;[39m
     [90m 78 |[39m   
     [90m 79 |[39m   it([32m'should maintain data isolation between sites when retrieving listings'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.searchIndexer (tests/integration/multitenancy/cross-site-isolation.test.ts:76:6)

FAIL tests/api/auth/verify.test.ts
  ‚óè Auth Verification API ‚Ä∫ should reject requests without required fields

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 403

    [0m [90m 125 |[39m     
     [90m 126 |[39m     [90m// Verify response is bad request[39m
    [31m[1m>[22m[39m[90m 127 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m400[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 128 |[39m     
     [90m 129 |[39m     [90m// Parse the response[39m
     [90m 130 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:127:29)

  ‚óè Auth Verification API ‚Ä∫ should reject requests for non-existent users

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 403

    [0m [90m 150 |[39m     
     [90m 151 |[39m     [90m// Verify response is unauthorized[39m
    [31m[1m>[22m[39m[90m 152 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m401[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 153 |[39m     
     [90m 154 |[39m     [90m// Parse the response[39m
     [90m 155 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:152:29)

  ‚óè Auth Verification API ‚Ä∫ should reject verification for locked users

    expect(received).toContain(expected) // indexOf

    Expected substring: "Account locked"
    Received string:    "Missing CSRF token"

    [0m [90m 182 |[39m     [90m// Verify the error message[39m
     [90m 183 |[39m     expect(data)[33m.[39mtoHaveProperty([32m'error'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 184 |[39m     expect(data[33m.[39merror)[33m.[39mtoContain([32m'Account locked'[39m)[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 185 |[39m   })[33m;[39m
     [90m 186 |[39m
     [90m 187 |[39m   it([32m'should reject invalid proofs'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toContain (tests/api/auth/verify.test.ts:184:24)

  ‚óè Auth Verification API ‚Ä∫ should reject invalid proofs

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 403

    [0m [90m 203 |[39m     
     [90m 204 |[39m     [90m// Verify response is unauthorized[39m
    [31m[1m>[22m[39m[90m 205 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m401[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 206 |[39m     
     [90m 207 |[39m     [90m// Parse the response[39m
     [90m 208 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:205:29)

  ‚óè Auth Verification API ‚Ä∫ should verify valid credentials and return a token

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 231 |[39m     
     [90m 232 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 233 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 234 |[39m     
     [90m 235 |[39m     [90m// Parse the response[39m
     [90m 236 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:233:29)

  ‚óè Auth Verification API ‚Ä∫ should handle rate limiting for too many failed attempts

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 403

    [0m [90m 280 |[39m     
     [90m 281 |[39m     [90m// Verify response is rate limited[39m
    [31m[1m>[22m[39m[90m 282 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m429[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 283 |[39m     
     [90m 284 |[39m     [90m// Parse the response[39m
     [90m 285 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:282:29)

  ‚óè Auth Verification API ‚Ä∫ should handle ZKP verification errors gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 429

    [0m [90m 340 |[39m     
     [90m 341 |[39m     [90m// Verify response is server error[39m
    [31m[1m>[22m[39m[90m 342 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m500[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 343 |[39m     
     [90m 344 |[39m     [90m// Parse the response[39m
     [90m 345 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/api/auth/verify.test.ts:342:29)

FAIL tests/integration/user-flows/auth.test.ts
  ‚óè Authentication and Authorization ‚Ä∫ should reject requests without API key

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 503

    [0m [90m 123 |[39m     
     [90m 124 |[39m     [90m// Verify response is unauthorized[39m
    [31m[1m>[22m[39m[90m 125 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m401[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 126 |[39m     
     [90m 127 |[39m     [90m// Parse the response[39m
     [90m 128 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/auth.test.ts:125:29)

  ‚óè Authentication and Authorization ‚Ä∫ should accept requests with valid API key

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 503

    [0m [90m 165 |[39m     
     [90m 166 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 167 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 168 |[39m     
     [90m 169 |[39m     [90m// Parse the response[39m
     [90m 170 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/auth.test.ts:167:29)

  ‚óè Authentication and Authorization ‚Ä∫ should reject requests with insufficient permissions

    expect(received).toBe(expected) // Object.is equality

    Expected: 403
    Received: 503

    [0m [90m 207 |[39m     
     [90m 208 |[39m     [90m// Verify response is forbidden[39m
    [31m[1m>[22m[39m[90m 209 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m403[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 210 |[39m     
     [90m 211 |[39m     [90m// Parse the response[39m
     [90m 212 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/auth.test.ts:209:29)

FAIL tests/integration/user-flows/error-handling.test.ts
  ‚óè API Error Handling ‚Ä∫ should handle non-existent site gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: 404
    Received: 503

    [0m [90m 70 |[39m     
     [90m 71 |[39m     [90m// Verify response is a 404[39m
    [31m[1m>[22m[39m[90m 72 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m404[39m)[33m;[39m
     [90m    |[39m                             [31m[1m^[22m[39m
     [90m 73 |[39m     
     [90m 74 |[39m     [90m// Parse the response[39m
     [90m 75 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/error-handling.test.ts:72:29)

  ‚óè API Error Handling ‚Ä∫ should handle validation errors when creating a listing

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 503

    [0m [90m 102 |[39m     
     [90m 103 |[39m     [90m// Verify response is a 400 Bad Request[39m
    [31m[1m>[22m[39m[90m 104 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m400[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 105 |[39m     
     [90m 106 |[39m     [90m// Parse the response[39m
     [90m 107 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/error-handling.test.ts:104:29)

  ‚óè API Error Handling ‚Ä∫ should handle Redis errors gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 503

    [0m [90m 130 |[39m     
     [90m 131 |[39m     [90m// Verify response is a 500 Server Error[39m
    [31m[1m>[22m[39m[90m 132 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m500[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 133 |[39m     
     [90m 134 |[39m     [90m// Parse the response[39m
     [90m 135 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/error-handling.test.ts:132:29)


  ‚óè Test suite failed to run

    Redis connection error

    [0m [90m 118 |[39m     [90m// Mock Redis kv.keys to throw an error[39m
     [90m 119 |[39m     [36mconst[39m { kv } [33m=[39m require([32m'../../../src/lib/redis-client'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 120 |[39m     (kv[33m.[39mkeys [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Redis connection error'[39m))[33m;[39m
     [90m     |[39m                                              [31m[1m^[22m[39m
     [90m 121 |[39m     
     [90m 122 |[39m     [90m// Create a request for listings[39m
     [90m 123 |[39m     [36mconst[39m request [33m=[39m createMockRequest([32m`/api/sites/${site.slug}/listings`[39m)[33m;[39m[0m

      at Object.<anonymous> (tests/integration/user-flows/error-handling.test.ts:120:46)

FAIL tests/integration/search/search-indexing.test.ts
  ‚óè Search Indexing and Retrieval ‚Ä∫ should index a listing when created

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

    [0m [90m  98 |[39m     
     [90m  99 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 100 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 101 |[39m     
     [90m 102 |[39m     [90m// Parse the response to get the created listing[39m
     [90m 103 |[39m     [36mconst[39m createdListing [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/search/search-indexing.test.ts:100:29)

  ‚óè Search Indexing and Retrieval ‚Ä∫ should retrieve listings via search API

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 133 |[39m     
     [90m 134 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 135 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 136 |[39m     
     [90m 137 |[39m     [90m// Parse the response[39m
     [90m 138 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/search/search-indexing.test.ts:135:29)

  ‚óè Search Indexing and Retrieval ‚Ä∫ should filter search results by site

    TypeError: Cannot read properties of undefined (reading 'length')

    [0m [90m 183 |[39m     
     [90m 184 |[39m     [90m// Verify results are filtered to site 1[39m
    [31m[1m>[22m[39m[90m 185 |[39m     expect(data1[33m.[39mresults[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m     |[39m                          [31m[1m^[22m[39m
     [90m 186 |[39m     data1[33m.[39mresults[33m.[39mforEach((result[33m:[39m any) [33m=>[39m {
     [90m 187 |[39m       expect(result[33m.[39msiteId)[33m.[39mtoBe(site1[33m.[39mid)[33m;[39m
     [90m 188 |[39m     })[33m;[39m[0m

      at Object.length (tests/integration/search/search-indexing.test.ts:185:26)

  ‚óè Search Indexing and Retrieval ‚Ä∫ should handle search with no results

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 211 |[39m     
     [90m 212 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 213 |[39m     expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 214 |[39m     
     [90m 215 |[39m     [90m// Parse the response[39m
     [90m 216 |[39m     [36mconst[39m data [33m=[39m [36mawait[39m response[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/search/search-indexing.test.ts:213:29)

FAIL tests/integration/user-flows/listing-management.test.ts
  ‚óè Listing Management ‚Ä∫ should create and retrieve a new listing

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

    [0m [90m 64 |[39m     
     [90m 65 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 66 |[39m     expect(createResponse[33m.[39mstatus)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 67 |[39m     
     [90m 68 |[39m     [90m// Parse the response to get the created listing[39m
     [90m 69 |[39m     [36mconst[39m createdListing [33m=[39m [36mawait[39m createResponse[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/listing-management.test.ts:66:35)

  ‚óè Listing Management ‚Ä∫ should filter listings by category

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 111 |[39m     
     [90m 112 |[39m     [90m// Verify get response is successful[39m
    [31m[1m>[22m[39m[90m 113 |[39m     expect(getResponse[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 114 |[39m     
     [90m 115 |[39m     [90m// Parse the response to get filtered listings[39m
     [90m 116 |[39m     [36mconst[39m filteredListings [33m=[39m [36mawait[39m getResponse[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/listing-management.test.ts:113:32)

  ‚óè Listing Management ‚Ä∫ should prevent creation of listings with duplicate slugs

    expect(received).toBe(expected) // Object.is equality

    Expected: 409
    Received: 404

    [0m [90m 155 |[39m     
     [90m 156 |[39m     [90m// Verify response is a conflict (409)[39m
    [31m[1m>[22m[39m[90m 157 |[39m     expect(createResponse[33m.[39mstatus)[33m.[39mtoBe([35m409[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 158 |[39m     
     [90m 159 |[39m     [90m// Parse the response to get the error[39m
     [90m 160 |[39m     [36mconst[39m responseData [33m=[39m [36mawait[39m createResponse[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/listing-management.test.ts:157:35)

  ‚óè Listing Management ‚Ä∫ should verify data integrity across site and category relationships

    TypeError: siteListings.forEach is not a function

    [0m [90m 180 |[39m     
     [90m 181 |[39m     [90m// Verify each listing belongs to a valid category within the site[39m
    [31m[1m>[22m[39m[90m 182 |[39m     siteListings[33m.[39mforEach((listing[33m:[39m [33mListing[39m) [33m=>[39m {
     [90m     |[39m                  [31m[1m^[22m[39m
     [90m 183 |[39m       [90m// Verify listing belongs to this site[39m
     [90m 184 |[39m       expect(listing[33m.[39msiteId)[33m.[39mtoBe(site[33m.[39mid)[33m;[39m
     [90m 185 |[39m       [0m

      at Object.forEach (tests/integration/user-flows/listing-management.test.ts:182:18)

FAIL tests/integration/multitenancy/site-identity.test.ts
  ‚óè Site Identity Resolution ‚Ä∫ should resolve site by hostname

    expect(received).not.toBeNull()

    Received: null

    [0m [90m 25 |[39m     
     [90m 26 |[39m     [90m// Verify the site was resolved correctly[39m
    [31m[1m>[22m[39m[90m 27 |[39m     expect(site)[33m.[39mnot[33m.[39mtoBeNull()[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 28 |[39m     expect(site[33m?[39m[33m.[39mslug)[33m.[39mtoBe([32m'test-fishing'[39m)[33m;[39m
     [90m 29 |[39m     expect(site[33m?[39m[33m.[39mdomain)[33m.[39mtoBe(hostname)[33m;[39m
     [90m 30 |[39m   })[33m;[39m[0m

      at Object.toBeNull (tests/integration/multitenancy/site-identity.test.ts:27:22)

  ‚óè Site Identity Resolution ‚Ä∫ should resolve site via site-info API endpoint

    expect(received).not.toBeNull()

    Received: null

    [0m [90m 49 |[39m     
     [90m 50 |[39m     [90m// Verify the correct site was resolved[39m
    [31m[1m>[22m[39m[90m 51 |[39m     expect(data[33m.[39msite)[33m.[39mnot[33m.[39mtoBeNull()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 52 |[39m     expect(data[33m.[39msite[33m.[39mslug)[33m.[39mtoBe([32m'test-hiking'[39m)[33m;[39m
     [90m 53 |[39m     expect(data[33m.[39msite[33m.[39mdomain)[33m.[39mtoBe(hostname)[33m;[39m
     [90m 54 |[39m   })[33m;[39m[0m

      at Object.toBeNull (tests/integration/multitenancy/site-identity.test.ts:51:27)

  ‚óè Site Identity Resolution ‚Ä∫ should prioritize hostname parameter over host header

    TypeError: Cannot read properties of null (reading 'slug')

    [0m [90m  99 |[39m     
     [90m 100 |[39m     [90m// Verify the correct site was resolved[39m
    [31m[1m>[22m[39m[90m 101 |[39m     expect(data[33m.[39msite[33m.[39mslug)[33m.[39mtoBe([32m'test-hiking'[39m)[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 102 |[39m   })[33m;[39m
     [90m 103 |[39m   
     [90m 104 |[39m   it([32m'should fall back to first site when hostname not recognized'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.slug (tests/integration/multitenancy/site-identity.test.ts:101:22)

  ‚óè Site Identity Resolution ‚Ä∫ should fall back to first site when hostname not recognized

    expect(received).not.toBeNull()

    Received: null

    [0m [90m 119 |[39m     [90m// Verify the fallback mechanism is working[39m
     [90m 120 |[39m     expect(data[33m.[39mrequestedHostname)[33m.[39mtoBe(hostname)[33m;[39m
    [31m[1m>[22m[39m[90m 121 |[39m     expect(data[33m.[39msite)[33m.[39mnot[33m.[39mtoBeNull()[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 122 |[39m     
     [90m 123 |[39m     [90m// It should fall back to the first available site[39m
     [90m 124 |[39m     expect(data[33m.[39msite[33m.[39mslug)[33m.[39mtoBe([32m'test-fishing'[39m)[33m;[39m[0m

      at Object.toBeNull (tests/integration/multitenancy/site-identity.test.ts:121:27)

FAIL tests/admin/auth/RoleAuthorization.test.tsx
  ‚óè Role-Based Authorization ‚Ä∫ correctly assigns permissions for admin role

    invariant expected app router to be mounted

    [0m [90m 57 |[39m   [36mconst[39m [isAuthenticated[33m,[39m setIsAuthenticated] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
     [90m 58 |[39m   [36mconst[39m [isRefreshing[33m,[39m setIsRefreshing] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 59 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 60 |[39m   
     [90m 61 |[39m   [90m// Check token expiration and refresh if needed[39m
     [90m 62 |[39m   [36mconst[39m checkTokenExpiration [33m=[39m [36masync[39m (token[33m:[39m string) [33m=>[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SessionManager (src/components/admin/auth/SessionManager.tsx:59:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:45:11)

  ‚óè Role-Based Authorization ‚Ä∫ correctly assigns permissions for editor role

    invariant expected app router to be mounted

    [0m [90m 57 |[39m   [36mconst[39m [isAuthenticated[33m,[39m setIsAuthenticated] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
     [90m 58 |[39m   [36mconst[39m [isRefreshing[33m,[39m setIsRefreshing] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 59 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 60 |[39m   
     [90m 61 |[39m   [90m// Check token expiration and refresh if needed[39m
     [90m 62 |[39m   [36mconst[39m checkTokenExpiration [33m=[39m [36masync[39m (token[33m:[39m string) [33m=>[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SessionManager (src/components/admin/auth/SessionManager.tsx:59:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:68:11)

  ‚óè Role-Based Authorization ‚Ä∫ correctly assigns permissions for viewer role

    invariant expected app router to be mounted

    [0m [90m 57 |[39m   [36mconst[39m [isAuthenticated[33m,[39m setIsAuthenticated] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
     [90m 58 |[39m   [36mconst[39m [isRefreshing[33m,[39m setIsRefreshing] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 59 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 60 |[39m   
     [90m 61 |[39m   [90m// Check token expiration and refresh if needed[39m
     [90m 62 |[39m   [36mconst[39m checkTokenExpiration [33m=[39m [36masync[39m (token[33m:[39m string) [33m=>[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SessionManager (src/components/admin/auth/SessionManager.tsx:59:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:91:11)

  ‚óè Role-Based Authorization ‚Ä∫ denies access when not authenticated

    invariant expected app router to be mounted

    [0m [90m 57 |[39m   [36mconst[39m [isAuthenticated[33m,[39m setIsAuthenticated] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
     [90m 58 |[39m   [36mconst[39m [isRefreshing[33m,[39m setIsRefreshing] [33m=[39m useState[33m<[39m[33mboolean[39m[33m>[39m([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 59 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 60 |[39m   
     [90m 61 |[39m   [90m// Check token expiration and refresh if needed[39m
     [90m 62 |[39m   [36mconst[39m checkTokenExpiration [33m=[39m [36masync[39m (token[33m:[39m string) [33m=>[39m {[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SessionManager (src/components/admin/auth/SessionManager.tsx:59:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/auth/RoleAuthorization.test.tsx:110:11)

FAIL tests/admin/auth/Logout.test.tsx
  ‚óè Logout Functionality ‚Ä∫ correctly handles logout action

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/login"

    Number of calls: 0

    [0m [90m 67 |[39m     
     [90m 68 |[39m     [90m// Should redirect to login page[39m
    [31m[1m>[22m[39m[90m 69 |[39m     expect(mockPush)[33m.[39mtoHaveBeenCalledWith([32m'/login'[39m)[33m;[39m
     [90m    |[39m                      [31m[1m^[22m[39m
     [90m 70 |[39m     
     [90m 71 |[39m     [90m// Should update context to not authenticated[39m
     [90m 72 |[39m     [36mawait[39m waitFor(() [33m=>[39m {[0m

      at Object.toHaveBeenCalledWith (tests/admin/auth/Logout.test.tsx:69:22)

FAIL tests/admin/sites/hooks/useDomains.test.tsx
  ‚óè useDomains Hook ‚Ä∫ validates domains before submission

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 143 |[39m     
     [90m 144 |[39m     [90m// Should be valid now[39m
    [31m[1m>[22m[39m[90m 145 |[39m     expect(isValid)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                     [31m[1m^[22m[39m
     [90m 146 |[39m     expect(result[33m.[39mcurrent[33m.[39merrors[33m.[39mdomains)[33m.[39mtoBeUndefined()[33m;[39m
     [90m 147 |[39m   })[33m;[39m
     [90m 148 |[39m[0m

      at Object.toBe (tests/admin/sites/hooks/useDomains.test.tsx:145:21)

  ‚óè useDomains Hook ‚Ä∫ clears errors on input change

    expect(received).toBe(expected) // Object.is equality

    Expected: "Invalid domain format"
    Received: undefined

    [0m [90m 246 |[39m     
     [90m 247 |[39m     [90m// Make sure the error is set[39m
    [31m[1m>[22m[39m[90m 248 |[39m     expect(result[33m.[39mcurrent[33m.[39merrors[33m.[39mdomainInput)[33m.[39mtoBe([32m'Invalid domain format'[39m)[33m;[39m
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 249 |[39m     
     [90m 250 |[39m     [90m// Change input to clear error[39m
     [90m 251 |[39m     act(() [33m=>[39m {[0m

      at Object.toBe (tests/admin/sites/hooks/useDomains.test.tsx:248:47)

  ‚óè useDomains Hook ‚Ä∫ uses custom validation when provided

    expect(received).toBe(expected) // Object.is equality

    Expected: "Only .org domains are allowed"
    Received: undefined

    [0m [90m 279 |[39m     
     [90m 280 |[39m     [90m// Check error is set with custom message[39m
    [31m[1m>[22m[39m[90m 281 |[39m     expect(result[33m.[39mcurrent[33m.[39merrors[33m.[39mdomainInput)[33m.[39mtoBe([32m'Only .org domains are allowed'[39m)[33m;[39m
     [90m     |[39m                                               [31m[1m^[22m[39m
     [90m 282 |[39m     expect(result[33m.[39mcurrent[33m.[39mdomains[33m.[39mlength)[33m.[39mtoBe([35m0[39m)[33m;[39m
     [90m 283 |[39m     
     [90m 284 |[39m     [90m// Try to add a .org domain[39m[0m

      at Object.toBe (tests/admin/sites/hooks/useDomains.test.tsx:281:47)

FAIL tests/middleware/withRedis.test.ts
  ‚óè withRedis Middleware ‚Ä∫ should propagate errors from the handler

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {Symbol(state): {"aborted": false, "body": {"length": null, "source": null, "stream": {Symbol(kType): "ReadableStream", Symbol(kState): {"controller": {Symbol(kType): "ReadableByteStreamController", Symbol(kState): {"autoAllocateChunkSize": undefined, "byobRequest": null, "cancelAlgorithm": [Function nonOpCancel], "closeRequested": false, "highWaterMark": 0, "pendingPullIntos": [], "pullAgain": false, "pullAlgorithm": [Function anonymous], "pulling": false, "queue": [], "queueTotalSize": 0, "started": true, "stream": [Circular]}}, "disturbed": false, "reader": undefined, "state": "readable", "storedError": undefined, "transfer": {"port1": undefined, "port2": undefined, "promise": undefined, "writable": undefined}}, Symbol(nodejs.webstream.isClosedPromise): {"promise": {}, "reject": [Function anonymous], "resolve": [Function anonymous]}, Symbol(nodejs.webstream.controllerErrorFunction): [Function anonymous]}}, "cacheState": "", "headersList": {"cookies": null, Symbol(headers map): Map {"retry-after" => {"name": "Retry-After", "value": "30"}, "cache-control" => {"name": "Cache-Control", "value": "no-store, no-cache, must-revalidate, proxy-revalidate"}, "content-type" => {"name": "content-type", "value": "application/json"}}, Symbol(headers map sorted): null}, "rangeRequested": false, "requestIncludesCredentials": false, "status": 503, "statusText": "", "timingAllowPassed": false, "timingInfo": null, "type": "default", "urlList": []}, Symbol(headers): {}, Symbol(internal response): {"cookies": {"_headers": {}, "_parsed": Map {}}, "url": undefined}}

    [0m [90m 122 |[39m     
     [90m 123 |[39m     [90m// Expect the handler error to be propagated[39m
    [31m[1m>[22m[39m[90m 124 |[39m     [36mawait[39m expect(wrappedHandler(request))[33m.[39mrejects[33m.[39mtoThrow(handlerError)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 125 |[39m     
     [90m 126 |[39m     [90m// Verify that Redis was pinged[39m
     [90m 127 |[39m     expect(redis[33m.[39mping)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.expect (tests/middleware/withRedis.test.ts:124:11)

FAIL tests/integration/user-flows/category-management.test.ts
  ‚óè Category Management ‚Ä∫ should create and retrieve a new category

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

    [0m [90m 44 |[39m     
     [90m 45 |[39m     [90m// Verify response is successful[39m
    [31m[1m>[22m[39m[90m 46 |[39m     expect(createResponse[33m.[39mstatus)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 47 |[39m     
     [90m 48 |[39m     [90m// Parse the response to get the created category[39m
     [90m 49 |[39m     [36mconst[39m createdCategory [33m=[39m [36mawait[39m createResponse[33m.[39mjson()[33m;[39m[0m

      at Object.toBe (tests/integration/user-flows/category-management.test.ts:46:35)

FAIL dist/test-generator/Core/Template.test.js
  ‚óè Template ‚Ä∫ should initialize properly

    TypeError: _FileSystem.FileSystem.fileExists.mockReturnValue is not a function

    [0m [90m 48 |[39m         template [33m=[39m [36mnew[39m [33mTemplate[39m(templateDir)[33m;[39m
     [90m 49 |[39m         [90m// Setup default mock behaviors[39m
    [31m[1m>[22m[39m[90m 50 |[39m         [33mFileSystem[39m[33m.[39mfileExists[33m.[39mmockReturnValue([36mtrue[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 51 |[39m         [33mFileSystem[39m[33m.[39mdirectoryExists[33m.[39mmockReturnValue([36mtrue[39m)[33m;[39m
     [90m 52 |[39m         [33mFileSystem[39m[33m.[39mreadFile[33m.[39mmockReturnValue(validTemplateContent)[33m;[39m
     [90m 53 |[39m         [33mFileSystem[39m[33m.[39mwriteFile[33m.[39mmockReturnValue([36mtrue[39m)[33m;[39m[0m

      at Object.mockReturnValue (dist/test-generator/Core/Template.test.js:50:31)

FAIL tests/api/healthcheck.test.ts
  ‚óè Healthcheck API ‚Ä∫ should return healthy status when Redis is healthy

    TypeError: Cannot read properties of undefined (reading 'status')

    [0m [90m  6 |[39m   
     [90m  7 |[39m   [36mconst[39m healthStatus [33m=[39m {
    [31m[1m>[22m[39m[90m  8 |[39m     status[33m:[39m redisStatus[33m.[39mstatus [33m===[39m [32m'ok'[39m [33m?[39m [32m'healthy'[39m [33m:[39m [32m'unhealthy'[39m[33m,[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m  9 |[39m     version[33m:[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_APP_VERSION[39m [33m||[39m [32m'0.1.0'[39m[33m,[39m
     [90m 10 |[39m     environment[33m:[39m process[33m.[39menv[33m.[39m[33mNODE_ENV[39m [33m||[39m [32m'development'[39m[33m,[39m
     [90m 11 |[39m     timestamp[33m:[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m[0m

      at status (src/app/api/healthcheck/route.ts:8:25)
      at Object.<anonymous> (tests/api/healthcheck.test.ts:52:22)

  ‚óè Healthcheck API ‚Ä∫ should return unhealthy status when Redis is unhealthy

    TypeError: Cannot read properties of undefined (reading 'status')

    [0m [90m  6 |[39m   
     [90m  7 |[39m   [36mconst[39m healthStatus [33m=[39m {
    [31m[1m>[22m[39m[90m  8 |[39m     status[33m:[39m redisStatus[33m.[39mstatus [33m===[39m [32m'ok'[39m [33m?[39m [32m'healthy'[39m [33m:[39m [32m'unhealthy'[39m[33m,[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m  9 |[39m     version[33m:[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_APP_VERSION[39m [33m||[39m [32m'0.1.0'[39m[33m,[39m
     [90m 10 |[39m     environment[33m:[39m process[33m.[39menv[33m.[39m[33mNODE_ENV[39m [33m||[39m [32m'development'[39m[33m,[39m
     [90m 11 |[39m     timestamp[33m:[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m[0m

      at status (src/app/api/healthcheck/route.ts:8:25)
      at Object.<anonymous> (tests/api/healthcheck.test.ts:106:22)

  ‚óè Healthcheck API ‚Ä∫ should use default values when environment variables are not set

    TypeError: Cannot read properties of undefined (reading 'status')

    [0m [90m  6 |[39m   
     [90m  7 |[39m   [36mconst[39m healthStatus [33m=[39m {
    [31m[1m>[22m[39m[90m  8 |[39m     status[33m:[39m redisStatus[33m.[39mstatus [33m===[39m [32m'ok'[39m [33m?[39m [32m'healthy'[39m [33m:[39m [32m'unhealthy'[39m[33m,[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m  9 |[39m     version[33m:[39m process[33m.[39menv[33m.[39m[33mNEXT_PUBLIC_APP_VERSION[39m [33m||[39m [32m'0.1.0'[39m[33m,[39m
     [90m 10 |[39m     environment[33m:[39m process[33m.[39menv[33m.[39m[33mNODE_ENV[39m [33m||[39m [32m'development'[39m[33m,[39m
     [90m 11 |[39m     timestamp[33m:[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m[0m

      at status (src/app/api/healthcheck/route.ts:8:25)
      at Object.<anonymous> (tests/api/healthcheck.test.ts:157:22)

FAIL tests/api/site-info/get.test.ts
  ‚óè Site Info API - GET ‚Ä∫ should handle Redis errors gracefully

    Redis connection error

    [0m [90m 242 |[39m     [90m// Mock getSiteByHostname to throw an error[39m
     [90m 243 |[39m     [36mconst[39m { getSiteByHostname } [33m=[39m require([32m'../../../src/lib/site-utils'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 244 |[39m     (getSiteByHostname [36mas[39m jest[33m.[39m[33mMock[39m)[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Redis connection error'[39m))[33m;[39m
     [90m     |[39m                                                        [31m[1m^[22m[39m
     [90m 245 |[39m     
     [90m 246 |[39m     [90m// Mock the keys call to also throw an error[39m
     [90m 247 |[39m     [36mconst[39m { kv } [33m=[39m require([32m'../../../src/lib/redis-client'[39m)[33m;[39m[0m

      at Object.<anonymous> (tests/api/site-info/get.test.ts:244:56)

FAIL tests/admin/sites/SiteForm.accessibility.test.tsx
  ‚óè SiteForm Accessibility ‚Ä∫ has proper form field labels associated with inputs

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:20:11)

  ‚óè SiteForm Accessibility ‚Ä∫ supports keyboard navigation through all form fields

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:32:11)

  ‚óè SiteForm Accessibility ‚Ä∫ maintains focus order that matches visual layout

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:55:11)

  ‚óè SiteForm Accessibility ‚Ä∫ has appropriate ARIA attributes for form fields

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:71:11)

  ‚óè SiteForm Accessibility ‚Ä∫ announces validation errors to screen readers

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:89:11)

  ‚óè SiteForm Accessibility ‚Ä∫ provides clear focus indication on all interactive elements

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:107:11)

  ‚óè SiteForm Accessibility ‚Ä∫ uses semantic HTML elements appropriate for form structure

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:121:11)

  ‚óè SiteForm Accessibility ‚Ä∫ supports form submission via keyboard (Enter key)

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:150:11)

  ‚óè SiteForm Accessibility ‚Ä∫ ensures dynamically added form elements are properly accessible

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:169:11)

  ‚óè SiteForm Accessibility ‚Ä∫ uses appropriate button types for form actions

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:186:11)

  ‚óè SiteForm Accessibility ‚Ä∫ properly manages focus when adding and removing dynamic fields

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:203:11)

  ‚óè SiteForm Accessibility ‚Ä∫ allows navigation via screen reader landmarks

    invariant expected app router to be mounted

    [0m [90m 52 |[39m   apiEndpoint [33m=[39m [32m'/api/sites'[39m
     [90m 53 |[39m }) [33m=>[39m {
    [31m[1m>[22m[39m[90m 54 |[39m   [36mconst[39m router [33m=[39m useRouter()[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 55 |[39m   [36mconst[39m [isLoading[33m,[39m setIsLoading] [33m=[39m useState([36mfalse[39m)[33m;[39m
     [90m 56 |[39m   [36mconst[39m [success[33m,[39m setSuccess] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m
     [90m 57 |[39m   [36mconst[39m [error[33m,[39m setError] [33m=[39m useState[33m<[39m[33mstring[39m [33m|[39m [36mnull[39m[33m>[39m([36mnull[39m)[33m;[39m[0m

      at useRouter (node_modules/next/src/client/components/navigation.ts:113:11)
      at SiteForm (src/components/admin/sites/SiteForm.tsx:54:27)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:188:26)
      at render (node_modules/@testing-library/react/dist/pure.js:287:10)
      at Object.<anonymous> (tests/admin/sites/SiteForm.accessibility.test.tsx:222:11)

FAIL tests/admin/auth/SessionManager.test.tsx
  ‚óè SessionManager Component ‚Ä∫ provides authentication context to children

    Unable to find an element by: [data-testid="username"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div>[39m
          [36m<p[39m
            [33mdata-testid[39m=[32m"auth-status"[39m
          [36m>[39m
            [0mNot Authenticated[0m
          [36m</p>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m  99 |[39m     
     [90m 100 |[39m     [90m// User info should be available[39m
    [31m[1m>[22m[39m[90m 101 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m     |[39m                  [31m[1m^[22m[39m
     [90m 102 |[39m       expect(screen[33m.[39mgetByTestId([32m'username'[39m))[33m.[39mtoHaveTextContent([32m'testuser'[39m)[33m;[39m
     [90m 103 |[39m       expect(screen[33m.[39mgetByTestId([32m'role'[39m))[33m.[39mtoHaveTextContent([32m'admin'[39m)[33m;[39m
     [90m 104 |[39m     })[33m;[39m[0m

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/admin/auth/SessionManager.test.tsx:101:18)

  ‚óè SessionManager Component ‚Ä∫ refreshes token when it is about to expire

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "authToken", "new-valid-token"

    Number of calls: 0

    [0m [90m 165 |[39m     
     [90m 166 |[39m     [90m// Should have stored the new token[39m
    [31m[1m>[22m[39m[90m 167 |[39m     expect(window[33m.[39mlocalStorage[33m.[39msetItem)[33m.[39mtoHaveBeenCalledWith([32m'authToken'[39m[33m,[39m [32m'new-valid-token'[39m)[33m;[39m
     [90m     |[39m                                         [31m[1m^[22m[39m
     [90m 168 |[39m   })[33m;[39m
     [90m 169 |[39m })[33m;[39m
     [90m 170 |[39m[0m

      at Object.toHaveBeenCalledWith (tests/admin/auth/SessionManager.test.tsx:167:41)

FAIL tests/AdminDashboard.test.tsx
  ‚óè AdminDashboard Component ‚Ä∫ renders the page title correctly

    expect(element).toHaveTextContent()

    Expected element to have text content:
      Admin Dashboard
    Received:
      Dashboard

    [0m [90m 20 |[39m     [36mconst[39m heading [33m=[39m screen[33m.[39mgetByRole([32m'heading'[39m[33m,[39m { level[33m:[39m [35m1[39m })[33m;[39m
     [90m 21 |[39m     expect(heading)[33m.[39mtoBeInTheDocument()[33m;[39m
    [31m[1m>[22m[39m[90m 22 |[39m     expect(heading)[33m.[39mtoHaveTextContent([32m'Admin Dashboard'[39m)[33m;[39m
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 23 |[39m   })[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m   it([32m'renders the site panel with correct heading'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toHaveTextContent (tests/AdminDashboard.test.tsx:22:21)

  ‚óè AdminDashboard Component ‚Ä∫ renders the site panel with correct heading

    TestingLibraryElementError: Unable to find an accessible element with the role "heading" and name "Your Directory Sites"

    Here are the accessible roles:

      heading:

      Name "Dashboard":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
      [36m/>[39m

      Name "Total Listings":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Active Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Unique Visitors":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Page Views":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Total Searches":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Interactions":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Recent Activity":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      Name "Quick Actions":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      --------------------------------------------------
      list:

      Name "":
      [36m<ul[39m
        [33mclass[39m=[32m"divide-y divide-gray-100"[39m
      [36m/>[39m

      --------------------------------------------------
      listitem:

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      --------------------------------------------------
      link:

      Name "Add New Listing":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/listings/new"[39m
      [36m/>[39m

      Name "Add New Category":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/categories/new"[39m
      [36m/>[39m

      Name "Create New Site":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/sites/new"[39m
      [36m/>[39m

      Name "System Settings":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/settings"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 26 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 27 |[39m     
    [31m[1m>[22m[39m[90m 28 |[39m     [36mconst[39m siteHeading [33m=[39m screen[33m.[39mgetByRole([32m'heading'[39m[33m,[39m { name[33m:[39m [32m'Your Directory Sites'[39m })[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 29 |[39m     expect(siteHeading)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 30 |[39m   })[33m;[39m
     [90m 31 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/AdminDashboard.test.tsx:28:32)

  ‚óè AdminDashboard Component ‚Ä∫ displays "No sites created yet" message when no sites exist

    TestingLibraryElementError: Unable to find an element with the text: No sites created yet.. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 33 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 34 |[39m     
    [31m[1m>[22m[39m[90m 35 |[39m     [36mconst[39m noSitesMessage [33m=[39m screen[33m.[39mgetByText([32m'No sites created yet.'[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 36 |[39m     expect(noSitesMessage)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 37 |[39m   })[33m;[39m
     [90m 38 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/AdminDashboard.test.tsx:35:35)

  ‚óè AdminDashboard Component ‚Ä∫ renders the "Create New SEO Site" button

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name "Create New SEO Site"

    Here are the accessible roles:

      heading:

      Name "Dashboard":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
      [36m/>[39m

      Name "Total Listings":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Active Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Unique Visitors":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Page Views":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Total Searches":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Interactions":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Recent Activity":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      Name "Quick Actions":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      --------------------------------------------------
      list:

      Name "":
      [36m<ul[39m
        [33mclass[39m=[32m"divide-y divide-gray-100"[39m
      [36m/>[39m

      --------------------------------------------------
      listitem:

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      --------------------------------------------------
      link:

      Name "Add New Listing":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/listings/new"[39m
      [36m/>[39m

      Name "Add New Category":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/categories/new"[39m
      [36m/>[39m

      Name "Create New Site":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/sites/new"[39m
      [36m/>[39m

      Name "System Settings":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/settings"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 40 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 41 |[39m     
    [31m[1m>[22m[39m[90m 42 |[39m     [36mconst[39m createButton [33m=[39m screen[33m.[39mgetByRole([32m'button'[39m[33m,[39m { name[33m:[39m [32m'Create New SEO Site'[39m })[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 43 |[39m     expect(createButton)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 44 |[39m     expect(createButton)[33m.[39mtoHaveClass([32m'bg-blue-500'[39m)[33m;[39m
     [90m 45 |[39m   })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/AdminDashboard.test.tsx:42:33)

  ‚óè AdminDashboard Component ‚Ä∫ renders the stats panel with correct heading

    TestingLibraryElementError: Unable to find an accessible element with the role "heading" and name "Platform Stats"

    Here are the accessible roles:

      heading:

      Name "Dashboard":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
      [36m/>[39m

      Name "Total Listings":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Active Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Unique Visitors":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Page Views":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Total Searches":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Interactions":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Recent Activity":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      Name "Quick Actions":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      --------------------------------------------------
      list:

      Name "":
      [36m<ul[39m
        [33mclass[39m=[32m"divide-y divide-gray-100"[39m
      [36m/>[39m

      --------------------------------------------------
      listitem:

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      --------------------------------------------------
      link:

      Name "Add New Listing":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/listings/new"[39m
      [36m/>[39m

      Name "Add New Category":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/categories/new"[39m
      [36m/>[39m

      Name "Create New Site":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/sites/new"[39m
      [36m/>[39m

      Name "System Settings":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/settings"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 48 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 49 |[39m     
    [31m[1m>[22m[39m[90m 50 |[39m     [36mconst[39m statsHeading [33m=[39m screen[33m.[39mgetByRole([32m'heading'[39m[33m,[39m { name[33m:[39m [32m'Platform Stats'[39m })[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 51 |[39m     expect(statsHeading)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 52 |[39m   })[33m;[39m
     [90m 53 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/AdminDashboard.test.tsx:50:33)

  ‚óè AdminDashboard Component ‚Ä∫ displays the correct default stats values

    TestingLibraryElementError: Unable to find an element with the text: Total Sites: 0. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 55 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 56 |[39m     
    [31m[1m>[22m[39m[90m 57 |[39m     [36mconst[39m totalSites [33m=[39m screen[33m.[39mgetByText([32m'Total Sites: 0'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 58 |[39m     [36mconst[39m totalListings [33m=[39m screen[33m.[39mgetByText([32m'Total Listings: 0'[39m)[33m;[39m
     [90m 59 |[39m     [36mconst[39m totalBacklinks [33m=[39m screen[33m.[39mgetByText([32m'Total Backlinks: 0'[39m)[33m;[39m
     [90m 60 |[39m     [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/AdminDashboard.test.tsx:57:31)

  ‚óè AdminDashboard Component ‚Ä∫ applies correct grid layout for responsive design

    TestingLibraryElementError: Unable to find an element with the text: Admin Dashboard. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 67 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 68 |[39m     
    [31m[1m>[22m[39m[90m 69 |[39m     [36mconst[39m gridContainer [33m=[39m screen[33m.[39mgetByText([32m'Admin Dashboard'[39m)[33m.[39mclosest([32m'main'[39m)[33m![39m[33m.[39mquerySelector([32m'.grid'[39m)[33m;[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 70 |[39m     expect(gridContainer)[33m.[39mtoHaveClass([32m'grid-cols-1 md:grid-cols-2 gap-6'[39m)[33m;[39m
     [90m 71 |[39m   })[33m;[39m
     [90m 72 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/AdminDashboard.test.tsx:69:34)

  ‚óè AdminDashboard Component ‚Ä∫ applies proper styling to the panels

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: 0

    [0m [90m 75 |[39m     
     [90m 76 |[39m     [36mconst[39m panels [33m=[39m document[33m.[39mquerySelectorAll([32m'.border.rounded.p-4'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 77 |[39m     expect(panels[33m.[39mlength)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 78 |[39m     
     [90m 79 |[39m     [90m// Panel headings should have appropriate styling[39m
     [90m 80 |[39m     [36mconst[39m panelHeadings [33m=[39m document[33m.[39mquerySelectorAll([32m'.text-xl.font-semibold.mb-3'[39m)[33m;[39m[0m

      at Object.toBe (tests/AdminDashboard.test.tsx:77:27)

  ‚óè AdminDashboard Component ‚Ä∫ ensures main container has proper padding

    TestingLibraryElementError: Unable to find an accessible element with the role "main"

    Here are the accessible roles:

      heading:

      Name "Dashboard":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
      [36m/>[39m

      Name "Total Listings":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Active Categories":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Unique Visitors":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Page Views":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Total Searches":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Interactions":
      [36m<h3[39m
        [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
        [33mdata-testid[39m=[32m"statistic-card-title"[39m
      [36m/>[39m

      Name "Recent Activity":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      Name "Quick Actions":
      [36m<h2[39m
        [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
      [36m/>[39m

      --------------------------------------------------
      list:

      Name "":
      [36m<ul[39m
        [33mclass[39m=[32m"divide-y divide-gray-100"[39m
      [36m/>[39m

      --------------------------------------------------
      listitem:

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      Name "":
      [36m<li[39m
        [33mclass[39m=[32m"py-3"[39m
      [36m/>[39m

      --------------------------------------------------
      link:

      Name "Add New Listing":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/listings/new"[39m
      [36m/>[39m

      Name "Add New Category":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/categories/new"[39m
      [36m/>[39m

      Name "Create New Site":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/sites/new"[39m
      [36m/>[39m

      Name "System Settings":
      [36m<a[39m
        [33mclass[39m=[32m"flex items-center text-blue-600 hover:text-blue-800"[39m
        [33mhref[39m=[32m"/admin/settings"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 85 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 86 |[39m     
    [31m[1m>[22m[39m[90m 87 |[39m     [36mconst[39m mainContainer [33m=[39m screen[33m.[39mgetByRole([32m'main'[39m)[33m;[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 88 |[39m     expect(mainContainer)[33m.[39mtoHaveClass([32m'p-8'[39m)[33m;[39m
     [90m 89 |[39m   })[33m;[39m
     [90m 90 |[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (tests/AdminDashboard.test.tsx:87:34)

  ‚óè AdminDashboard Component ‚Ä∫ applies correct spacing to stats list items

    TestingLibraryElementError: Unable to find an element with the text: Platform Stats. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"container mx-auto px-4 py-6"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6"[39m
          [36m>[39m
            [0mDashboard[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-8"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Site statistics"[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 "[39m
              [33mdata-testid[39m=[32m"statistic-cards"[39m
            [36m>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mTotal Listings[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"listing-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mActive Categories[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"category-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-8 bg-gray-200 rounded animate-pulse w-3/4 mb-1"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"h-4 bg-gray-100 rounded animate-pulse w-1/2"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33maria-busy[39m=[32m"true"[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow p-6 border border-gray-100 hover:shadow-md transition-shadow "[39m
                [33mdata-testid[39m=[32m"statistic-card"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500"[39m
                    [33mdata-testid[39m=[32m"statistic-card-title"[39m
                  [36m>[39m
                    [0mUnique Visitors[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-gray-400 p-1 rounded-full bg-gray-50"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"h-6 w-6"[39m
                      [33mdata-testid[39m=[32m"visitor-icon"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"statistic-card-skeleton"[39m
                [36m>[39m
                  [36m<div[39m
     ...

    [0m [90m 92 |[39m     render([33m<[39m[33mAdminDashboard[39m [33m/[39m[33m>[39m)[33m;[39m
     [90m 93 |[39m     
    [31m[1m>[22m[39m[90m 94 |[39m     [36mconst[39m statsContainer [33m=[39m screen[33m.[39mgetByText([32m'Platform Stats'[39m)[33m.[39mclosest([32m'div'[39m)[33m![39m[33m.[39mquerySelector([32m'.space-y-2'[39m)[33m;[39m
     [90m    |[39m                                   [31m[1m^[22m[39m
     [90m 95 |[39m     expect(statsContainer)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 96 |[39m   })[33m;[39m
     [90m 97 |[39m })[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/AdminDashboard.test.tsx:94:35)

FAIL tests/admin/listings/ListingTable.test.tsx
  ‚óè ListingTable Component ‚Ä∫ renders the table with provided listings data

    TestingLibraryElementError: Found multiple elements with the text: Test Listing 1

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900 truncate max-w-xs"[39m
    [36m>[39m
      [0mTest Listing 1[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<h3[39m
      [33mclass[39m=[32m"font-medium text-gray-900"[39m
    [36m>[39m
      [0mTest Listing 1[0m
    [36m</h3>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mListings ([0m
                [0m2[0m
                [0m)[0m
              [36m</h2>[39m
              [36m<a[39m
                [33mhref[39m=[32m"/admin/listings/new"[39m
              [36m>[39m
                [0mAdd New Listing[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col sm:flex-row gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative flex-grow"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-search text-gray-400"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"18"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"18"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"11"[39m
                        [33mcy[39m=[32m"11"[39m
                        [33mr[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"m21 21-4.3-4.3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<input[39m
                    [33maria-label[39m=[32m"Search listings"[39m
                    [33mclass[39m=[32m"w-full pl-10 pr-10 py-2 border rounded focus:ring-blue-500 focus:border-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search listings..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"hidden md:block border rounded-lg overflow-hidden"[39m
          [36m>[39m
            [36m<table[39m
              [33maria-label[39m=[32m"Listings table"[39m
              [33mclass[39m=[32m"w-full divide-y divide-gray-200"[39m
            [36m>[39m
              [36m<thead[39m
                [33mclass[39m=[32m"bg-gray-50"[39m
              [36m>[39m
                [36m<tr>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Title "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mTitle[0m
                      [36m</span>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-arrow-up-down text-gray-400"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m21 16-4 4-4-4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M17 20V4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m3 8 4-4 4 4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M7 4v16"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</button>[39m
                  [36m</th>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Category "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mCategory[0m
                      [36m</span>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-arrow-up-down text-gray-400"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m21 16-4 4-4-4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M17 20V4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m3 8 4-4 4 4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M7 ...

    [0m [90m 87 |[39m     
     [90m 88 |[39m     expect(screen[33m.[39mgetByText([32m'Listings (2)'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
    [31m[1m>[22m[39m[90m 89 |[39m     expect(screen[33m.[39mgetByText([32m'Test Listing 1'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 90 |[39m     expect(screen[33m.[39mgetByText([32m'Test Listing 2'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 91 |[39m   })[33m;[39m
     [90m 92 |[39m   [0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/admin/listings/ListingTable.test.tsx:89:19)

  ‚óè ListingTable Component ‚Ä∫ handles search filtering correctly

    TestingLibraryElementError: Found multiple elements with the text: Test Listing 1

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900 truncate max-w-xs"[39m
    [36m>[39m
      [0mTest Listing 1[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<h3[39m
      [33mclass[39m=[32m"font-medium text-gray-900"[39m
    [36m>[39m
      [0mTest Listing 1[0m
    [36m</h3>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mListings ([0m
                [0m1[0m
                [0m)[0m
              [36m</h2>[39m
              [36m<a[39m
                [33mhref[39m=[32m"/admin/listings/new"[39m
              [36m>[39m
                [0mAdd New Listing[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col sm:flex-row gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative flex-grow"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-search text-gray-400"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"18"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"18"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"11"[39m
                        [33mcy[39m=[32m"11"[39m
                        [33mr[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"m21 21-4.3-4.3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<input[39m
                    [33maria-label[39m=[32m"Search listings"[39m
                    [33mclass[39m=[32m"w-full pl-10 pr-10 py-2 border rounded focus:ring-blue-500 focus:border-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search listings..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"Listing 1"[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Clear search"[39m
                    [33mclass[39m=[32m"absolute inset-y-0 right-0 flex items-center pr-3"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-x text-gray-400 hover:text-gray-600"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"18"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"18"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M18 6 6 18"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"m6 6 12 12"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"hidden md:block border rounded-lg overflow-hidden"[39m
          [36m>[39m
            [36m<table[39m
              [33maria-label[39m=[32m"Listings table"[39m
              [33mclass[39m=[32m"w-full divide-y divide-gray-200"[39m
            [36m>[39m
              [36m<thead[39m
                [33mclass[39m=[32m"bg-gray-50"[39m
              [36m>[39m
                [36m<tr>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Title "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mTitle[0m
                      [36m</span>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-arrow-up-down text-gray-400"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m21 16-4 4-4-4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M17 20V4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m3 8 4-4 4 4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M7 4v16"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</button>[39m
                  [36m</th>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Category "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [...

    [0m [90m 101 |[39m     
     [90m 102 |[39m     [90m// Should show only the first listing[39m
    [31m[1m>[22m[39m[90m 103 |[39m     expect(screen[33m.[39mgetByText([32m'Test Listing 1'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 104 |[39m     expect(screen[33m.[39mqueryByText([32m'Test Listing 2'[39m))[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 105 |[39m     
     [90m 106 |[39m     [90m// Clear the search[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/admin/listings/ListingTable.test.tsx:103:19)

  ‚óè ListingTable Component ‚Ä∫ shows delete confirmation dialog when delete is clicked

    Unable to find an element with the text: Are you sure you want to delete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full p-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold"[39m
              [36m>[39m
                [0mListings ([0m
                [0m2[0m
                [0m)[0m
              [36m</h2>[39m
              [36m<a[39m
                [33mhref[39m=[32m"/admin/listings/new"[39m
              [36m>[39m
                [0mAdd New Listing[0m
              [36m</a>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col sm:flex-row gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative flex-grow"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-search text-gray-400"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"18"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"18"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"11"[39m
                        [33mcy[39m=[32m"11"[39m
                        [33mr[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"m21 21-4.3-4.3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<input[39m
                    [33maria-label[39m=[32m"Search listings"[39m
                    [33mclass[39m=[32m"w-full pl-10 pr-10 py-2 border rounded focus:ring-blue-500 focus:border-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search listings..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full sm:w-64"[39m
                [36m>[39m
                  [36m<select[39m
                    [33maria-label[39m=[32m"Filter by site"[39m
                    [33mclass[39m=[32m"w-full py-2 border rounded focus:ring-blue-500 focus:border-blue-500"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0mAll Sites[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"listing_1"[39m
                    [36m/>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"listing_2"[39m
                    [36m/>[39m
                  [36m</select>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"hidden md:block border rounded-lg overflow-hidden"[39m
          [36m>[39m
            [36m<table[39m
              [33maria-label[39m=[32m"Listings table"[39m
              [33mclass[39m=[32m"w-full divide-y divide-gray-200"[39m
            [36m>[39m
              [36m<thead[39m
                [33mclass[39m=[32m"bg-gray-50"[39m
              [36m>[39m
                [36m<tr>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Title "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mTitle[0m
                      [36m</span>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-arrow-up-down text-gray-400"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"14"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m21 16-4 4-4-4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M17 20V4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"m3 8 4-4 4 4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M7 4v16"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</button>[39m
                  [36m</th>[39m
                  [36m<th[39m
                    [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                    [33mscope[39m=[32m"col"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Sort by Category "[39m
                      [33mclass[39m=[32m"flex items-center space-x-1 focus:outline-none focus:underline"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mCategory[0m
                      [36m</span>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-arrow-up-down text-gray-400"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"14"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-line...

    [0m [90m 162 |[39m     
     [90m 163 |[39m     [90m// Wait for the dialog to appear[39m
    [31m[1m>[22m[39m[90m 164 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m     |[39m                  [31m[1m^[22m[39m
     [90m 165 |[39m       expect(screen[33m.[39mgetByText([32m'Are you sure you want to delete'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 166 |[39m     })[33m;[39m
     [90m 167 |[39m     [0m

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/admin/listings/ListingTable.test.tsx:164:18)

FAIL tests/integration/performance/concurrent-operations/simultaneous-writes.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

    [0m [90m 38 |[39m [90m */[39m
     [90m 39 |[39m [36mexport[39m [36masync[39m [36mfunction[39m clearTestData() {
    [31m[1m>[22m[39m[90m 40 |[39m   [90m// Find all test keys[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m   [36mconst[39m testKeys [33m=[39m [36mawait[39m kv[33m.[39mkeys([32m'test:*'[39m)[33m;[39m
     [90m 42 |[39m   
     [90m 43 |[39m   [90m// Delete all test keys[39m[0m

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)
      at Object.<anonymous> (tests/integration/setup.ts:40:17)
      at Object.<anonymous> (tests/integration/performance/concurrent-operations/simultaneous-writes.test.ts:10:16)

FAIL tests/integration/performance/concurrent-operations/transaction-isolation.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

    [0m [90m 38 |[39m [90m */[39m
     [90m 39 |[39m [36mexport[39m [36masync[39m [36mfunction[39m clearTestData() {
    [31m[1m>[22m[39m[90m 40 |[39m   [90m// Find all test keys[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m   [36mconst[39m testKeys [33m=[39m [36mawait[39m kv[33m.[39mkeys([32m'test:*'[39m)[33m;[39m
     [90m 42 |[39m   
     [90m 43 |[39m   [90m// Delete all test keys[39m[0m

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)
      at Object.<anonymous> (tests/integration/setup.ts:40:17)
      at Object.<anonymous> (tests/integration/performance/concurrent-operations/transaction-isolation.test.ts:10:16)

FAIL tests/admin/categories/components/CategoriesMobileView.navigation.test.tsx
  ‚óè Test suite failed to run


      [31mx[0m Unexpected eof
         ,-[[36;1;4mC:\Users\T\directorymonster\tests\admin\categories\components\CategoriesMobileView.navigation.test.tsx[0m:119:1]
     [2m119[0m |     
     [2m120[0m |     // Check URLs with a different site slug
     [2m121[0m |     expect(screen.getByTestId('view-link-category_1')).toHaveAttribute('href', '/admin/sites/another-site/categories/test-category-1');
     [2m122[0m |     expect(screen.getByTestId('edit-link-category_1')).toHaveAttribute('href',
         `----


    Caused by:
        Syntax Error

      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1433:25)
      at transformSync (node_modules/next/src/build/swc/index.ts:1550:19)
      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:104:25)
      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)
      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)
      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)

FAIL tests/integration/performance/concurrent-operations/race-conditions.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

    [0m [90m 38 |[39m [90m */[39m
     [90m 39 |[39m [36mexport[39m [36masync[39m [36mfunction[39m clearTestData() {
    [31m[1m>[22m[39m[90m 40 |[39m   [90m// Find all test keys[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m   [36mconst[39m testKeys [33m=[39m [36mawait[39m kv[33m.[39mkeys([32m'test:*'[39m)[33m;[39m
     [90m 42 |[39m   
     [90m 43 |[39m   [90m// Delete all test keys[39m[0m

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)
      at Object.<anonymous> (tests/integration/setup.ts:40:17)
      at Object.<anonymous> (tests/integration/performance/concurrent-operations/race-conditions.test.ts:10:16)

FAIL tests/admin/sites/SiteForm.validation.test.tsx
  ‚óè Test suite failed to run


      [31mx[0m Unexpected token `{`. Expected identifier or string
       ,-[[36;1;4mC:\Users\T\directorymonster\tests\admin\sites\SiteForm.validation.test.tsx[0m:1:1]
     [2m1[0m | import React from 'react';
     [2m2[0m | import { render, screen, waitFor } from '@testing-library/react';
     [2m3[0m | import userEvent from '@testing-library/user-event';
     [2m4[0m | import { {SiteForm} } from '@/components/{{#if category}}{admin/sites}/{{/if}}{SiteForm}';
       : [31;1m         ^[0m
     [2m5[0m | 
     [2m6[0m | describe('{SiteForm} Validation', () => {
     [2m7[0m |   it('validates required fields and shows error messages', async () => {
       `----


    Caused by:
        Syntax Error

      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1433:25)
      at transformSync (node_modules/next/src/build/swc/index.ts:1550:19)
      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:104:25)
      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)
      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)
      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)

FAIL tests/integration/performance/concurrent-operations/parallel-reads.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

    [0m [90m 38 |[39m [90m */[39m
     [90m 39 |[39m [36mexport[39m [36masync[39m [36mfunction[39m clearTestData() {
    [31m[1m>[22m[39m[90m 40 |[39m   [90m// Find all test keys[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 41 |[39m   [36mconst[39m testKeys [33m=[39m [36mawait[39m kv[33m.[39mkeys([32m'test:*'[39m)[33m;[39m
     [90m 42 |[39m   
     [90m 43 |[39m   [90m// Delete all test keys[39m[0m

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)
      at Object.<anonymous> (tests/integration/setup.ts:40:17)
      at Object.<anonymous> (tests/integration/performance/concurrent-operations/parallel-reads.test.ts:10:16)

FAIL tests/api/site/get.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../../../src/app/api/sites/[siteSlug]/route' from 'tests/api/site/get.test.ts'

    [0m [90m 23 |[39m   withRedis[33m:[39m (handler[33m:[39m [33mFunction[39m) [33m=>[39m handler[33m,[39m
     [90m 24 |[39m }))[33m;[39m
    [31m[1m>[22m[39m[90m 25 |[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 26 |[39m describe([32m'Site API - GET'[39m[33m,[39m () [33m=>[39m {
     [90m 27 |[39m   beforeEach(() [33m=>[39m {
     [90m 28 |[39m     jest[33m.[39mclearAllMocks()[33m;[39m[0m

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (tests/api/site/get.test.ts:25:16)

FAIL tests/admin/sites/SiteForm.submission.test.tsx
  ‚óè Test suite failed to run


      [31mx[0m Unexpected token `{`. Expected identifier or string
       ,-[[36;1;4mC:\Users\T\directorymonster\tests\admin\sites\SiteForm.submission.test.tsx[0m:1:1]
     [2m1[0m | import React from 'react';
     [2m2[0m | import { render, screen, waitFor } from '@testing-library/react';
     [2m3[0m | import userEvent from '@testing-library/user-event';
     [2m4[0m | import { {SiteForm} } from '@/components/{{#if category}}{admin/sites}/{{/if}}{SiteForm}';
       : [31;1m         ^[0m
     [2m5[0m | import { useRouter } from 'next/navigation';
     [2m6[0m | 
     [2m7[0m | // Mock the useRouter hook
       `----


    Caused by:
        Syntax Error

      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1433:25)
      at transformSync (node_modules/next/src/build/swc/index.ts:1550:19)
      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:104:25)
      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)
      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)
      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)

FAIL tests/SiteForm.test.tsx
  ‚óè Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (node_modules/@jest/core/build/TestScheduler.js:133:18)
      at node_modules/@jest/core/build/TestScheduler.js:254:19
      at node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (node_modules/emittery/index.js:361:23)

FAIL tests/admin/auth/ZKPLogin.enhanced.test.tsx
  ‚óè Test suite failed to run


      [31mx[0m Unterminated string constant
        ,-[[36;1;4mC:\Users\T\directorymonster\tests\admin\auth\ZKPLogin.enhanced.test.tsx[0m:84:1]
     [2m84[0m | 
     [2m85[0m |   // RENDERING TESTS
     [2m86[0m |   describe('Rendering', () => {
     [2m87[0m |     it('renders the login form with
        : [31;1m       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^[0m
        `----

      [31mx[0m Unexpected eof
        ,-[[36;1;4mC:\Users\T\directorymonster\tests\admin\auth\ZKPLogin.enhanced.test.tsx[0m:84:1]
     [2m84[0m | 
     [2m85[0m |   // RENDERING TESTS
     [2m86[0m |   describe('Rendering', () => {
     [2m87[0m |     it('renders the login form with
        `----


    Caused by:
        Syntax Error

      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1433:25)
      at transformSync (node_modules/next/src/build/swc/index.ts:1550:19)
      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:104:25)
      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)
      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)
      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)

FAIL tests/integration/user-flows/data-retrieval.test.ts
  ‚óè Test suite failed to run

    Cannot find module '../../../src/app/api/sites/[siteSlug]/route' from 'tests/integration/user-flows/data-retrieval.test.ts'

    [0m [90m  5 |[39m [36mimport[39m { [33mGET[39m [36mas[39m getCategories } [36mfrom[39m [32m'../../../src/app/api/sites/[siteSlug]/categories/route'[39m[33m;[39m
     [90m  6 |[39m [36mimport[39m { [33mGET[39m [36mas[39m getListings } [36mfrom[39m [32m'../../../src/app/api/sites/[siteSlug]/listings/route'[39m[33m;[39m
    [31m[1m>[22m[39m[90m  7 |[39m [36mimport[39m { setupTestEnvironment[33m,[39m clearTestData[33m,[39m createMockRequest } [36mfrom[39m [32m'../setup'[39m[33m;[39m
     [90m    |[39m                [31m[1m^[22m[39m
     [90m  8 |[39m [36mimport[39m { [33mSiteConfig[39m[33m,[39m [33mCategory[39m[33m,[39m [33mListing[39m } [36mfrom[39m [32m'../../../src/types'[39m[33m;[39m
     [90m  9 |[39m
     [90m 10 |[39m describe([32m'Data Retrieval User Flow'[39m[33m,[39m () [33m=>[39m {[0m

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (tests/integration/user-flows/data-retrieval.test.ts:7:16)

FAIL tests/integration/performance/concurrent-operations.test.ts
  ‚óè Test suite failed to run

    TypeError: Cannot destructure property 'sites' of 'global.__TEST_DATA__' as it is undefined.

    [0m [90m 44 |[39m describe([32m'Parallel Reads'[39m[33m,[39m () [33m=>[39m {
     [90m 45 |[39m   [90m// Access test data from global setup[39m
    [31m[1m>[22m[39m[90m 46 |[39m   [36mconst[39m { sites[33m,[39m categories[33m,[39m listings } [33m=[39m global[33m.[39m__TEST_DATA__[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 47 |[39m   
     [90m 48 |[39m   it([32m'should handle parallel listing requests efficiently'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 49 |[39m     [90m// Get the first test site[39m[0m

      at sites (tests/integration/performance/concurrent-operations/parallel-reads.test.ts:46:11)
      at Object.describe (tests/integration/performance/concurrent-operations/parallel-reads.test.ts:44:1)
      at Object.<anonymous> (tests/integration/performance/concurrent-operations.test.ts:13:1)

FAIL tests/components/index.test.tsx
  ‚óè Test suite failed to run

    Cannot find module '../admin/listings/components/ListingTableRow.test' from 'tests/components/index.test.tsx'

    [0m [90m 28 |[39m [90m// - Category Components[39m
     [90m 29 |[39m [36mimport[39m [32m'../admin/categories/CategoryTable.test'[39m[33m;[39m
    [31m[1m>[22m[39m[90m 30 |[39m [36mimport[39m [32m'../admin/categories/components/CategoryTableRow.test'[39m[33m;[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 31 |[39m [36mimport[39m [32m'../admin/categories/components/CategoryTableHeader.test'[39m[33m;[39m
     [90m 32 |[39m [36mimport[39m [32m'../admin/categories/components/CategoryTablePagination.test'[39m[33m;[39m
     [90m 33 |[39m [36mimport[39m [32m'../admin/categories/components/CategoryTableSkeleton.test'[39m[33m;[39m[0m

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (tests/components/index.test.tsx:30:1)

FAIL tests/admin/sites/components/SEOSettings.api.test.tsx
  ‚óè SEOSettings API Interactions ‚Ä∫ handles network errors gracefully

    Unable to find an element with the text: Failed to save SEO settings. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-3xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"seoSettings-header"[39m
          [36m>[39m
            [0mSEO Settings[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 p-3 bg-red-100 text-red-700 rounded"[39m
            [33mdata-testid[39m=[32m"seoSettings-error"[39m
            [33mrole[39m=[32m"alert"[39m
          [36m>[39m
            [0mNetwork error[0m
          [36m</div>[39m
          [36m<form[39m
            [33mdata-testid[39m=[32m"seoSettings-form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mMeta Tags[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-seoTitle"[39m
                  [36m>[39m
                    [0mTitle Tag [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(60 chars max)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded border-gray-300"[39m
                    [33mdata-testid[39m=[32m"seoSettings-seoTitle"[39m
                    [33mid[39m=[32m"seoSettings-seoTitle"[39m
                    [33mname[39m=[32m"seoTitle"[39m
                    [33mplaceholder[39m=[32m"Site Name | Page Title"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-seoDescription"[39m
                  [36m>[39m
                    [0mMeta Description [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(160 chars max)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded border-gray-300"[39m
                    [33mdata-testid[39m=[32m"seoSettings-seoDescription"[39m
                    [33mid[39m=[32m"seoSettings-seoDescription"[39m
                    [33mname[39m=[32m"seoDescription"[39m
                    [33mrows[39m=[32m"3"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-seoKeywords"[39m
                  [36m>[39m
                    [0mMeta Keywords [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(comma separated)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-seoKeywords"[39m
                    [33mid[39m=[32m"seoSettings-seoKeywords"[39m
                    [33mname[39m=[32m"seoKeywords"[39m
                    [33mplaceholder[39m=[32m"keyword1, keyword2, keyword3"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mSocial Media[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-ogTitle"[39m
                  [36m>[39m
                    [0mOpen Graph Title[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-ogTitle"[39m
                    [33mid[39m=[32m"seoSettings-ogTitle"[39m
                    [33mname[39m=[32m"ogTitle"[39m
                    [33mplaceholder[39m=[32m"Title for social sharing"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-ogDescription"[39m
                  [36m>[39m
                    [0mOpen Graph Description[0m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-ogDescription"[39m
                    [33mid[39m=[32m"seoSettings-ogDescription"[39m
                    [33mname[39m=[32m"ogDescription"[39m
                    [33mrows[39m=[32m"3"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-ogImage"[39m
                  [36m>[39m
                    [0mOpen Graph Image URL[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-ogImage"[39m
                    [33mid[39m=[32m"seoSettings-ogImage"[39m
                    [33mname[39m=[32m"ogImage"[39m
                    [33mplaceholder[39m=[32m"https://example.com/image.jpg"[39m
                    [33mtype[39m=[32m"url"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-twitterCard"[39m
                  [36m>[39m
                    [0mTwitter Card Type[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-twitterCard"[39m
                    [33mid[39m=[32m"seoSettings-twitterCard"[39m
                    [33mname[39m=[32m"twitterCard"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"summary"[39m
                    [36m>[39m
                      [0mSummary Card[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"summary_large_image"[39m
                    [36m>[39m
                      [0mSummary with Large Image[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"app"[39m
                    [36m>[39m
                      [0mApp Card[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"player"[39m
                    [36m>[39m
                      [0mPlayer Card[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-twitterSite"[39m
                  [36m>[39m
                    [0mTwitter Site Handle[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded border-gray-300"[39m
                    [33mdata-testid[39m=[32m"seoSettings-twitterSite"[39m
                    [33mid[39m=[32m"seoSettings-twitterSite"[39m
                    [33mname[39m=[32m"twitterSite"[39m
                    [33mplaceholder[39m=[32m"@yoursite"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mTechnical SEO[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"seoSettings-enableCanonicalUrls"[39m
                    [33mid[39m=[32m"seoSettings-enableCanonicalUrls"[39m
                    [33mname[39m=[32m"enableCanonicalUrls"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"seoSettings-enableCanonicalUrls"[39m
                  [36m>[39m
                    [0mEnable canonical URLs[0m
                  [36m</label>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mNoindex Pages[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center mb-2"[39m
                  [36m>[39m
                    [36m<input[39m
                      [33mclass[39m=[32m"flex-grow p-2 border rounded border-gray-300"[39m
                      [33mdata-testid[39m=[32m"seoSettings-newNoindexPage"[39m
                      [33mid[39m=[32m"seoSettings-newNoindexPage"[39m
                      [33mname[39m=[32m"newNoindexPage"[39m
                      [33mplaceholder[39m=[32m"/path/to/exclude"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                      [33mdata-testid[39m=[32m"seoSettings-addNoindexPage"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mAdd[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-gray-500 italic"[39m
                  [36m>[39m
                    [0mNo pages excluded from indexing[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-structuredData"[39m
                  [36m>[39m
                    [0mStructured Data (JSON-LD)[0m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded font-mono text-sm border-gray-300"[39m
                    [33mdata-testid[39m=[32m"seoSettings-structuredData"[39m
                    [33mid[39m=[32m"seoSettings-structuredData"[39m
                    [33mname[39m=[32m"structuredData"[39m
                    [33mplaceholder[39m=[32m"{\"@context\": \"https://schema.org\", \"@type\": \"Organization\", ...}"[39m
                    [33mrows[39m=[32m"5"[39m
                  [36m/>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mEnter JSON-LD structured data to be added to the site's head.[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"seoSettings-robotsTxt"[39m
                  [36m>[39m
                    [0mCustom robots.txt Content[0m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded font-mono text-sm"[39m
                    [33mdata-testid[39m=[32m"seoSettings-robotsTxt"[39m
                    [33mid[39m=[32m"seoSettings-robotsTxt"[39m
                    [33mname[39m=[32m"robotsTxt"[39m
                    [33mplaceholder[39m=[32m"User-agent: * Disallow: /admin/ Allow: /"[39m
                    [33mrows[39m=[32m"5"[39m
                  [36m/>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mLeave blank to use default robots.txt.[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded"[39m
                [33mdata-testid[39m=[32m"seoSettings-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"seoSettings-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mSave Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 121 |[39m     
     [90m 122 |[39m     [90m// Error message should be displayed[39m
    [31m[1m>[22m[39m[90m 123 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m     |[39m                  [31m[1m^[22m[39m
     [90m 124 |[39m       expect(screen[33m.[39mgetByTestId([32m'seoSettings-error'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 125 |[39m       expect(screen[33m.[39mgetByText([32m'Failed to save SEO settings'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 126 |[39m     })[33m;[39m[0m

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/admin/sites/components/SEOSettings.api.test.tsx:123:18)

FAIL tests/admin/sites/components/SiteSettings.test.tsx
  ‚óè SiteSettings Component ‚Ä∫ validates form fields and shows error messages

    Expected repeat modifier or release modifier or "}" but found "u" in "{ unclosed brace"
        See https://testing-library.com/docs/user-event/keyboard
        for more information about how userEvent parses your input.

    [0m [90m 129 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'siteSettings-listingsPerPage'[39m)[33m,[39m [32m'0'[39m)[33m;[39m
     [90m 130 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'siteSettings-contactEmail'[39m)[33m,[39m [32m'invalid-email'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 131 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'siteSettings-customStyles'[39m)[33m,[39m [32m'{ unclosed brace'[39m)[33m;[39m
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 132 |[39m     
     [90m 133 |[39m     [90m// Submit the form[39m
     [90m 134 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'siteSettings-submit'[39m))[33m;[39m[0m

      at readTag (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:58:15)
      at Object.readNextDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:26:66)
      at Object.parseKeyDef (node_modules/@testing-library/user-event/dist/cjs/keyboard/parseKeyDef.js:18:118)
      at Object.keyboard (node_modules/@testing-library/user-event/dist/cjs/keyboard/index.js:8:33)
      at Object.type (node_modules/@testing-library/user-event/dist/cjs/utility/type.js:17:16)
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:22)
      at Object.<anonymous> (tests/admin/sites/components/SiteSettings.test.tsx:131:5)

  ‚óè SiteSettings Component ‚Ä∫ clears validation errors when field values are changed

    TestingLibraryElementError: Unable to find an element by: [data-testid="siteSettings-listingsPerPage-error"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-3xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"siteSettings-header"[39m
            [33mid[39m=[32m"siteSettings-header"[39m
          [36m>[39m
            [0mSite Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"siteSettings-header"[39m
            [33mdata-testid[39m=[32m"siteSettings-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
              [33mdata-testid[39m=[32m"siteSettings-visibility-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mSite Visibility[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"siteSettings-isPublic"[39m
                    [33mid[39m=[32m"siteSettings-isPublic"[39m
                    [33mname[39m=[32m"isPublic"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"siteSettings-isPublic"[39m
                  [36m>[39m
                    [0mSite is publicly visible[0m
                  [36m</label>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"siteSettings-maintenanceMode"[39m
                    [33mid[39m=[32m"siteSettings-maintenanceMode"[39m
                    [33mname[39m=[32m"maintenanceMode"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"siteSettings-maintenanceMode"[39m
                  [36m>[39m
                    [0mEnable maintenance mode[0m
                  [36m</label>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-600"[39m
                [36m>[39m
                  [0mMaintenance mode shows a maintenance page to visitors while allowing administrators to access the site.[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
              [33mdata-testid[39m=[32m"siteSettings-appearance-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mAppearance[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteSettings-theme"[39m
                  [36m>[39m
                    [0mTheme[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:border-blue-500"[39m
                    [33mdata-testid[39m=[32m"siteSettings-theme"[39m
                    [33mid[39m=[32m"siteSettings-theme"[39m
                    [33mname[39m=[32m"theme"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"default"[39m
                    [36m>[39m
                      [0mDefault[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"light"[39m
                    [36m>[39m
                      [0mLight[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"dark"[39m
                    [36m>[39m
                      [0mDark[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"blue"[39m
                    [36m>[39m
                      [0mBlue[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"green"[39m
                    [36m>[39m
                      [0mGreen[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteSettings-customStyles"[39m
                  [36m>[39m
                    [0mCustom CSS[0m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 font-mono text-sm border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteSettings-customStyles"[39m
                    [33mid[39m=[32m"siteSettings-customStyles"[39m
                    [33mname[39m=[32m"customStyles"[39m
                    [33mplaceholder[39m=[32m".my-class { color: blue; }"[39m
                    [33mrows[39m=[32m"8"[39m
                  [36m/>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mCustom CSS will be applied to the entire site.[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
              [33mdata-testid[39m=[32m"siteSettings-content-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mContent Display[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteSettings-listingsPerPage"[39m
                  [36m>[39m
                    [0mListings per page[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full sm:w-40 p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteSettings-listingsPerPage"[39m
                    [33mid[39m=[32m"siteSettings-listingsPerPage"[39m
                    [33mmax[39m=[32m"100"[39m
                    [33mmin[39m=[32m"1"[39m
                    [33mname[39m=[32m"listingsPerPage"[39m
                    [33mtype[39m=[32m"number"[39m
                    [33mvalue[39m=[32m"0"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"siteSettings-enableCategories"[39m
                    [33mid[39m=[32m"siteSettings-enableCategories"[39m
                    [33mname[39m=[32m"enableCategories"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"siteSettings-enableCategories"[39m
                  [36m>[39m
                    [0mEnable categories[0m
                  [36m</label>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"siteSettings-enableSearch"[39m
                    [33mid[39m=[32m"siteSettings-enableSearch"[39m
                    [33mname[39m=[32m"enableSearch"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"siteSettings-enableSearch"[39m
                  [36m>[39m
                    [0mEnable search functionality[0m
                  [36m</label>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-8 border p-4 rounded"[39m
              [33mdata-testid[39m=[32m"siteSettings-access-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold px-2"[39m
              [36m>[39m
                [0mUser Access[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"[39m
                    [33mdata-testid[39m=[32m"siteSettings-enableUserRegistration"[39m
                    [33mid[39m=[32m"siteSettings-enableUserRegistration"[39m
                    [33mname[39m=[32m"enableUserRegistration"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"ml-2 block text-sm font-medium"[39m
                    [33mfor[39m=[32m"siteSettings-enableUserRegistration"[39m
                  [36m>[39m
                    [0mAllow user registration[0m
                  [36m</label>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-600"[39m
                [36m>[39m
                  [0mWhen enabled, visitors can create accounts and log in to your site.[0m
                [36m</p>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteSettings-contactEmail"[39m
                  [36m>[39m
                    [0mContact Email[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteSettings-contactEmail"[39m
                    [33mid[39m=[32m"siteSettings-contactEmail"[39m
                    [33mname[39m=[32m"contactEmail"[39m
                    [33mplaceholder[39m=[32m"admin@example.com"[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m"invalid-email"[39m
                  [36m/>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-600 mt-1"[39m
                  [36m>[39m
                    [0mThis email will be displayed on the contact page and used for system notifications.[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"siteSettings-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"siteSettings-submit"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mSave Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 223 |[39m     
     [90m 224 |[39m     [90m// Validation errors should be displayed[39m
    [31m[1m>[22m[39m[90m 225 |[39m     expect(screen[33m.[39mgetByTestId([32m'siteSettings-listingsPerPage-error'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 226 |[39m     expect(screen[33m.[39mgetByTestId([32m'siteSettings-contactEmail-error'[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m 227 |[39m     
     [90m 228 |[39m     [90m// Fix the values[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (tests/admin/sites/components/SiteSettings.test.tsx:225:19)

  ‚óè SiteSettings Component ‚Ä∫ validates custom CSS with balanced braces

    Expected repeat modifier or release modifier or "}" but found "c" in "{ color: blue; } .footer { background: gray; }"
        See https://testing-library.com/docs/user-event/keyboard
        for more information about how userEvent parses your input.

    [0m [90m 250 |[39m     
     [90m 251 |[39m     [90m// Set valid CSS[39m
    [31m[1m>[22m[39m[90m 252 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'siteSettings-customStyles'[39m)[33m,[39m [32m'.header { color: blue; } .footer { background: gray; }'[39m)[33m;[39m
     [90m     |[39m     [31m[1m^[22m[39m
     [90m 253 |[39m     
     [90m 254 |[39m     [90m// Submit the form[39m
     [90m 255 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'siteSettings-submit'[39m))[33m;[39m[0m

      at readTag (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:58:15)
      at Object.readNextDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:26:66)
      at Object.parseKeyDef (node_modules/@testing-library/user-event/dist/cjs/keyboard/parseKeyDef.js:18:118)
      at Object.keyboard (node_modules/@testing-library/user-event/dist/cjs/keyboard/index.js:8:33)
      at Object.type (node_modules/@testing-library/user-event/dist/cjs/utility/type.js:17:16)
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:22)
      at Object.<anonymous> (tests/admin/sites/components/SiteSettings.test.tsx:252:5)

FAIL tests/admin/auth/PasswordReset.test.tsx (5.489 s)
  ‚óè Password Reset Form ‚Ä∫ validates email input

    TestingLibraryElementError: Unable to find an element with the text: /invalid email format/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-md mx-auto p-6 bg-white rounded-lg shadow-md"[39m
        [36m>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-2xl font-bold mb-6 text-center text-gray-800"[39m
          [36m>[39m
            [0mForgot Password[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"mb-6 text-gray-600 text-center"[39m
          [36m>[39m
            [0mEnter your email address and we'll send you a link to reset your password.[0m
          [36m</p>[39m
          [36m<form[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                [33mfor[39m=[32m"email"[39m
              [36m>[39m
                [0mEmail[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"mt-1 block w-full px-3 py-2 border border-red-500 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"[39m
                [33mid[39m=[32m"email"[39m
                [33mtype[39m=[32m"email"[39m
                [33mvalue[39m=[32m"invalid-email"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-sm text-red-600"[39m
              [36m>[39m
                [0mEmail is required[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mReset Password[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"text-sm text-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"font-medium text-indigo-600 hover:text-indigo-500"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mBack to Login[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 44 |[39m     
     [90m 45 |[39m     [90m// Check for validation error[39m
    [31m[1m>[22m[39m[90m 46 |[39m     expect(screen[33m.[39mgetByText([35m/invalid email format/i[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 47 |[39m   })[33m;[39m
     [90m 48 |[39m   
     [90m 49 |[39m   it([32m'submits request and shows confirmation'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/admin/auth/PasswordReset.test.tsx:46:19)

FAIL tests/admin/dashboard/hooks/useSiteMetrics.test.ts (6.413 s)
  ‚óè useSiteMetrics Hook ‚Ä∫ returns metrics data after loading

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 32 |[39m     rerender()[33m;[39m
     [90m 33 |[39m     
    [31m[1m>[22m[39m[90m 34 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m    |[39m                                      [31m[1m^[22m[39m
     [90m 35 |[39m     expect(result[33m.[39mcurrent[33m.[39mmetrics)[33m.[39mnot[33m.[39mtoBeNull()[33m;[39m
     [90m 36 |[39m     expect(result[33m.[39mcurrent[33m.[39mmetrics[33m?[39m[33m.[39msiteId)[33m.[39mtoBe([32m'test-site'[39m)[33m;[39m
     [90m 37 |[39m     expect(result[33m.[39mcurrent[33m.[39merror)[33m.[39mtoBeNull()[33m;[39m[0m

      at Object.toBe (tests/admin/dashboard/hooks/useSiteMetrics.test.ts:34:38)

  ‚óè useSiteMetrics Hook ‚Ä∫ refetches data when refetch is called

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 47 |[39m   })[33m;[39m
     [90m 48 |[39m
    [31m[1m>[22m[39m[90m 49 |[39m   it([32m'refetches data when refetch is called'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m   [31m[1m^[22m[39m
     [90m 50 |[39m     [36mconst[39m { result } [33m=[39m renderHook(() [33m=>[39m useSiteMetrics({ siteSlug[33m:[39m [32m'test-site'[39m }))[33m;[39m
     [90m 51 |[39m     
     [90m 52 |[39m     [90m// Initial data load[39m[0m

      at it (tests/admin/dashboard/hooks/useSiteMetrics.test.ts:49:3)
      at Object.describe (tests/admin/dashboard/hooks/useSiteMetrics.test.ts:7:1)

  ‚óè useSiteMetrics Hook ‚Ä∫ updates when period changes

    TypeError: Cannot read properties of null (reading 'isLoading')

    [0m [90m 80 |[39m     
     [90m 81 |[39m     [90m// Should go back to loading state[39m
    [31m[1m>[22m[39m[90m 82 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 83 |[39m     
     [90m 84 |[39m     [90m// Complete the loading[39m
     [90m 85 |[39m     act(() [33m=>[39m {[0m

      at Object.isLoading (tests/admin/dashboard/hooks/useSiteMetrics.test.ts:82:27)

FAIL tests/admin/layout/WithAuth.test.tsx (6.444 s)
  ‚óè WithAuth Component ‚Ä∫ initially renders a loading spinner

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    [0m [90m 25 |[39m     [90m// Check for loading spinner (the div with the animate-spin class)[39m
     [90m 26 |[39m     [36mconst[39m spinner [33m=[39m document[33m.[39mquerySelector([32m'.animate-spin'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 27 |[39m     expect(spinner)[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 28 |[39m     
     [90m 29 |[39m     [90m// Protected content should not be visible yet[39m
     [90m 30 |[39m     expect(screen[33m.[39mqueryByTestId([32m'protected-content'[39m))[33m.[39mnot[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:326:15)
      at Object.toBeInTheDocument (tests/admin/layout/WithAuth.test.tsx:27:21)

  ‚óè WithAuth Component ‚Ä∫ redirects to login when not authenticated

    ReferenceError: Cannot access 'overallTimeoutTimer' before initialization

    [0m [90m 54 |[39m     jest[33m.[39mspyOn(console[33m,[39m [32m'error'[39m)[33m.[39mmockImplementation(() [33m=>[39m {})[33m;[39m
     [90m 55 |[39m     jest[33m.[39mspyOn(global[33m,[39m [32m'setTimeout'[39m)[33m.[39mmockImplementation((callback[33m:[39m any) [33m=>[39m {
    [31m[1m>[22m[39m[90m 56 |[39m       callback()[33m;[39m
     [90m    |[39m       [31m[1m^[22m[39m
     [90m 57 |[39m       [36mreturn[39m [35m0[39m [36mas[39m any[33m;[39m
     [90m 58 |[39m     })[33m;[39m
     [90m 59 |[39m     [0m

      at onDone (node_modules/@testing-library/dom/dist/wait-for.js:101:20)
      at handleTimeout (node_modules/@testing-library/dom/dist/wait-for.js:156:7)
      at callback (tests/admin/layout/WithAuth.test.tsx:56:7)
      at node_modules/@testing-library/dom/dist/wait-for.js:40:33
      at waitFor (node_modules/@testing-library/dom/dist/wait-for.js:36:10)
      at node_modules/@testing-library/dom/dist/wait-for.js:164:54
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:28)
      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:164:35)
      at Object.<anonymous> (tests/admin/layout/WithAuth.test.tsx:79:18)

  ‚óè WithAuth Component ‚Ä∫ redirects to login when not authenticated

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 50 |[39m   })[33m;[39m
     [90m 51 |[39m   
    [31m[1m>[22m[39m[90m 52 |[39m   it([32m'redirects to login when not authenticated'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m    |[39m   [31m[1m^[22m[39m
     [90m 53 |[39m     [90m// Mock the authentication check to fail[39m
     [90m 54 |[39m     jest[33m.[39mspyOn(console[33m,[39m [32m'error'[39m)[33m.[39mmockImplementation(() [33m=>[39m {})[33m;[39m
     [90m 55 |[39m     jest[33m.[39mspyOn(global[33m,[39m [32m'setTimeout'[39m)[33m.[39mmockImplementation((callback[33m:[39m any) [33m=>[39m {[0m

      at it (tests/admin/layout/WithAuth.test.tsx:52:3)
      at Object.describe (tests/admin/layout/WithAuth.test.tsx:13:1)

FAIL tests/admin/dashboard/hooks/useActivityFeed.test.ts (6.427 s)
  ‚óè useActivityFeed Hook ‚Ä∫ returns activities after loading

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 32 |[39m     rerender()[33m;[39m
     [90m 33 |[39m     
    [31m[1m>[22m[39m[90m 34 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m    |[39m                                      [31m[1m^[22m[39m
     [90m 35 |[39m     expect(result[33m.[39mcurrent[33m.[39mactivities[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 36 |[39m     expect(result[33m.[39mcurrent[33m.[39merror)[33m.[39mtoBeNull()[33m;[39m
     [90m 37 |[39m   })[33m;[39m[0m

      at Object.toBe (tests/admin/dashboard/hooks/useActivityFeed.test.ts:34:38)

  ‚óè useActivityFeed Hook ‚Ä∫ returns empty array when no activities match filters

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

    [0m [90m 80 |[39m     rerender()[33m;[39m
     [90m 81 |[39m     
    [31m[1m>[22m[39m[90m 82 |[39m     expect(result[33m.[39mcurrent[33m.[39misLoading)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m    |[39m                                      [31m[1m^[22m[39m
     [90m 83 |[39m     expect(result[33m.[39mcurrent[33m.[39mactivities)[33m.[39mtoEqual([])[33m;[39m
     [90m 84 |[39m   })[33m;[39m
     [90m 85 |[39m[0m

      at Object.toBe (tests/admin/dashboard/hooks/useActivityFeed.test.ts:82:38)

  ‚óè useActivityFeed Hook ‚Ä∫ refreshes data when refresh is called

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 105 |[39m   })[33m;[39m
     [90m 106 |[39m
    [31m[1m>[22m[39m[90m 107 |[39m   it([32m'refreshes data when refresh is called'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m     |[39m   [31m[1m^[22m[39m
     [90m 108 |[39m     [36mconst[39m { result } [33m=[39m renderHook(() [33m=>[39m useActivityFeed({ siteSlug[33m:[39m [32m'test-site'[39m }))[33m;[39m
     [90m 109 |[39m     
     [90m 110 |[39m     [90m// Initial data load[39m[0m

      at it (tests/admin/dashboard/hooks/useActivityFeed.test.ts:107:3)
      at Object.describe (tests/admin/dashboard/hooks/useActivityFeed.test.ts:7:1)

  ‚óè useActivityFeed Hook ‚Ä∫ sorts activities by timestamp (newest first)

    TypeError: Cannot read properties of null (reading 'activities')

    [0m [90m 135 |[39m     
     [90m 136 |[39m     [90m// Check that activities are sorted by timestamp (newest first)[39m
    [31m[1m>[22m[39m[90m 137 |[39m     [36mconst[39m timestamps [33m=[39m result[33m.[39mcurrent[33m.[39mactivities[33m.[39mmap(activity [33m=>[39m 
     [90m     |[39m                                       [31m[1m^[22m[39m
     [90m 138 |[39m       [36mnew[39m [33mDate[39m(activity[33m.[39mtimestamp)[33m.[39mgetTime()
     [90m 139 |[39m     )[33m;[39m
     [90m 140 |[39m     [0m

      at Object.activities (tests/admin/dashboard/hooks/useActivityFeed.test.ts:137:39)

FAIL tests/admin/sites/components/SEOSettings.validation.test.tsx (6.713 s)
  ‚óè SEOSettings Validation ‚Ä∫ validates structured data JSON format

    Expected repeat modifier or release modifier or "}" but found " " in "{invalid json}"
        See https://testing-library.com/docs/user-event/keyboard
        for more information about how userEvent parses your input.

    [0m [90m 77 |[39m     
     [90m 78 |[39m     [90m// Add invalid JSON[39m
    [31m[1m>[22m[39m[90m 79 |[39m     [36mawait[39m user[33m.[39mtype(screen[33m.[39mgetByTestId([32m'seoSettings-structuredData'[39m)[33m,[39m [32m'{invalid json}'[39m)[33m;[39m
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 80 |[39m     
     [90m 81 |[39m     [90m// Submit the form[39m
     [90m 82 |[39m     [36mawait[39m user[33m.[39mclick(screen[33m.[39mgetByTestId([32m'seoSettings-submit'[39m))[33m;[39m[0m

      at readTag (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:58:15)
      at Object.readNextDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:26:66)
      at Object.parseKeyDef (node_modules/@testing-library/user-event/dist/cjs/keyboard/parseKeyDef.js:18:118)
      at Object.keyboard (node_modules/@testing-library/user-event/dist/cjs/keyboard/index.js:8:33)
      at Object.type (node_modules/@testing-library/user-event/dist/cjs/utility/type.js:17:16)
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:22)
      at Object.<anonymous> (tests/admin/sites/components/SEOSettings.validation.test.tsx:79:5)

FAIL tests/admin/sites/DomainManager.domains.test.tsx (7.629 s)
  ‚óè DomainManager - Domain Management ‚Ä∫ allows removing a domain

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 2
    Received array:  [<span data-testid="domainManager-domain-0">another.com</span>, <input aria-invalid="false" class="flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300" data-testid="domainManager-domain-input" id="domainManager-domain-input" name="domainInput" placeholder="Enter domain (e.g., example.com)" type="text" value="" />]

    [0m [90m 187 |[39m     
     [90m 188 |[39m     [90m// Only one domain should remain[39m
    [31m[1m>[22m[39m[90m 189 |[39m     expect(screen[33m.[39mgetAllByTestId([35m/domainManager-domain-/[39m))[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m     |[39m                                                            [31m[1m^[22m[39m
     [90m 190 |[39m   })[33m;[39m
     [90m 191 |[39m
     [90m 192 |[39m   it([32m'validates domains on form submission'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toHaveLength (tests/admin/sites/DomainManager.domains.test.tsx:189:60)

  ‚óè DomainManager - Domain Management ‚Ä∫ validates domains on form submission

    TestingLibraryElementError: Found multiple elements with the text: /At least one domain is required/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<p[39m
      [33mclass[39m=[32m"mt-1 text-sm text-red-500"[39m
      [33mdata-testid[39m=[32m"domainManager-domains-error"[39m
      [33mrole[39m=[32m"alert"[39m
    [36m>[39m
      [0mAt least one domain is required[0m
    [36m</p>[39m

    Ignored nodes: comments, script, style
    [36m<p[39m
      [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
      [33mdata-testid[39m=[32m"domainManager-format-help"[39m
    [36m>[39m
      [0m* At least one domain is required.[0m
    [36m</p>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
            [33mdata-testid[39m=[32m"domainManager-header"[39m
            [33mid[39m=[32m"domainManager-header"[39m
          [36m>[39m
            [0mCreate[0m
            [0m Domain Settings[0m
          [36m</h1>[39m
          [36m<form[39m
            [33maria-labelledby[39m=[32m"domainManager-header"[39m
            [33mdata-testid[39m=[32m"domainManager-form"[39m
            [33mrole[39m=[32m"form"[39m
          [36m>[39m
            [36m<fieldset[39m
              [33mclass[39m=[32m"mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
            [36m>[39m
              [36m<legend[39m
                [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
              [36m>[39m
                [0mDomain Management[0m
              [36m</legend>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mCurrent Domains[0m
                [36m</h3>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-gray-500 italic"[39m
                [36m>[39m
                  [0mNo domains added yet[0m
                [36m</p>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-sm text-red-500"[39m
                  [33mdata-testid[39m=[32m"domainManager-domains-error"[39m
                  [33mrole[39m=[32m"alert"[39m
                [36m>[39m
                  [0mAt least one domain is required[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<h3[39m
                  [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                [36m>[39m
                  [0mAdd Domain[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                    [33mid[39m=[32m"domainManager-domain-input"[39m
                    [33mname[39m=[32m"domainInput"[39m
                    [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                    [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                    [33mdisabled[39m=[32m""[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0m+ Add[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                [36m>[39m
                  [0mEnter valid domain names without http:// or www prefixes[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                [33mdata-testid[39m=[32m"domainManager-format-help"[39m
              [36m>[39m
                [0m* At least one domain is required.[0m
              [36m</p>[39m
            [36m</fieldset>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                [33mdata-testid[39m=[32m"domainManager-submit"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0mCreate Domain Settings[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</form>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

    [0m [90m 199 |[39m     
     [90m 200 |[39m     [90m// Error message should be displayed[39m
    [31m[1m>[22m[39m[90m 201 |[39m     expect(screen[33m.[39mgetByText([35m/At least one domain is required/i[39m))[33m.[39mtoBeInTheDocument()[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 202 |[39m     
     [90m 203 |[39m     [90m// Now add a domain and try again[39m
     [90m 204 |[39m     [36mconst[39m domainInput [33m=[39m screen[33m.[39mgetByTestId([32m'domainManager-domain-input'[39m)[33m;[39m[0m

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (tests/admin/sites/DomainManager.domains.test.tsx:201:19)

  ‚óè DomainManager - Domain Management ‚Ä∫ includes domains in form submission

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
              [33mdata-testid[39m=[32m"domainManager-header"[39m
              [33mid[39m=[32m"domainManager-header"[39m
            [36m>[39m
              [0mEdit[0m
              [0m Domain Settings[0m
            [36m</h1>[39m
            [36m<form[39m
              [33maria-labelledby[39m=[32m"domainManager-header"[39m
              [33mdata-testid[39m=[32m"domainManager-form"[39m
              [33mrole[39m=[32m"form"[39m
            [36m>[39m
              [36m<fieldset[39m
                [33mclass[39m=[32m"mb-6"[39m
                [33mdata-testid[39m=[32m"domainManager-fieldset"[39m
              [36m>[39m
                [36m<legend[39m
                  [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                  [33mdata-testid[39m=[32m"domainManager-section-heading"[39m
                [36m>[39m
                  [0mDomain Management[0m
                [36m</legend>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mCurrent Domains[0m
                  [36m</h3>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"mb-4 border rounded divide-y"[39m
                  [36m>[39m
                    [36m<li[39m
                      [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mdata-testid[39m=[32m"domainManager-domain-0"[39m
                      [36m>[39m
                        [0mexample.com[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Remove domain example.com"[39m
                        [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                        [33mdata-testid[39m=[32m"domainManager-remove-domain-0"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"w-5 h-5"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"sr-only"[39m
                        [36m>[39m
                          [0mRemove[0m
                        [36m</span>[39m
                      [36m</button>[39m
                    [36m</li>[39m
                    [36m<li[39m
                      [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mdata-testid[39m=[32m"domainManager-domain-1"[39m
                      [36m>[39m
                        [0mnewdomain.com[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Remove domain newdomain.com"[39m
                        [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                        [33mdata-testid[39m=[32m"domainManager-remove-domain-1"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"w-5 h-5"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"sr-only"[39m
                        [36m>[39m
                          [0mRemove[0m
                        [36m</span>[39m
                      [36m</button>[39m
                    [36m</li>[39m
                  [36m</ul>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mAdd Domain[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center"[39m
                  [36m>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                      [33mdata-testid[39m=[32m"domainManager-domain-input"[39m
                      [33mid[39m=[32m"domainManager-domain-input"[39m
                      [33mname[39m=[32m"domainInput"[39m
                      [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                      [33mdata-testid[39m=[32m"domainManager-add-domain"[39m
                      [33mdisabled[39m=[32m""[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0m+ Add[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                  [36m>[39m
                    [0mEnter valid domain names without http:// or www prefixes[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500 mt-4"[39m
                  [33mdata-testid[39m=[32m"domainManager-format-help"[39m
                [36m>[39m
                  [0m* At least one domain is required.[0m
                [36m</p>[39m
              [36m</fieldset>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                  [33mdata-testid[39m=[32m"domainManager-cancel"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                  [33mdata-testid[39m=[32m"domainManager-submit"[39m
                  [33mdisabled[39m=[32m""[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mUpdate Domain Settings[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

    [0m [90m 248 |[39m     [90m// Wait for form submission to complete[39m
     [90m 249 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
    [31m[1m>[22m[39m[90m 250 |[39m       expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 251 |[39m     })[33m;[39m
     [90m 252 |[39m     
     [90m 253 |[39m     [90m// Check that domains were included in submission[39m[0m

      at toHaveBeenCalledTimes (tests/admin/sites/DomainManager.domains.test.tsx:250:28)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè DomainManager - Domain Management ‚Ä∫ disables interaction elements during loading state

    expect(element).not.toBeDisabled()

    Received element is disabled:
      <button class="ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0" data-testid="domainManager-add-domain" disabled="" type="button" />

    [0m [90m 307 |[39m     [90m// Elements should be enabled again[39m
     [90m 308 |[39m     expect(screen[33m.[39mgetByTestId([32m'domainManager-domain-input'[39m))[33m.[39mnot[33m.[39mtoBeDisabled()[33m;[39m
    [31m[1m>[22m[39m[90m 309 |[39m     expect(screen[33m.[39mgetByTestId([32m'domainManager-add-domain'[39m))[33m.[39mnot[33m.[39mtoBeDisabled()[33m;[39m
     [90m     |[39m                                                                [31m[1m^[22m[39m
     [90m 310 |[39m     expect(screen[33m.[39mgetByTestId([32m'domainManager-remove-domain-0'[39m))[33m.[39mnot[33m.[39mtoBeDisabled()[33m;[39m
     [90m 311 |[39m     expect(screen[33m.[39mgetByTestId([32m'domainManager-cancel'[39m))[33m.[39mnot[33m.[39mtoBeDisabled()[33m;[39m
     [90m 312 |[39m   })[33m;[39m[0m

      at Object.toBeDisabled (tests/admin/sites/DomainManager.domains.test.tsx:309:64)

FAIL tests/admin/sites/SiteForm.test.tsx (9.905 s)
  ‚óè SiteForm Component ‚Ä∫ successfully submits the form in create mode

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/admin/sites/site-1"

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
              [33mdata-testid[39m=[32m"siteForm-header"[39m
              [33mid[39m=[32m"siteForm-header"[39m
            [36m>[39m
              [0mCreate[0m
              [0m Site[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mb-4 p-3 bg-green-100 text-green-700 rounded"[39m
              [33mdata-testid[39m=[32m"siteForm-success"[39m
              [33mrole[39m=[32m"alert"[39m
            [36m>[39m
              [0mSite created successfully[0m
            [36m</div>[39m
            [36m<form[39m
              [33maria-labelledby[39m=[32m"siteForm-header"[39m
              [33mdata-testid[39m=[32m"siteForm-form"[39m
              [33mrole[39m=[32m"form"[39m
            [36m>[39m
              [36m<fieldset[39m
                [33mclass[39m=[32m"mb-6"[39m
                [33mdata-testid[39m=[32m"siteForm-fieldset"[39m
              [36m>[39m
                [36m<legend[39m
                  [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                  [33mdata-testid[39m=[32m"siteForm-basic-info-heading"[39m
                [36m>[39m
                  [0mBasic Information[0m
                [36m</legend>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-name"[39m
                  [36m>[39m
                    [0mSite Name *[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-name"[39m
                    [33mid[39m=[32m"siteForm-name"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"New Test Site"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-slug"[39m
                  [36m>[39m
                    [0mSlug * [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(URL-friendly name)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-slug"[39m
                    [33mid[39m=[32m"siteForm-slug"[39m
                    [33mname[39m=[32m"slug"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"new-test-site"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-description"[39m
                  [36m>[39m
                    [0mDescription [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(Optional)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-description"[39m
                    [33mid[39m=[32m"siteForm-description"[39m
                    [33mname[39m=[32m"description"[39m
                    [33mrows[39m=[32m"3"[39m
                  [36m>[39m
                    [0mThis is a test site description[0m
                  [36m</textarea>[39m
                [36m</div>[39m
              [36m</fieldset>[39m
              [36m<fieldset[39m
                [33mclass[39m=[32m"mb-6"[39m
                [33mdata-testid[39m=[32m"siteForm-domains-fieldset"[39m
              [36m>[39m
                [36m<legend[39m
                  [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                  [33mdata-testid[39m=[32m"siteForm-domains-heading"[39m
                [36m>[39m
                  [0mDomains[0m
                [36m</legend>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mCurrent Domains[0m
                  [36m</h3>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"mb-4 border rounded divide-y"[39m
                  [36m>[39m
                    [36m<li[39m
                      [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mdata-testid[39m=[32m"siteForm-domain-0"[39m
                      [36m>[39m
                        [0mtestsite.com[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Remove domain testsite.com"[39m
                        [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                        [33mdata-testid[39m=[32m"siteForm-remove-domain-0"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"w-5 h-5"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"sr-only"[39m
                        [36m>[39m
                          [0mRemove[0m
                        [36m</span>[39m
                      [36m</button>[39m
                    [36m</li>[39m
                  [36m</ul>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mAdd Domain[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center"[39m
                  [36m>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                      [33mdata-testid[39m=[32m"siteForm-new-domain"[39m
                      [33mid[39m=[32m"siteForm-new-domain"[39m
                      [33mname[39m=[32m"newDomain"[39m
                      [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                      [33mdata-testid[39m=[32m"siteForm-add-domain"[39m
                      [33mdisabled[39m=[32m""[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0m+ Add[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                  [36m>[39m
                    [0mEnter valid domain names without http:// or www prefixes[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</fieldset>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                  [33mdata-testid[39m=[32m"siteForm-cancel"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                  [33mdata-testid[39m=[32m"siteForm-submit"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mCreate Site[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

    [0m [90m 272 |[39m     [90m// Verify router was called to redirect[39m
     [90m 273 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
    [31m[1m>[22m[39m[90m 274 |[39m       expect(useRouter()[33m.[39mpush)[33m.[39mtoHaveBeenCalledWith([32m'/admin/sites/site-1'[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 275 |[39m     })[33m;[39m
     [90m 276 |[39m   })[33m;[39m
     [90m 277 |[39m[0m

      at toHaveBeenCalledWith (tests/admin/sites/SiteForm.test.tsx:274:32)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè SiteForm Component ‚Ä∫ successfully submits the form in edit mode

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/api/sites/site-123", ObjectContaining {"body": "{\"id\":\"site-123\",\"name\":\"Existing Site\",\"slug\":\"existing-site\",\"description\":\"Updated description\",\"domains\":[\"original.com\",\"another.com\"]}", "method": "PUT"}
    Received: "/api/sites/site-123", {"body": "{\"name\":\"Existing Site\",\"slug\":\"existing-site\",\"description\":\"Updated description\",\"domains\":[\"original.com\",\"another.com\"],\"id\":\"site-123\"}", "headers": {"Content-Type": "application/json"}, "method": "PUT"}

    Number of calls: 1

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-full max-w-2xl mx-auto p-6 bg-white rounded shadow"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-xl font-bold mb-6"[39m
              [33mdata-testid[39m=[32m"siteForm-header"[39m
              [33mid[39m=[32m"siteForm-header"[39m
            [36m>[39m
              [0mEdit[0m
              [0m Site[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mb-4 p-3 bg-green-100 text-green-700 rounded"[39m
              [33mdata-testid[39m=[32m"siteForm-success"[39m
              [33mrole[39m=[32m"alert"[39m
            [36m>[39m
              [0mSite updated successfully[0m
            [36m</div>[39m
            [36m<form[39m
              [33maria-labelledby[39m=[32m"siteForm-header"[39m
              [33mdata-testid[39m=[32m"siteForm-form"[39m
              [33mrole[39m=[32m"form"[39m
            [36m>[39m
              [36m<fieldset[39m
                [33mclass[39m=[32m"mb-6"[39m
                [33mdata-testid[39m=[32m"siteForm-fieldset"[39m
              [36m>[39m
                [36m<legend[39m
                  [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                  [33mdata-testid[39m=[32m"siteForm-basic-info-heading"[39m
                [36m>[39m
                  [0mBasic Information[0m
                [36m</legend>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-name"[39m
                  [36m>[39m
                    [0mSite Name *[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-name"[39m
                    [33mid[39m=[32m"siteForm-name"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"Existing Site"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-slug"[39m
                  [36m>[39m
                    [0mSlug * [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(URL-friendly name)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-slug"[39m
                    [33mid[39m=[32m"siteForm-slug"[39m
                    [33mname[39m=[32m"slug"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"existing-site"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium mb-1"[39m
                    [33mfor[39m=[32m"siteForm-description"[39m
                  [36m>[39m
                    [0mDescription [0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs text-gray-500"[39m
                    [36m>[39m
                      [0m(Optional)[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<textarea[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                    [33mdata-testid[39m=[32m"siteForm-description"[39m
                    [33mid[39m=[32m"siteForm-description"[39m
                    [33mname[39m=[32m"description"[39m
                    [33mrows[39m=[32m"3"[39m
                  [36m>[39m
                    [0mUpdated description[0m
                  [36m</textarea>[39m
                [36m</div>[39m
              [36m</fieldset>[39m
              [36m<fieldset[39m
                [33mclass[39m=[32m"mb-6"[39m
                [33mdata-testid[39m=[32m"siteForm-domains-fieldset"[39m
              [36m>[39m
                [36m<legend[39m
                  [33mclass[39m=[32m"text-lg font-semibold mb-3"[39m
                  [33mdata-testid[39m=[32m"siteForm-domains-heading"[39m
                [36m>[39m
                  [0mDomains[0m
                [36m</legend>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mCurrent Domains[0m
                  [36m</h3>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"mb-4 border rounded divide-y"[39m
                  [36m>[39m
                    [36m<li[39m
                      [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mdata-testid[39m=[32m"siteForm-domain-0"[39m
                      [36m>[39m
                        [0moriginal.com[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Remove domain original.com"[39m
                        [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                        [33mdata-testid[39m=[32m"siteForm-remove-domain-0"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"w-5 h-5"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"sr-only"[39m
                        [36m>[39m
                          [0mRemove[0m
                        [36m</span>[39m
                      [36m</button>[39m
                    [36m</li>[39m
                    [36m<li[39m
                      [33mclass[39m=[32m"flex justify-between items-center p-2 hover:bg-gray-50"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mdata-testid[39m=[32m"siteForm-domain-1"[39m
                      [36m>[39m
                        [0manother.com[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Remove domain another.com"[39m
                        [33mclass[39m=[32m"text-red-500 hover:text-red-700 p-1"[39m
                        [33mdata-testid[39m=[32m"siteForm-remove-domain-1"[39m
                        [33mtype[39m=[32m"button"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33mclass[39m=[32m"w-5 h-5"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18L18 6M6 6l12 12"[39m
                            [33mstroke-linecap[39m=[32m"round"[39m
                            [33mstroke-linejoin[39m=[32m"round"[39m
                            [33mstroke-width[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"sr-only"[39m
                        [36m>[39m
                          [0mRemove[0m
                        [36m</span>[39m
                      [36m</button>[39m
                    [36m</li>[39m
                  [36m</ul>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-md font-medium mb-2"[39m
                  [36m>[39m
                    [0mAdd Domain[0m
                  [36m</h3>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center"[39m
                  [36m>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"flex-grow p-2 border rounded focus:ring-2 focus:border-blue-500 border-gray-300"[39m
                      [33mdata-testid[39m=[32m"siteForm-new-domain"[39m
                      [33mid[39m=[32m"siteForm-new-domain"[39m
                      [33mname[39m=[32m"newDomain"[39m
                      [33mplaceholder[39m=[32m"Enter domain (e.g., example.com)"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"ml-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded flex-shrink-0"[39m
                      [33mdata-testid[39m=[32m"siteForm-add-domain"[39m
                      [33mdisabled[39m=[32m""[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0m+ Add[0m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-500 mt-2"[39m
                  [36m>[39m
                    [0mEnter valid domain names without http:// or www prefixes[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</fieldset>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-end space-x-3 mt-8"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded focus:outline-none focus:ring-2"[39m
                  [33mdata-testid[39m=[32m"siteForm-cancel"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded focus:outline-none focus:ring-2 disabled:opacity-50"[39m
                  [33mdata-testid[39m=[32m"siteForm-submit"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mUpdate Site[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

    [0m [90m 302 |[39m     [36mawait[39m waitFor(() [33m=>[39m {
     [90m 303 |[39m       expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 304 |[39m       expect(global[33m.[39mfetch)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 305 |[39m         [32m'/api/sites/site-123'[39m[33m,[39m
     [90m 306 |[39m         expect[33m.[39mobjectContaining({
     [90m 307 |[39m           method[33m:[39m [32m'PUT'[39m[33m,[39m[0m

      at toHaveBeenCalledWith (tests/admin/sites/SiteForm.test.tsx:304:28)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè SiteForm Component ‚Ä∫ handles API errors on submission

    expect(jest.fn()).not.toHaveBeenCalled()

    Expected number of calls: 0
    Received number of calls: 1

    1: "/admin/sites/site-1"

    [0m [90m 356 |[39m     
     [90m 357 |[39m     [90m// Router should not be called for redirect on error[39m
    [31m[1m>[22m[39m[90m 358 |[39m     expect(useRouter()[33m.[39mpush)[33m.[39mnot[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 359 |[39m   })[33m;[39m
     [90m 360 |[39m
     [90m 361 |[39m   it([32m'handles network errors on submission'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.toHaveBeenCalled (tests/admin/sites/SiteForm.test.tsx:358:34)


Test Suites: 65 failed, 52 passed, 117 total
Tests:       207 failed, 1 skipped, 556 passed, 764 total
Snapshots:   0 total
Time:        14.747 s
Ran all test suites.
